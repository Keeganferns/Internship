function N4(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Im={exports:{}},Mh={},Tm={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function S4(){if(Y1)return Xt;Y1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function x(re){return re===null||typeof re!="object"?null:(re=b&&re[b]||re["@@iterator"],typeof re=="function"?re:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function C(re,k,K){this.props=re,this.context=k,this.refs=O,this.updater=K||y}C.prototype.isReactComponent={},C.prototype.setState=function(re,k){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,k,"setState")},C.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function V(){}V.prototype=C.prototype;function Y(re,k,K){this.props=re,this.context=k,this.refs=O,this.updater=K||y}var Z=Y.prototype=new V;Z.constructor=Y,L(Z,C.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray,be=Object.prototype.hasOwnProperty,Re={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function R(re,k,K){var X,te={},ae=null,we=null;if(k!=null)for(X in k.ref!==void 0&&(we=k.ref),k.key!==void 0&&(ae=""+k.key),k)be.call(k,X)&&!W.hasOwnProperty(X)&&(te[X]=k[X]);var xe=arguments.length-2;if(xe===1)te.children=K;else if(1<xe){for(var Ne=Array(xe),qe=0;qe<xe;qe++)Ne[qe]=arguments[qe+2];te.children=Ne}if(re&&re.defaultProps)for(X in xe=re.defaultProps,xe)te[X]===void 0&&(te[X]=xe[X]);return{$$typeof:n,type:re,key:ae,ref:we,props:te,_owner:Re.current}}function B(re,k){return{$$typeof:n,type:re.type,key:k,ref:re.ref,props:re.props,_owner:re._owner}}function U(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function T(re){var k={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(K){return k[K]})}var j=/\/+/g;function D(re,k){return typeof re=="object"&&re!==null&&re.key!=null?T(""+re.key):k.toString(36)}function oe(re,k,K,X,te){var ae=typeof re;(ae==="undefined"||ae==="boolean")&&(re=null);var we=!1;if(re===null)we=!0;else switch(ae){case"string":case"number":we=!0;break;case"object":switch(re.$$typeof){case n:case e:we=!0}}if(we)return we=re,te=te(we),re=X===""?"."+D(we,0):X,ce(te)?(K="",re!=null&&(K=re.replace(j,"$&/")+"/"),oe(te,k,K,"",function(qe){return qe})):te!=null&&(U(te)&&(te=B(te,K+(!te.key||we&&we.key===te.key?"":(""+te.key).replace(j,"$&/")+"/")+re)),k.push(te)),1;if(we=0,X=X===""?".":X+":",ce(re))for(var xe=0;xe<re.length;xe++){ae=re[xe];var Ne=X+D(ae,xe);we+=oe(ae,k,K,Ne,te)}else if(Ne=x(re),typeof Ne=="function")for(re=Ne.call(re),xe=0;!(ae=re.next()).done;)ae=ae.value,Ne=X+D(ae,xe++),we+=oe(ae,k,K,Ne,te);else if(ae==="object")throw k=String(re),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return we}function Te(re,k,K){if(re==null)return re;var X=[],te=0;return oe(re,X,"","",function(ae){return k.call(K,ae,te++)}),X}function Ae(re){if(re._status===-1){var k=re._result;k=k(),k.then(function(K){(re._status===0||re._status===-1)&&(re._status=1,re._result=K)},function(K){(re._status===0||re._status===-1)&&(re._status=2,re._result=K)}),re._status===-1&&(re._status=0,re._result=k)}if(re._status===1)return re._result.default;throw re._result}var Pe={current:null},se={transition:null},_e={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:se,ReactCurrentOwner:Re};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Xt.Children={map:Te,forEach:function(re,k,K){Te(re,function(){k.apply(this,arguments)},K)},count:function(re){var k=0;return Te(re,function(){k++}),k},toArray:function(re){return Te(re,function(k){return k})||[]},only:function(re){if(!U(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},Xt.Component=C,Xt.Fragment=t,Xt.Profiler=s,Xt.PureComponent=Y,Xt.StrictMode=r,Xt.Suspense=d,Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Xt.act=pe,Xt.cloneElement=function(re,k,K){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var X=L({},re.props),te=re.key,ae=re.ref,we=re._owner;if(k!=null){if(k.ref!==void 0&&(ae=k.ref,we=Re.current),k.key!==void 0&&(te=""+k.key),re.type&&re.type.defaultProps)var xe=re.type.defaultProps;for(Ne in k)be.call(k,Ne)&&!W.hasOwnProperty(Ne)&&(X[Ne]=k[Ne]===void 0&&xe!==void 0?xe[Ne]:k[Ne])}var Ne=arguments.length-2;if(Ne===1)X.children=K;else if(1<Ne){xe=Array(Ne);for(var qe=0;qe<Ne;qe++)xe[qe]=arguments[qe+2];X.children=xe}return{$$typeof:n,type:re.type,key:te,ref:ae,props:X,_owner:we}},Xt.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:o,_context:re},re.Consumer=re},Xt.createElement=R,Xt.createFactory=function(re){var k=R.bind(null,re);return k.type=re,k},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(re){return{$$typeof:c,render:re}},Xt.isValidElement=U,Xt.lazy=function(re){return{$$typeof:w,_payload:{_status:-1,_result:re},_init:Ae}},Xt.memo=function(re,k){return{$$typeof:g,type:re,compare:k===void 0?null:k}},Xt.startTransition=function(re){var k=se.transition;se.transition={};try{re()}finally{se.transition=k}},Xt.unstable_act=pe,Xt.useCallback=function(re,k){return Pe.current.useCallback(re,k)},Xt.useContext=function(re){return Pe.current.useContext(re)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(re){return Pe.current.useDeferredValue(re)},Xt.useEffect=function(re,k){return Pe.current.useEffect(re,k)},Xt.useId=function(){return Pe.current.useId()},Xt.useImperativeHandle=function(re,k,K){return Pe.current.useImperativeHandle(re,k,K)},Xt.useInsertionEffect=function(re,k){return Pe.current.useInsertionEffect(re,k)},Xt.useLayoutEffect=function(re,k){return Pe.current.useLayoutEffect(re,k)},Xt.useMemo=function(re,k){return Pe.current.useMemo(re,k)},Xt.useReducer=function(re,k,K){return Pe.current.useReducer(re,k,K)},Xt.useRef=function(re){return Pe.current.useRef(re)},Xt.useState=function(re){return Pe.current.useState(re)},Xt.useSyncExternalStore=function(re,k,K){return Pe.current.useSyncExternalStore(re,k,K)},Xt.useTransition=function(){return Pe.current.useTransition()},Xt.version="18.3.1",Xt}var J1;function Vg(){return J1||(J1=1,Tm.exports=S4()),Tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function E4(){if(X1)return Mh;X1=1;var n=Vg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,g){var w,b={},x=null,y=null;g!==void 0&&(x=""+g),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(y=d.ref);for(w in d)r.call(d,w)&&!o.hasOwnProperty(w)&&(b[w]=d[w]);if(c&&c.defaultProps)for(w in d=c.defaultProps,d)b[w]===void 0&&(b[w]=d[w]);return{$$typeof:e,type:c,key:x,ref:y,props:b,_owner:s.current}}return Mh.Fragment=t,Mh.jsx=l,Mh.jsxs=l,Mh}var Z1;function A4(){return Z1||(Z1=1,Im.exports=E4()),Im.exports}var v=A4(),Le=Vg();const Ui=_5(Le),I4=N4({__proto__:null,default:Ui},[Le]);var hf={},Pm={exports:{}},Ns={},km={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function T4(){return e2||(e2=1,function(n){function e(se,_e){var pe=se.length;se.push(_e);e:for(;0<pe;){var re=pe-1>>>1,k=se[re];if(0<s(k,_e))se[re]=_e,se[pe]=k,pe=re;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var _e=se[0],pe=se.pop();if(pe!==_e){se[0]=pe;e:for(var re=0,k=se.length,K=k>>>1;re<K;){var X=2*(re+1)-1,te=se[X],ae=X+1,we=se[ae];if(0>s(te,pe))ae<k&&0>s(we,te)?(se[re]=we,se[ae]=pe,re=ae):(se[re]=te,se[X]=pe,re=X);else if(ae<k&&0>s(we,pe))se[re]=we,se[ae]=pe,re=ae;else break e}}return _e}function s(se,_e){var pe=se.sortIndex-_e.sortIndex;return pe!==0?pe:se.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],g=[],w=1,b=null,x=3,y=!1,L=!1,O=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(se){for(var _e=t(g);_e!==null;){if(_e.callback===null)r(g);else if(_e.startTime<=se)r(g),_e.sortIndex=_e.expirationTime,e(d,_e);else break;_e=t(g)}}function ce(se){if(O=!1,Z(se),!L)if(t(d)!==null)L=!0,Ae(be);else{var _e=t(g);_e!==null&&Pe(ce,_e.startTime-se)}}function be(se,_e){L=!1,O&&(O=!1,V(R),R=-1),y=!0;var pe=x;try{for(Z(_e),b=t(d);b!==null&&(!(b.expirationTime>_e)||se&&!T());){var re=b.callback;if(typeof re=="function"){b.callback=null,x=b.priorityLevel;var k=re(b.expirationTime<=_e);_e=n.unstable_now(),typeof k=="function"?b.callback=k:b===t(d)&&r(d),Z(_e)}else r(d);b=t(d)}if(b!==null)var K=!0;else{var X=t(g);X!==null&&Pe(ce,X.startTime-_e),K=!1}return K}finally{b=null,x=pe,y=!1}}var Re=!1,W=null,R=-1,B=5,U=-1;function T(){return!(n.unstable_now()-U<B)}function j(){if(W!==null){var se=n.unstable_now();U=se;var _e=!0;try{_e=W(!0,se)}finally{_e?D():(Re=!1,W=null)}}else Re=!1}var D;if(typeof Y=="function")D=function(){Y(j)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Te=oe.port2;oe.port1.onmessage=j,D=function(){Te.postMessage(null)}}else D=function(){C(j,0)};function Ae(se){W=se,Re||(Re=!0,D())}function Pe(se,_e){R=C(function(){se(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){L||y||(L=!0,Ae(be))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(se){switch(x){case 1:case 2:case 3:var _e=3;break;default:_e=x}var pe=x;x=_e;try{return se()}finally{x=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=x;x=se;try{return _e()}finally{x=pe}},n.unstable_scheduleCallback=function(se,_e,pe){var re=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?re+pe:re):pe=re,se){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,se={id:w++,callback:_e,priorityLevel:se,startTime:pe,expirationTime:k,sortIndex:-1},pe>re?(se.sortIndex=pe,e(g,se),t(d)===null&&se===t(g)&&(O?(V(R),R=-1):O=!0,Pe(ce,pe-re))):(se.sortIndex=k,e(d,se),L||y||(L=!0,Ae(be))),se},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(se){var _e=x;return function(){var pe=x;x=_e;try{return se.apply(this,arguments)}finally{x=pe}}}}(Cm)),Cm}var t2;function P4(){return t2||(t2=1,km.exports=T4()),km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function k4(){if(n2)return Ns;n2=1;var n=Vg(),e=P4();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function x(i){return d.call(b,i)?!0:d.call(w,i)?!1:g.test(i)?b[i]=!0:(w[i]=!0,!1)}function y(i,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function L(i,a,u,p){if(a===null||typeof a>"u"||y(i,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function O(i,a,u,p,N,A,q){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=N,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=A,this.removeEmptyString=q}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];C[a]=new O(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function Y(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(V,Y);C[a]=new O(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(V,Y);C[a]=new O(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(V,Y);C[a]=new O(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function Z(i,a,u,p){var N=C.hasOwnProperty(a)?C[a]:null;(N!==null?N.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(L(a,u,N,p)&&(u=null),p||N===null?x(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):N.mustUseProperty?i[N.propertyName]=u===null?N.type===3?!1:"":u:(a=N.attributeName,p=N.attributeNamespace,u===null?i.removeAttribute(a):(N=N.type,u=N===3||N===4&&u===!0?"":""+u,p?i.setAttributeNS(p,a,u):i.setAttribute(a,u))))}var ce=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),Re=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),T=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),se=Symbol.iterator;function _e(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Object.assign,re;function k(i){if(re===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);re=a&&a[1]||""}return`
`+re+i}var K=!1;function X(i,a){if(!i||K)return"";K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(je){var p=je}Reflect.construct(i,[],a)}else{try{a.call()}catch(je){p=je}i.call(a.prototype)}else{try{throw Error()}catch(je){p=je}i()}}catch(je){if(je&&p&&typeof je.stack=="string"){for(var N=je.stack.split(`
`),A=p.stack.split(`
`),q=N.length-1,ne=A.length-1;1<=q&&0<=ne&&N[q]!==A[ne];)ne--;for(;1<=q&&0<=ne;q--,ne--)if(N[q]!==A[ne]){if(q!==1||ne!==1)do if(q--,ne--,0>ne||N[q]!==A[ne]){var he=`
`+N[q].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=q&&0<=ne);break}}}finally{K=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?k(i):""}function te(i){switch(i.tag){case 5:return k(i.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return i=X(i.type,!1),i;case 11:return i=X(i.type.render,!1),i;case 1:return i=X(i.type,!0),i;default:return""}}function ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case W:return"Fragment";case Re:return"Portal";case B:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case oe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Consumer";case U:return(i._context.displayName||"Context")+".Provider";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return a=i.displayName||null,a!==null?a:ae(i.type)||"Memo";case Ae:a=i._payload,i=i._init;try{return ae(i(a))}catch{}}return null}function we(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qe(i){var a=Ne(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var N=u.get,A=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return N.call(this)},set:function(q){p=""+q,A.call(this,q)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(q){p=""+q},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function We(i){i._valueTracker||(i._valueTracker=qe(i))}function it(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return i&&(p=Ne(i)?i.checked?"true":"false":i.value),i=p,i!==u?(a.setValue(i),!0):!1}function et(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function xt(i,a){var u=a.checked;return pe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Fe(i,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=xe(a.value!=null?a.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ie(i,a){a=a.checked,a!=null&&Z(i,"checked",a,!1)}function Lt(i,a){ie(i,a);var u=xe(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ye(i,a.type,u):a.hasOwnProperty("defaultValue")&&Ye(i,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function pt(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ye(i,a,u){(a!=="number"||et(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Xe=Array.isArray;function tt(i,a,u,p){if(i=i.options,a){a={};for(var N=0;N<u.length;N++)a["$"+u[N]]=!0;for(u=0;u<i.length;u++)N=a.hasOwnProperty("$"+i[u].value),i[u].selected!==N&&(i[u].selected=N),N&&p&&(i[u].defaultSelected=!0)}else{for(u=""+xe(u),a=null,N=0;N<i.length;N++){if(i[N].value===u){i[N].selected=!0,p&&(i[N].defaultSelected=!0);return}a!==null||i[N].disabled||(a=i[N])}a!==null&&(a.selected=!0)}}function st(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vt(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Xe(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:xe(u)}}function Ct(i,a){var u=xe(a.value),p=xe(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Mt(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Kt,It=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,N){MSApp.execUnsafeLocalFunction(function(){return i(a,u,p,N)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Kt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Bt(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(i){$n.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),ot[a]=ot[i]})});function Qt(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||ot.hasOwnProperty(i)&&ot[i]?(""+a).trim():a+"px"}function ti(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,N=Qt(u,a[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,N):i[u]=N}}var un=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(i,a){if(a){if(un[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function wi(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=null;function ss(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var An=null,Wn=null,xr=null;function In(i){if(i=ql(i)){if(typeof An!="function")throw Error(t(280));var a=i.stateNode;a&&(a=qu(a),An(i.stateNode,i.type,a))}}function St(i){Wn?xr?xr.push(i):xr=[i]:Wn=i}function Zt(){if(Wn){var i=Wn,a=xr;if(xr=Wn=null,In(i),a)for(i=0;i<a.length;i++)In(a[i])}}function qi(i,a){return i(a)}function Xn(){}var br=!1;function _i(i,a,u){if(br)return i(a,u);br=!0;try{return qi(i,a,u)}finally{br=!1,(Wn!==null||xr!==null)&&(Xn(),Zt())}}function ct(i,a){var u=i.stateNode;if(u===null)return null;var p=qu(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Vr=!1;if(c)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Vr=!1}function ir(i,a,u,p,N,A,q,ne,he){var je=Array.prototype.slice.call(arguments,3);try{a.apply(u,je)}catch(Qe){this.onError(Qe)}}var Rn=!1,Ln=null,Mn=!1,Ys=null,Ts={onError:function(i){Rn=!0,Ln=i}};function Br(i,a,u,p,N,A,q,ne,he){Rn=!1,Ln=null,ir.apply(Ts,arguments)}function xi(i,a,u,p,N,A,q,ne,he){if(Br.apply(this,arguments),Rn){if(Rn){var je=Ln;Rn=!1,Ln=null}else throw Error(t(198));Mn||(Mn=!0,Ys=je)}}function Zn(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Ur(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Gn(i){if(Zn(i)!==i)throw Error(t(188))}function Hi(i){var a=i.alternate;if(!a){if(a=Zn(i),a===null)throw Error(t(188));return a!==i?null:i}for(var u=i,p=a;;){var N=u.return;if(N===null)break;var A=N.alternate;if(A===null){if(p=N.return,p!==null){u=p;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===u)return Gn(N),i;if(A===p)return Gn(N),a;A=A.sibling}throw Error(t(188))}if(u.return!==p.return)u=N,p=A;else{for(var q=!1,ne=N.child;ne;){if(ne===u){q=!0,u=N,p=A;break}if(ne===p){q=!0,p=N,u=A;break}ne=ne.sibling}if(!q){for(ne=A.child;ne;){if(ne===u){q=!0,u=A,p=N;break}if(ne===p){q=!0,p=A,u=N;break}ne=ne.sibling}if(!q)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:a}function Ps(i){return i=Hi(i),i!==null?ks(i):null}function ks(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ks(i);if(a!==null)return a;i=i.sibling}return null}var Cs=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,So=e.unstable_shouldYield,bl=e.unstable_requestPaint,Nn=e.unstable_now,Nl=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,Rs=e.unstable_UserBlockingPriority,bi=e.unstable_NormalPriority,Eo=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,Xs=null,ni=null;function Ao(i){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Xs,i,void 0,(i.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:za,jn=Math.log,Ua=Math.LN2;function za(i){return i>>>=0,i===0?32:31-(jn(i)/Ua|0)|0}var Io=64,Zs=4194304;function eo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Pr(i,a){var u=i.pendingLanes;if(u===0)return 0;var p=0,N=i.suspendedLanes,A=i.pingedLanes,q=u&268435455;if(q!==0){var ne=q&~N;ne!==0?p=eo(ne):(A&=q,A!==0&&(p=eo(A)))}else q=u&~N,q!==0?p=eo(q):A!==0&&(p=eo(A));if(p===0)return 0;if(a!==0&&a!==p&&(a&N)===0&&(N=p&-p,A=a&-a,N>=A||N===16&&(A&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)u=31-Tr(a),N=1<<u,p|=i[u],a&=~N;return p}function oa(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(i,a){for(var u=i.suspendedLanes,p=i.pingedLanes,N=i.expirationTimes,A=i.pendingLanes;0<A;){var q=31-Tr(A),ne=1<<q,he=N[q];he===-1?((ne&u)===0||(ne&p)!==0)&&(N[q]=oa(ne,a)):he<=a&&(i.expiredLanes|=ne),A&=~ne}}function kr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function to(){var i=Io;return Io<<=1,(Io&4194240)===0&&(Io=64),i}function no(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Ls(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Tr(a),i[a]=u}function vn(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var N=31-Tr(u),A=1<<N;a[N]=0,p[N]=-1,i[N]=-1,u&=~A}}function js(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var p=31-Tr(u),N=1<<p;N&a|i[p]&a&&(i[p]|=a),u&=~N}}var Wt=0;function as(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var El,aa,Al,ls,To,ro=!1,$i=[],rn=null,Wi=null,Ni=null,Et=new Map,Si=new Map,us=[],cs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qa(i,a){switch(i){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Et.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(a.pointerId)}}function Cr(i,a,u,p,N,A){return i===null||i.nativeEvent!==A?(i={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:A,targetContainers:[N]},a!==null&&(a=ql(a),a!==null&&aa(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,N!==null&&a.indexOf(N)===-1&&a.push(N),i)}function la(i,a,u,p,N){switch(a){case"focusin":return rn=Cr(rn,i,a,u,p,N),!0;case"dragenter":return Wi=Cr(Wi,i,a,u,p,N),!0;case"mouseover":return Ni=Cr(Ni,i,a,u,p,N),!0;case"pointerover":var A=N.pointerId;return Et.set(A,Cr(Et.get(A)||null,i,a,u,p,N)),!0;case"gotpointercapture":return A=N.pointerId,Si.set(A,Cr(Si.get(A)||null,i,a,u,p,N)),!0}return!1}function ua(i){var a=ya(i.target);if(a!==null){var u=Zn(a);if(u!==null){if(a=u.tag,a===13){if(a=Ur(u),a!==null){i.blockedOn=a,To(i.priority,function(){Al(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Os(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=ko(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);Yt=p,u.target.dispatchEvent(p),Yt=null}else return a=ql(u),a!==null&&aa(a),i.blockedOn=u,!1;a.shift()}return!0}function Po(i,a,u){Os(i)&&u.delete(a)}function Il(){ro=!1,rn!==null&&Os(rn)&&(rn=null),Wi!==null&&Os(Wi)&&(Wi=null),Ni!==null&&Os(Ni)&&(Ni=null),Et.forEach(Po),Si.forEach(Po)}function ri(i,a){i.blockedOn===a&&(i.blockedOn=null,ro||(ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Il)))}function Rr(i){function a(N){return ri(N,i)}if(0<$i.length){ri($i[0],i);for(var u=1;u<$i.length;u++){var p=$i[u];p.blockedOn===i&&(p.blockedOn=null)}}for(rn!==null&&ri(rn,i),Wi!==null&&ri(Wi,i),Ni!==null&&ri(Ni,i),Et.forEach(a),Si.forEach(a),u=0;u<us.length;u++)p=us[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<us.length&&(u=us[0],u.blockedOn===null);)ua(u),u.blockedOn===null&&us.shift()}var zr=ce.ReactCurrentBatchConfig,io=!0;function dn(i,a,u,p){var N=Wt,A=zr.transition;zr.transition=null;try{Wt=1,so(i,a,u,p)}finally{Wt=N,zr.transition=A}}function Ha(i,a,u,p){var N=Wt,A=zr.transition;zr.transition=null;try{Wt=4,so(i,a,u,p)}finally{Wt=N,zr.transition=A}}function so(i,a,u,p){if(io){var N=ko(i,a,u,p);if(N===null)Bu(i,a,p,oo,u),qa(i,p);else if(la(N,i,a,u,p))p.stopPropagation();else if(qa(i,p),a&4&&-1<cs.indexOf(i)){for(;N!==null;){var A=ql(N);if(A!==null&&El(A),A=ko(i,a,u,p),A===null&&Bu(i,a,p,oo,u),A===N)break;N=A}N!==null&&p.stopPropagation()}else Bu(i,a,p,null,u)}}var oo=null;function ko(i,a,u,p){if(oo=null,i=ss(p),i=ya(i),i!==null)if(a=Zn(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Ur(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return oo=i,null}function ca(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nl()){case os:return 1;case Rs:return 4;case bi:case Eo:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var qr=null,ii=null,Qn=null;function $a(){if(Qn)return Qn;var i,a=ii,u=a.length,p,N="value"in qr?qr.value:qr.textContent,A=N.length;for(i=0;i<u&&a[i]===N[i];i++);var q=u-i;for(p=1;p<=q&&a[u-p]===N[A-p];p++);return Qn=N.slice(i,1<p?1-p:void 0)}function Gi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function sr(){return!0}function Co(){return!1}function Vn(i){function a(u,p,N,A,q){this._reactName=u,this._targetInst=N,this.type=p,this.nativeEvent=A,this.target=q,this.currentTarget=null;for(var ne in i)i.hasOwnProperty(ne)&&(u=i[ne],this[ne]=u?u(A):A[ne]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?sr:Co,this.isPropagationStopped=Co,this}return pe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),a}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Vn(Ki),hs=pe({},Ki,{view:0,detail:0}),Wa=Vn(hs),ao,ds,Qi,Fs=pe({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qi&&(Qi&&i.type==="mousemove"?(ao=i.screenX-Qi.screenX,ds=i.screenY-Qi.screenY):ds=ao=0,Qi=i),ao)},movementY:function(i){return"movementY"in i?i.movementY:ds}}),lo=Vn(Fs),ha=pe({},Fs,{dataTransfer:0}),Tl=Vn(ha),Ms=pe({},hs,{relatedTarget:0}),fs=Vn(Ms),da=pe({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Vn(da),fa=pe({},Ki,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_=Vn(fa),M=pe({},Ki,{data:0}),ee=Vn(M),le={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},De={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $e(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=De[i])?!!a[i]:!1}function nt(){return $e}var f=pe({},hs,{key:function(i){if(i.key){var a=le[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Gi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ye[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nt,charCode:function(i){return i.type==="keypress"?Gi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),E=Vn(f),P=pe({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Vn(P),ge=pe({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nt}),ke=Vn(ge),Ge=pe({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ut=Vn(Ge),Jt=pe({},Fs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zt=Vn(Jt),fn=[9,13,27,32],yn=c&&"CompositionEvent"in window,si=null;c&&"documentMode"in document&&(si=document.documentMode);var Lr=c&&"TextEvent"in window&&!si,Vs=c&&(!yn||si&&8<si&&11>=si),Bs=" ",Pl=!1;function kl(i,a){switch(i){case"keyup":return fn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yn=!1;function Cl(i,a){switch(i){case"compositionend":return Ga(a);case"keypress":return a.which!==32?null:(Pl=!0,Bs);case"textInput":return i=a.data,i===Bs&&Pl?null:i;default:return null}}function Rl(i,a){if(Yn)return i==="compositionend"||!yn&&kl(i,a)?(i=$a(),Qn=ii=qr=null,Yn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vs&&a.locale!=="ko"?null:a.data;default:return null}}var Ll={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jl(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ll[i.type]:a==="textarea"}function oi(i,a,u,p){St(p),a=Sc(a,"onChange"),0<a.length&&(u=new Ds("onChange","change",null,u,p),i.push({event:u,listeners:a}))}var Ka=null,Ro=null;function xc(i){Mu(i,0)}function ai(i){var a=rl(i);if(it(a))return i}function Ol(i,a){if(i==="change")return a}var ju=!1;if(c){var Dl;if(c){var uo="oninput"in document;if(!uo){var pa=document.createElement("div");pa.setAttribute("oninput","return;"),uo=typeof pa.oninput=="function"}Dl=uo}else Dl=!1;ju=Dl&&(!document.documentMode||9<document.documentMode)}function li(){Ka&&(Ka.detachEvent("onpropertychange",$r),Ro=Ka=null)}function $r(i){if(i.propertyName==="value"&&ai(Ro)){var a=[];oi(a,Ro,i,ss(i)),_i(xc,a)}}function ma(i,a,u){i==="focusin"?(li(),Ka=a,Ro=u,Ka.attachEvent("onpropertychange",$r)):i==="focusout"&&li()}function Lo(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ai(Ro)}function jo(i,a){if(i==="click")return ai(a)}function Fl(i,a){if(i==="input"||i==="change")return ai(a)}function Oo(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var cn=typeof Object.is=="function"?Object.is:Oo;function Do(i,a){if(cn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var N=u[p];if(!d.call(a,N)||!cn(i[N],a[N]))return!1}return!0}function Wr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yi(i,a){var u=Wr(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=a&&p>=a)return{node:u,offset:a-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Wr(u)}}function Qa(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Qa(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Ou(){for(var i=window,a=et();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=et(i.document)}return a}function Ya(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Ja(i){var a=Ou(),u=i.focusedElem,p=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&Qa(u.ownerDocument.documentElement,u)){if(p!==null&&Ya(u)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var N=u.textContent.length,A=Math.min(p.start,N);p=p.end===void 0?A:Math.min(p.end,N),!i.extend&&A>p&&(N=p,p=A,A=N),N=Yi(u,A);var q=Yi(u,p);N&&q&&(i.rangeCount!==1||i.anchorNode!==N.node||i.anchorOffset!==N.offset||i.focusNode!==q.node||i.focusOffset!==q.offset)&&(a=a.createRange(),a.setStart(N.node,N.offset),i.removeAllRanges(),A>p?(i.addRange(a),i.extend(q.node,q.offset)):(a.setEnd(q.node,q.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Xa=c&&"documentMode"in document&&11>=document.documentMode,Ji=null,Fo=null,co=null,Mo=!1;function Vo(i,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mo||Ji==null||Ji!==et(p)||(p=Ji,"selectionStart"in p&&Ya(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),co&&Do(co,p)||(co=p,p=Sc(Fo,"onSelect"),0<p.length&&(a=new Ds("onSelect","select",null,a,u),i.push({event:a,listeners:p}),a.target=Ji)))}function ga(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var jr={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},Ei={},Tn={};c&&(Tn=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function wn(i){if(Ei[i])return Ei[i];if(!jr[i])return i;var a=jr[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in Tn)return Ei[i]=a[u];return i}var Jn=wn("animationend"),or=wn("animationiteration"),ho=wn("animationstart"),Ml=wn("transitionend"),Za=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(i,a){Za.set(i,a),o(a,[i])}for(var Vl=0;Vl<Du.length;Vl++){var ui=Du[Vl],ps=ui.toLowerCase(),bc=ui[0].toUpperCase()+ui.slice(1);fo(ps,"on"+bc)}fo(Jn,"onAnimationEnd"),fo(or,"onAnimationIteration"),fo(ho,"onAnimationStart"),fo("dblclick","onDoubleClick"),fo("focusin","onFocus"),fo("focusout","onBlur"),fo(Ml,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kd=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Fu(i,a,u){var p=i.type||"unknown-event";i.currentTarget=u,xi(p,a,void 0,i),i.currentTarget=null}function Mu(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],N=p.event;p=p.listeners;e:{var A=void 0;if(a)for(var q=p.length-1;0<=q;q--){var ne=p[q],he=ne.instance,je=ne.currentTarget;if(ne=ne.listener,he!==A&&N.isPropagationStopped())break e;Fu(N,ne,je),A=he}else for(q=0;q<p.length;q++){if(ne=p[q],he=ne.instance,je=ne.currentTarget,ne=ne.listener,he!==A&&N.isPropagationStopped())break e;Fu(N,ne,je),A=he}}}if(Mn)throw i=Ys,Mn=!1,Ys=null,i}function Pn(i,a){var u=a[Ii];u===void 0&&(u=a[Ii]=new Set);var p=i+"__bubble";u.has(p)||(Vu(a,i,2,!1),u.add(p))}function Nc(i,a,u){var p=0;a&&(p|=4),Vu(u,i,p,a)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[Bl]){i[Bl]=!0,r.forEach(function(u){u!=="selectionchange"&&(kd.has(u)||Nc(u,!1,i),Nc(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Bl]||(a[Bl]=!0,Nc("selectionchange",!1,a))}}function Vu(i,a,u,p){switch(ca(a)){case 1:var N=dn;break;case 4:N=Ha;break;default:N=so}u=N.bind(null,a,u,i),N=void 0,!Vr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(N=!0),p?N!==void 0?i.addEventListener(a,u,{capture:!0,passive:N}):i.addEventListener(a,u,!0):N!==void 0?i.addEventListener(a,u,{passive:N}):i.addEventListener(a,u,!1)}function Bu(i,a,u,p,N){var A=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var q=p.tag;if(q===3||q===4){var ne=p.stateNode.containerInfo;if(ne===N||ne.nodeType===8&&ne.parentNode===N)break;if(q===4)for(q=p.return;q!==null;){var he=q.tag;if((he===3||he===4)&&(he=q.stateNode.containerInfo,he===N||he.nodeType===8&&he.parentNode===N))return;q=q.return}for(;ne!==null;){if(q=ya(ne),q===null)return;if(he=q.tag,he===5||he===6){p=A=q;continue e}ne=ne.parentNode}}p=p.return}_i(function(){var je=A,Qe=ss(u),Je=[];e:{var Ke=Za.get(i);if(Ke!==void 0){var ht=Ds,mt=i;switch(i){case"keypress":if(Gi(u)===0)break e;case"keydown":case"keyup":ht=E;break;case"focusin":mt="focus",ht=fs;break;case"focusout":mt="blur",ht=fs;break;case"beforeblur":case"afterblur":ht=fs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=ke;break;case Jn:case or:case ho:ht=Hr;break;case Ml:ht=Ut;break;case"scroll":ht=Wa;break;case"wheel":ht=zt;break;case"copy":case"cut":case"paste":ht=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=G}var yt=(a&4)!==0,mr=!yt&&i==="scroll",Ie=yt?Ke!==null?Ke+"Capture":null:Ke;yt=[];for(var me=je,Ce;me!==null;){Ce=me;var Ze=Ce.stateNode;if(Ce.tag===5&&Ze!==null&&(Ce=Ze,Ie!==null&&(Ze=ct(me,Ie),Ze!=null&&yt.push(Uu(me,Ze,Ce)))),mr)break;me=me.return}0<yt.length&&(Ke=new ht(Ke,mt,null,u,Qe),Je.push({event:Ke,listeners:yt}))}}if((a&7)===0){e:{if(Ke=i==="mouseover"||i==="pointerover",ht=i==="mouseout"||i==="pointerout",Ke&&u!==Yt&&(mt=u.relatedTarget||u.fromElement)&&(ya(mt)||mt[Gr]))break e;if((ht||Ke)&&(Ke=Qe.window===Qe?Qe:(Ke=Qe.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,ht?(mt=u.relatedTarget||u.toElement,ht=je,mt=mt?ya(mt):null,mt!==null&&(mr=Zn(mt),mt!==mr||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ht=null,mt=je),ht!==mt)){if(yt=lo,Ze="onMouseLeave",Ie="onMouseEnter",me="mouse",(i==="pointerout"||i==="pointerover")&&(yt=G,Ze="onPointerLeave",Ie="onPointerEnter",me="pointer"),mr=ht==null?Ke:rl(ht),Ce=mt==null?Ke:rl(mt),Ke=new yt(Ze,me+"leave",ht,u,Qe),Ke.target=mr,Ke.relatedTarget=Ce,Ze=null,ya(Qe)===je&&(yt=new yt(Ie,me+"enter",mt,u,Qe),yt.target=Ce,yt.relatedTarget=mr,Ze=yt),mr=Ze,ht&&mt)t:{for(yt=ht,Ie=mt,me=0,Ce=yt;Ce;Ce=tl(Ce))me++;for(Ce=0,Ze=Ie;Ze;Ze=tl(Ze))Ce++;for(;0<me-Ce;)yt=tl(yt),me--;for(;0<Ce-me;)Ie=tl(Ie),Ce--;for(;me--;){if(yt===Ie||Ie!==null&&yt===Ie.alternate)break t;yt=tl(yt),Ie=tl(Ie)}yt=null}else yt=null;ht!==null&&Cd(Je,Ke,ht,yt,!1),mt!==null&&mr!==null&&Cd(Je,mr,mt,yt,!0)}}e:{if(Ke=je?rl(je):window,ht=Ke.nodeName&&Ke.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Ke.type==="file")var wt=Ol;else if(jl(Ke))if(ju)wt=Fl;else{wt=Lo;var Pt=ma}else(ht=Ke.nodeName)&&ht.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(wt=jo);if(wt&&(wt=wt(i,je))){oi(Je,wt,u,Qe);break e}Pt&&Pt(i,Ke,je),i==="focusout"&&(Pt=Ke._wrapperState)&&Pt.controlled&&Ke.type==="number"&&Ye(Ke,"number",Ke.value)}switch(Pt=je?rl(je):window,i){case"focusin":(jl(Pt)||Pt.contentEditable==="true")&&(Ji=Pt,Fo=je,co=null);break;case"focusout":co=Fo=Ji=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Vo(Je,u,Qe);break;case"selectionchange":if(Xa)break;case"keydown":case"keyup":Vo(Je,u,Qe)}var kt;if(yn)e:{switch(i){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Yn?kl(i,u)&&(Vt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Vt="onCompositionStart");Vt&&(Vs&&u.locale!=="ko"&&(Yn||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Yn&&(kt=$a()):(qr=Qe,ii="value"in qr?qr.value:qr.textContent,Yn=!0)),Pt=Sc(je,Vt),0<Pt.length&&(Vt=new ee(Vt,i,null,u,Qe),Je.push({event:Vt,listeners:Pt}),kt?Vt.data=kt:(kt=Ga(u),kt!==null&&(Vt.data=kt)))),(kt=Lr?Cl(i,u):Rl(i,u))&&(je=Sc(je,"onBeforeInput"),0<je.length&&(Qe=new ee("onBeforeInput","beforeinput",null,u,Qe),Je.push({event:Qe,listeners:je}),Qe.data=kt))}Mu(Je,a)})}function Uu(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Sc(i,a){for(var u=a+"Capture",p=[];i!==null;){var N=i,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=ct(i,u),A!=null&&p.unshift(Uu(i,A,N)),A=ct(i,a),A!=null&&p.push(Uu(i,A,N))),i=i.return}return p}function tl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Cd(i,a,u,p,N){for(var A=a._reactName,q=[];u!==null&&u!==p;){var ne=u,he=ne.alternate,je=ne.stateNode;if(he!==null&&he===p)break;ne.tag===5&&je!==null&&(ne=je,N?(he=ct(u,A),he!=null&&q.unshift(Uu(u,he,ne))):N||(he=ct(u,A),he!=null&&q.push(Uu(u,he,ne)))),u=u.return}q.length!==0&&i.push({event:a,listeners:q})}var Up=/\r\n?/g,zp=/\u0000|\uFFFD/g;function Rd(i){return(typeof i=="string"?i:""+i).replace(Up,`
`).replace(zp,"")}function Ec(i,a,u){if(a=Rd(a),Rd(i)!==a&&u)throw Error(t(425))}function Ul(){}var zu=null,nl=null;function xh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,Ld=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(i){return jd.resolve(null).then(i).catch(Hp)}:bh;function Hp(i){setTimeout(function(){throw i})}function Nh(i,a){var u=a,p=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(p===0){i.removeChild(N),Rr(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=N}while(u);Rr(a)}function ci(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function ms(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),po="__reactFiber$"+Ai,zl="__reactProps$"+Ai,Gr="__reactContainer$"+Ai,Ii="__reactEvents$"+Ai,$p="__reactListeners$"+Ai,Wp="__reactHandles$"+Ai;function ya(i){var a=i[po];if(a)return a;for(var u=i.parentNode;u;){if(a=u[Gr]||u[po]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=ms(i);i!==null;){if(u=i[po])return u;i=ms(i)}return a}i=u,u=i.parentNode}return null}function ql(i){return i=i[po]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function rl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function qu(i){return i[zl]||null}var Sh=[],Bo=-1;function Us(i){return{current:i}}function _n(i){0>Bo||(i.current=Sh[Bo],Sh[Bo]=null,Bo--)}function Sn(i,a){Bo++,Sh[Bo]=i.current,i.current=a}var wa={},Or=Us(wa),Ti=Us(!1),il=wa;function Hl(i,a){var u=i.type.contextTypes;if(!u)return wa;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in u)N[A]=a[A];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=N),N}function Pi(i){return i=i.childContextTypes,i!=null}function Ac(){_n(Ti),_n(Or)}function Od(i,a,u){if(Or.current!==wa)throw Error(t(168));Sn(Or,a),Sn(Ti,u)}function Eh(i,a,u){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var N in p)if(!(N in a))throw Error(t(108,we(i)||"Unknown",N));return pe({},u,p)}function sl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wa,il=Or.current,Sn(Or,i),Sn(Ti,Ti.current),!0}function Dd(i,a,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=Eh(i,a,il),p.__reactInternalMemoizedMergedChildContext=i,_n(Ti),_n(Or),Sn(Or,i)):_n(Ti),Sn(Ti,u)}var Uo=null,Hu=!1,h=!1;function m(i){Uo===null?Uo=[i]:Uo.push(i)}function S(i){Hu=!0,m(i)}function I(){if(!h&&Uo!==null){h=!0;var i=0,a=Wt;try{var u=Uo;for(Wt=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Uo=null,Hu=!1}catch(N){throw Uo!==null&&(Uo=Uo.slice(i+1)),Cs(os,I),N}finally{Wt=a,h=!1}}return null}var F=[],z=0,H=null,$=0,Q=[],J=0,ue=null,Se=1,Ee="";function ve(i,a){F[z++]=$,F[z++]=H,H=i,$=a}function ze(i,a,u){Q[J++]=Se,Q[J++]=Ee,Q[J++]=ue,ue=i;var p=Se;i=Ee;var N=32-Tr(p)-1;p&=~(1<<N),u+=1;var A=32-Tr(a)+N;if(30<A){var q=N-N%5;A=(p&(1<<q)-1).toString(32),p>>=q,N-=q,Se=1<<32-Tr(a)+N|u<<N|p,Ee=A+i}else Se=1<<A|u<<N|p,Ee=i}function Oe(i){i.return!==null&&(ve(i,1),ze(i,1,0))}function de(i){for(;i===H;)H=F[--z],F[z]=null,$=F[--z],F[z]=null;for(;i===ue;)ue=Q[--J],Q[J]=null,Ee=Q[--J],Q[J]=null,Se=Q[--J],Q[J]=null}var fe=null,Ve=null,Me=!1,Be=null;function ut(i,a){var u=_o(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function rt(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,fe=i,Ve=ci(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,fe=i,Ve=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ue!==null?{id:Se,overflow:Ee}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=_o(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,fe=i,Ve=null,!0):!1;default:return!1}}function bt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function at(i){if(Me){var a=Ve;if(a){var u=a;if(!rt(i,a)){if(bt(i))throw Error(t(418));a=ci(u.nextSibling);var p=fe;a&&rt(i,a)?ut(p,u):(i.flags=i.flags&-4097|2,Me=!1,fe=i)}}else{if(bt(i))throw Error(t(418));i.flags=i.flags&-4097|2,Me=!1,fe=i}}}function sn(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fe=i}function on(i){if(i!==fe)return!1;if(!Me)return sn(i),Me=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!xh(i.type,i.memoizedProps)),a&&(a=Ve)){if(bt(i))throw en(),Error(t(418));for(;a;)ut(i,a),a=ci(a.nextSibling)}if(sn(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){Ve=ci(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}Ve=null}}else Ve=fe?ci(i.stateNode.nextSibling):null;return!0}function en(){for(var i=Ve;i;)i=ci(i.nextSibling)}function $t(){Ve=fe=null,Me=!1}function xn(i){Be===null?Be=[i]:Be.push(i)}var En=ce.ReactCurrentBatchConfig;function Ft(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var N=p,A=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function(q){var ne=N.refs;q===null?delete ne[A]:ne[A]=q},a._stringRef=A,a)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Bn(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function hi(i){var a=i._init;return a(i._payload)}function er(i){function a(Ie,me){if(i){var Ce=Ie.deletions;Ce===null?(Ie.deletions=[me],Ie.flags|=16):Ce.push(me)}}function u(Ie,me){if(!i)return null;for(;me!==null;)a(Ie,me),me=me.sibling;return null}function p(Ie,me){for(Ie=new Map;me!==null;)me.key!==null?Ie.set(me.key,me):Ie.set(me.index,me),me=me.sibling;return Ie}function N(Ie,me){return Ie=nu(Ie,me),Ie.index=0,Ie.sibling=null,Ie}function A(Ie,me,Ce){return Ie.index=Ce,i?(Ce=Ie.alternate,Ce!==null?(Ce=Ce.index,Ce<me?(Ie.flags|=2,me):Ce):(Ie.flags|=2,me)):(Ie.flags|=1048576,me)}function q(Ie){return i&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ne(Ie,me,Ce,Ze){return me===null||me.tag!==6?(me=xm(Ce,Ie.mode,Ze),me.return=Ie,me):(me=N(me,Ce),me.return=Ie,me)}function he(Ie,me,Ce,Ze){var wt=Ce.type;return wt===W?Qe(Ie,me,Ce.props.children,Ze,Ce.key):me!==null&&(me.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ae&&hi(wt)===me.type)?(Ze=N(me,Ce.props),Ze.ref=Ft(Ie,me,Ce),Ze.return=Ie,Ze):(Ze=nf(Ce.type,Ce.key,Ce.props,null,Ie.mode,Ze),Ze.ref=Ft(Ie,me,Ce),Ze.return=Ie,Ze)}function je(Ie,me,Ce,Ze){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ce.containerInfo||me.stateNode.implementation!==Ce.implementation?(me=bm(Ce,Ie.mode,Ze),me.return=Ie,me):(me=N(me,Ce.children||[]),me.return=Ie,me)}function Qe(Ie,me,Ce,Ze,wt){return me===null||me.tag!==7?(me=Xu(Ce,Ie.mode,Ze,wt),me.return=Ie,me):(me=N(me,Ce),me.return=Ie,me)}function Je(Ie,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number")return me=xm(""+me,Ie.mode,Ce),me.return=Ie,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case be:return Ce=nf(me.type,me.key,me.props,null,Ie.mode,Ce),Ce.ref=Ft(Ie,null,me),Ce.return=Ie,Ce;case Re:return me=bm(me,Ie.mode,Ce),me.return=Ie,me;case Ae:var Ze=me._init;return Je(Ie,Ze(me._payload),Ce)}if(Xe(me)||_e(me))return me=Xu(me,Ie.mode,Ce,null),me.return=Ie,me;Bn(Ie,me)}return null}function Ke(Ie,me,Ce,Ze){var wt=me!==null?me.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return wt!==null?null:ne(Ie,me,""+Ce,Ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case be:return Ce.key===wt?he(Ie,me,Ce,Ze):null;case Re:return Ce.key===wt?je(Ie,me,Ce,Ze):null;case Ae:return wt=Ce._init,Ke(Ie,me,wt(Ce._payload),Ze)}if(Xe(Ce)||_e(Ce))return wt!==null?null:Qe(Ie,me,Ce,Ze,null);Bn(Ie,Ce)}return null}function ht(Ie,me,Ce,Ze,wt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ie=Ie.get(Ce)||null,ne(me,Ie,""+Ze,wt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case be:return Ie=Ie.get(Ze.key===null?Ce:Ze.key)||null,he(me,Ie,Ze,wt);case Re:return Ie=Ie.get(Ze.key===null?Ce:Ze.key)||null,je(me,Ie,Ze,wt);case Ae:var Pt=Ze._init;return ht(Ie,me,Ce,Pt(Ze._payload),wt)}if(Xe(Ze)||_e(Ze))return Ie=Ie.get(Ce)||null,Qe(me,Ie,Ze,wt,null);Bn(me,Ze)}return null}function mt(Ie,me,Ce,Ze){for(var wt=null,Pt=null,kt=me,Vt=me=0,Jr=null;kt!==null&&Vt<Ce.length;Vt++){kt.index>Vt?(Jr=kt,kt=null):Jr=kt.sibling;var gn=Ke(Ie,kt,Ce[Vt],Ze);if(gn===null){kt===null&&(kt=Jr);break}i&&kt&&gn.alternate===null&&a(Ie,kt),me=A(gn,me,Vt),Pt===null?wt=gn:Pt.sibling=gn,Pt=gn,kt=Jr}if(Vt===Ce.length)return u(Ie,kt),Me&&ve(Ie,Vt),wt;if(kt===null){for(;Vt<Ce.length;Vt++)kt=Je(Ie,Ce[Vt],Ze),kt!==null&&(me=A(kt,me,Vt),Pt===null?wt=kt:Pt.sibling=kt,Pt=kt);return Me&&ve(Ie,Vt),wt}for(kt=p(Ie,kt);Vt<Ce.length;Vt++)Jr=ht(kt,Ie,Vt,Ce[Vt],Ze),Jr!==null&&(i&&Jr.alternate!==null&&kt.delete(Jr.key===null?Vt:Jr.key),me=A(Jr,me,Vt),Pt===null?wt=Jr:Pt.sibling=Jr,Pt=Jr);return i&&kt.forEach(function(ru){return a(Ie,ru)}),Me&&ve(Ie,Vt),wt}function yt(Ie,me,Ce,Ze){var wt=_e(Ce);if(typeof wt!="function")throw Error(t(150));if(Ce=wt.call(Ce),Ce==null)throw Error(t(151));for(var Pt=wt=null,kt=me,Vt=me=0,Jr=null,gn=Ce.next();kt!==null&&!gn.done;Vt++,gn=Ce.next()){kt.index>Vt?(Jr=kt,kt=null):Jr=kt.sibling;var ru=Ke(Ie,kt,gn.value,Ze);if(ru===null){kt===null&&(kt=Jr);break}i&&kt&&ru.alternate===null&&a(Ie,kt),me=A(ru,me,Vt),Pt===null?wt=ru:Pt.sibling=ru,Pt=ru,kt=Jr}if(gn.done)return u(Ie,kt),Me&&ve(Ie,Vt),wt;if(kt===null){for(;!gn.done;Vt++,gn=Ce.next())gn=Je(Ie,gn.value,Ze),gn!==null&&(me=A(gn,me,Vt),Pt===null?wt=gn:Pt.sibling=gn,Pt=gn);return Me&&ve(Ie,Vt),wt}for(kt=p(Ie,kt);!gn.done;Vt++,gn=Ce.next())gn=ht(kt,Ie,Vt,gn.value,Ze),gn!==null&&(i&&gn.alternate!==null&&kt.delete(gn.key===null?Vt:gn.key),me=A(gn,me,Vt),Pt===null?wt=gn:Pt.sibling=gn,Pt=gn);return i&&kt.forEach(function(b4){return a(Ie,b4)}),Me&&ve(Ie,Vt),wt}function mr(Ie,me,Ce,Ze){if(typeof Ce=="object"&&Ce!==null&&Ce.type===W&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case be:e:{for(var wt=Ce.key,Pt=me;Pt!==null;){if(Pt.key===wt){if(wt=Ce.type,wt===W){if(Pt.tag===7){u(Ie,Pt.sibling),me=N(Pt,Ce.props.children),me.return=Ie,Ie=me;break e}}else if(Pt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ae&&hi(wt)===Pt.type){u(Ie,Pt.sibling),me=N(Pt,Ce.props),me.ref=Ft(Ie,Pt,Ce),me.return=Ie,Ie=me;break e}u(Ie,Pt);break}else a(Ie,Pt);Pt=Pt.sibling}Ce.type===W?(me=Xu(Ce.props.children,Ie.mode,Ze,Ce.key),me.return=Ie,Ie=me):(Ze=nf(Ce.type,Ce.key,Ce.props,null,Ie.mode,Ze),Ze.ref=Ft(Ie,me,Ce),Ze.return=Ie,Ie=Ze)}return q(Ie);case Re:e:{for(Pt=Ce.key;me!==null;){if(me.key===Pt)if(me.tag===4&&me.stateNode.containerInfo===Ce.containerInfo&&me.stateNode.implementation===Ce.implementation){u(Ie,me.sibling),me=N(me,Ce.children||[]),me.return=Ie,Ie=me;break e}else{u(Ie,me);break}else a(Ie,me);me=me.sibling}me=bm(Ce,Ie.mode,Ze),me.return=Ie,Ie=me}return q(Ie);case Ae:return Pt=Ce._init,mr(Ie,me,Pt(Ce._payload),Ze)}if(Xe(Ce))return mt(Ie,me,Ce,Ze);if(_e(Ce))return yt(Ie,me,Ce,Ze);Bn(Ie,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,me!==null&&me.tag===6?(u(Ie,me.sibling),me=N(me,Ce),me.return=Ie,Ie=me):(u(Ie,me),me=xm(Ce,Ie.mode,Ze),me.return=Ie,Ie=me),q(Ie)):u(Ie,me)}return mr}var dr=er(!0),pn=er(!1),Kr=Us(null),Qr=null,Un=null,fr=null;function Dr(){fr=Un=Qr=null}function ki(i){var a=Kr.current;_n(Kr),i._currentValue=a}function gs(i,a,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===u)break;i=i.return}}function zn(i,a){Qr=i,fr=Un=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(_s=!0),i.firstContext=null)}function ar(i){var a=i._currentValue;if(fr!==i)if(i={context:i,memoizedValue:a,next:null},Un===null){if(Qr===null)throw Error(t(308));Un=i,Qr.dependencies={lanes:0,firstContext:i}}else Un=Un.next=i;return a}var Xi=null;function _a(i){Xi===null?Xi=[i]:Xi.push(i)}function zo(i,a,u,p){var N=a.interleaved;return N===null?(u.next=u,_a(a)):(u.next=N.next,N.next=u),a.interleaved=u,mn(i,p)}function mn(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var mo=!1;function Ic(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function ys(i,a,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(hn&2)!==0){var N=p.pending;return N===null?a.next=a:(a.next=N.next,N.next=a),p.pending=a,mn(i,u)}return N=p.interleaved,N===null?(a.next=a,_a(p)):(a.next=N.next,N.next=a),p.interleaved=a,mn(i,u)}function ol(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,js(i,u)}}function ws(i,a){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var N=null,A=null;if(u=u.firstBaseUpdate,u!==null){do{var q={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};A===null?N=A=q:A=A.next=q,u=u.next}while(u!==null);A===null?N=A=a:A=A.next=a}else N=A=a;u={baseState:p.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function qo(i,a,u,p){var N=i.updateQueue;mo=!1;var A=N.firstBaseUpdate,q=N.lastBaseUpdate,ne=N.shared.pending;if(ne!==null){N.shared.pending=null;var he=ne,je=he.next;he.next=null,q===null?A=je:q.next=je,q=he;var Qe=i.alternate;Qe!==null&&(Qe=Qe.updateQueue,ne=Qe.lastBaseUpdate,ne!==q&&(ne===null?Qe.firstBaseUpdate=je:ne.next=je,Qe.lastBaseUpdate=he))}if(A!==null){var Je=N.baseState;q=0,Qe=je=he=null,ne=A;do{var Ke=ne.lane,ht=ne.eventTime;if((p&Ke)===Ke){Qe!==null&&(Qe=Qe.next={eventTime:ht,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var mt=i,yt=ne;switch(Ke=a,ht=u,yt.tag){case 1:if(mt=yt.payload,typeof mt=="function"){Je=mt.call(ht,Je,Ke);break e}Je=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=yt.payload,Ke=typeof mt=="function"?mt.call(ht,Je,Ke):mt,Ke==null)break e;Je=pe({},Je,Ke);break e;case 2:mo=!0}}ne.callback!==null&&ne.lane!==0&&(i.flags|=64,Ke=N.effects,Ke===null?N.effects=[ne]:Ke.push(ne))}else ht={eventTime:ht,lane:Ke,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Qe===null?(je=Qe=ht,he=Je):Qe=Qe.next=ht,q|=Ke;if(ne=ne.next,ne===null){if(ne=N.shared.pending,ne===null)break;Ke=ne,ne=Ke.next,Ke.next=null,N.lastBaseUpdate=Ke,N.shared.pending=null}}while(!0);if(Qe===null&&(he=Je),N.baseState=he,N.firstBaseUpdate=je,N.lastBaseUpdate=Qe,a=N.shared.interleaved,a!==null){N=a;do q|=N.lane,N=N.next;while(N!==a)}else A===null&&(N.shared.lanes=0);Ku|=q,i.lanes=q,i.memoizedState=Je}}function al(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],N=p.callback;if(N!==null){if(p.callback=null,p=u,typeof N!="function")throw Error(t(191,N));N.call(p)}}}var $l={},Zi=Us($l),Wl=Us($l),xa=Us($l);function Ho(i){if(i===$l)throw Error(t(174));return i}function Gl(i,a){switch(Sn(xa,a),Sn(Wl,i),Sn(Zi,$l),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:At(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=At(a,i)}_n(Zi),Sn(Zi,a)}function go(){_n(Zi),_n(Wl),_n(xa)}function Fd(i){Ho(xa.current);var a=Ho(Zi.current),u=At(a,i.type);a!==u&&(Sn(Wl,i),Sn(Zi,u))}function Ih(i){Wl.current===i&&(_n(Zi),_n(Wl))}var On=Us(0);function zs(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Th=[];function Ph(){for(var i=0;i<Th.length;i++)Th[i]._workInProgressVersionPrimary=null;Th.length=0}var Tc=ce.ReactCurrentDispatcher,Pc=ce.ReactCurrentBatchConfig,vo=0,Fn=null,lr=null,tr=null,Kl=!1,$o=!1,Ql=0,Gp=0;function pr(){throw Error(t(321))}function kc(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!cn(i[u],a[u]))return!1;return!0}function $u(i,a,u,p,N,A){if(vo=A,Fn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Tc.current=i===null||i.memoizedState===null?K_:Q_,i=u(p,N),$o){A=0;do{if($o=!1,Ql=0,25<=A)throw Error(t(301));A+=1,tr=lr=null,a.updateQueue=null,Tc.current=Y_,i=u(p,N)}while($o)}if(Tc.current=zd,a=lr!==null&&lr.next!==null,vo=0,tr=lr=Fn=null,Kl=!1,a)throw Error(t(300));return i}function yo(){var i=Ql!==0;return Ql=0,i}function qs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Fn.memoizedState=tr=i:tr=tr.next=i,tr}function es(){if(lr===null){var i=Fn.alternate;i=i!==null?i.memoizedState:null}else i=lr.next;var a=tr===null?Fn.memoizedState:tr.next;if(a!==null)tr=a,lr=i;else{if(i===null)throw Error(t(310));lr=i,i={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},tr===null?Fn.memoizedState=tr=i:tr=tr.next=i}return tr}function Wu(i,a){return typeof a=="function"?a(i):a}function Cc(i){var a=es(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=lr,N=p.baseQueue,A=u.pending;if(A!==null){if(N!==null){var q=N.next;N.next=A.next,A.next=q}p.baseQueue=N=A,u.pending=null}if(N!==null){A=N.next,p=p.baseState;var ne=q=null,he=null,je=A;do{var Qe=je.lane;if((vo&Qe)===Qe)he!==null&&(he=he.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),p=je.hasEagerState?je.eagerState:i(p,je.action);else{var Je={lane:Qe,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};he===null?(ne=he=Je,q=p):he=he.next=Je,Fn.lanes|=Qe,Ku|=Qe}je=je.next}while(je!==null&&je!==A);he===null?q=p:he.next=ne,cn(p,a.memoizedState)||(_s=!0),a.memoizedState=p,a.baseState=q,a.baseQueue=he,u.lastRenderedState=p}if(i=u.interleaved,i!==null){N=i;do A=N.lane,Fn.lanes|=A,Ku|=A,N=N.next;while(N!==i)}else N===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function ba(i){var a=es(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,N=u.pending,A=a.memoizedState;if(N!==null){u.pending=null;var q=N=N.next;do A=i(A,q.action),q=q.next;while(q!==N);cn(A,a.memoizedState)||(_s=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),u.lastRenderedState=A}return[A,p]}function Md(){}function kh(i,a){var u=Fn,p=es(),N=a(),A=!cn(p.memoizedState,N);if(A&&(p.memoizedState=N,_s=!0),p=p.queue,jc(Bd.bind(null,u,p,i),[i]),p.getSnapshot!==a||A||tr!==null&&tr.memoizedState.tag&1){if(u.flags|=2048,ts(9,Ch.bind(null,u,p,N,a),void 0,null),Yr===null)throw Error(t(349));(vo&30)!==0||Vd(u,a,N)}return N}function Vd(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Fn.updateQueue,a===null?(a={lastEffect:null,stores:null},Fn.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Ch(i,a,u,p){a.value=u,a.getSnapshot=p,Yl(a)&&Rc(i)}function Bd(i,a,u){return u(function(){Yl(a)&&Rc(i)})}function Yl(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!cn(i,u)}catch{return!0}}function Rc(i){var a=mn(i,1);a!==null&&Yo(a,i,1,-1)}function Gu(i){var a=qs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:i},a.queue=i,i=i.dispatch=G_.bind(null,Fn,i),[a.memoizedState,i]}function ts(i,a,u,p){return i={tag:i,create:a,destroy:u,deps:p,next:null},a=Fn.updateQueue,a===null?(a={lastEffect:null,stores:null},Fn.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,a.lastEffect=i)),i}function Wo(){return es().memoizedState}function Hs(i,a,u,p){var N=qs();Fn.flags|=i,N.memoizedState=ts(1|a,u,void 0,p===void 0?null:p)}function ll(i,a,u,p){var N=es();p=p===void 0?null:p;var A=void 0;if(lr!==null){var q=lr.memoizedState;if(A=q.destroy,p!==null&&kc(p,q.deps)){N.memoizedState=ts(a,u,A,p);return}}Fn.flags|=i,N.memoizedState=ts(1|a,u,A,p)}function Lc(i,a){return Hs(8390656,8,i,a)}function jc(i,a){return ll(2048,8,i,a)}function Ud(i,a){return ll(4,2,i,a)}function Oc(i,a){return ll(4,4,i,a)}function Dc(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function K0(i,a,u){return u=u!=null?u.concat([i]):null,ll(4,4,Dc.bind(null,a,i),u)}function Kp(){}function Q0(i,a){var u=es();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&kc(a,p[1])?p[0]:(u.memoizedState=[i,a],i)}function Y0(i,a){var u=es();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&kc(a,p[1])?p[0]:(i=i(),u.memoizedState=[i,a],i)}function J0(i,a,u){return(vo&21)===0?(i.baseState&&(i.baseState=!1,_s=!0),i.memoizedState=u):(cn(u,a)||(u=to(),Fn.lanes|=u,Ku|=u,i.baseState=!0),a)}function $_(i,a){var u=Wt;Wt=u!==0&&4>u?u:4,i(!0);var p=Pc.transition;Pc.transition={};try{i(!1),a()}finally{Wt=u,Pc.transition=p}}function X0(){return es().memoizedState}function W_(i,a,u){var p=eu(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Z0(i))e1(a,u);else if(u=zo(i,a,u,p),u!==null){var N=rs();Yo(u,i,p,N),t1(u,a,p)}}function G_(i,a,u){var p=eu(i),N={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Z0(i))e1(a,N);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var q=a.lastRenderedState,ne=A(q,u);if(N.hasEagerState=!0,N.eagerState=ne,cn(ne,q)){var he=a.interleaved;he===null?(N.next=N,_a(a)):(N.next=he.next,he.next=N),a.interleaved=N;return}}catch{}finally{}u=zo(i,a,N,p),u!==null&&(N=rs(),Yo(u,i,p,N),t1(u,a,p))}}function Z0(i){var a=i.alternate;return i===Fn||a!==null&&a===Fn}function e1(i,a){$o=Kl=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function t1(i,a,u){if((u&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,js(i,u)}}var zd={readContext:ar,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},K_={readContext:ar,useCallback:function(i,a){return qs().memoizedState=[i,a===void 0?null:a],i},useContext:ar,useEffect:Lc,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Hs(4194308,4,Dc.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Hs(4194308,4,i,a)},useInsertionEffect:function(i,a){return Hs(4,2,i,a)},useMemo:function(i,a){var u=qs();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var p=qs();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=W_.bind(null,Fn,i),[p.memoizedState,i]},useRef:function(i){var a=qs();return i={current:i},a.memoizedState=i},useState:Gu,useDebugValue:Kp,useDeferredValue:function(i){return qs().memoizedState=i},useTransition:function(){var i=Gu(!1),a=i[0];return i=$_.bind(null,i[1]),qs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var p=Fn,N=qs();if(Me){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Yr===null)throw Error(t(349));(vo&30)!==0||Vd(p,a,u)}N.memoizedState=u;var A={value:u,getSnapshot:a};return N.queue=A,Lc(Bd.bind(null,p,A,i),[i]),p.flags|=2048,ts(9,Ch.bind(null,p,A,u,a),void 0,null),u},useId:function(){var i=qs(),a=Yr.identifierPrefix;if(Me){var u=Ee,p=Se;u=(p&~(1<<32-Tr(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Ql++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Gp++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Q_={readContext:ar,useCallback:Q0,useContext:ar,useEffect:jc,useImperativeHandle:K0,useInsertionEffect:Ud,useLayoutEffect:Oc,useMemo:Y0,useReducer:Cc,useRef:Wo,useState:function(){return Cc(Wu)},useDebugValue:Kp,useDeferredValue:function(i){var a=es();return J0(a,lr.memoizedState,i)},useTransition:function(){var i=Cc(Wu)[0],a=es().memoizedState;return[i,a]},useMutableSource:Md,useSyncExternalStore:kh,useId:X0,unstable_isNewReconciler:!1},Y_={readContext:ar,useCallback:Q0,useContext:ar,useEffect:jc,useImperativeHandle:K0,useInsertionEffect:Ud,useLayoutEffect:Oc,useMemo:Y0,useReducer:ba,useRef:Wo,useState:function(){return ba(Wu)},useDebugValue:Kp,useDeferredValue:function(i){var a=es();return lr===null?a.memoizedState=i:J0(a,lr.memoizedState,i)},useTransition:function(){var i=ba(Wu)[0],a=es().memoizedState;return[i,a]},useMutableSource:Md,useSyncExternalStore:kh,useId:X0,unstable_isNewReconciler:!1};function Go(i,a){if(i&&i.defaultProps){a=pe({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Qp(i,a,u,p){a=i.memoizedState,u=u(p,a),u=u==null?a:pe({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var qd={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var p=rs(),N=eu(i),A=vs(p,N);A.payload=a,u!=null&&(A.callback=u),a=ys(i,A,N),a!==null&&(Yo(a,i,N,p),ol(a,i,N))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var p=rs(),N=eu(i),A=vs(p,N);A.tag=1,A.payload=a,u!=null&&(A.callback=u),a=ys(i,A,N),a!==null&&(Yo(a,i,N,p),ol(a,i,N))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=rs(),p=eu(i),N=vs(u,p);N.tag=2,a!=null&&(N.callback=a),a=ys(i,N,p),a!==null&&(Yo(a,i,p,u),ol(a,i,p))}};function n1(i,a,u,p,N,A,q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,A,q):a.prototype&&a.prototype.isPureReactComponent?!Do(u,p)||!Do(N,A):!0}function r1(i,a,u){var p=!1,N=wa,A=a.contextType;return typeof A=="object"&&A!==null?A=ar(A):(N=Pi(a)?il:Or.current,p=a.contextTypes,A=(p=p!=null)?Hl(i,N):wa),a=new a(u,A),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=qd,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=N,i.__reactInternalMemoizedMaskedChildContext=A),a}function i1(i,a,u,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==i&&qd.enqueueReplaceState(a,a.state,null)}function Yp(i,a,u,p){var N=i.stateNode;N.props=u,N.state=i.memoizedState,N.refs={},Ic(i);var A=a.contextType;typeof A=="object"&&A!==null?N.context=ar(A):(A=Pi(a)?il:Or.current,N.context=Hl(i,A)),N.state=i.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Qp(i,a,A,u),N.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(a=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),a!==N.state&&qd.enqueueReplaceState(N,N.state,null),qo(i,u,N,p),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308)}function Fc(i,a){try{var u="",p=a;do u+=te(p),p=p.return;while(p);var N=u}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:i,source:a,stack:N,digest:null}}function Jp(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function Xp(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var J_=typeof WeakMap=="function"?WeakMap:Map;function s1(i,a,u){u=vs(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Yd||(Yd=!0,fm=p),Xp(i,a)},u}function o1(i,a,u){u=vs(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var N=a.value;u.payload=function(){return p(N)},u.callback=function(){Xp(i,a)}}var A=i.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(u.callback=function(){Xp(i,a),typeof p!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var q=a.stack;this.componentDidCatch(a.value,{componentStack:q!==null?q:""})}),u}function a1(i,a,u){var p=i.pingCache;if(p===null){p=i.pingCache=new J_;var N=new Set;p.set(a,N)}else N=p.get(a),N===void 0&&(N=new Set,p.set(a,N));N.has(u)||(N.add(u),i=h4.bind(null,i,a,u),a.then(i,i))}function l1(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function u1(i,a,u,p,N){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=vs(-1,1),a.tag=2,ys(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=N,i)}var X_=ce.ReactCurrentOwner,_s=!1;function ns(i,a,u,p){a.child=i===null?pn(a,null,u,p):dr(a,i.child,u,p)}function c1(i,a,u,p,N){u=u.render;var A=a.ref;return zn(a,N),p=$u(i,a,u,p,A,N),u=yo(),i!==null&&!_s?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~N,ul(i,a,N)):(Me&&u&&Oe(a),a.flags|=1,ns(i,a,p,N),a.child)}function h1(i,a,u,p,N){if(i===null){var A=u.type;return typeof A=="function"&&!_m(A)&&A.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=A,d1(i,a,A,p,N)):(i=nf(u.type,null,p,a,a.mode,N),i.ref=a.ref,i.return=a,a.child=i)}if(A=i.child,(i.lanes&N)===0){var q=A.memoizedProps;if(u=u.compare,u=u!==null?u:Do,u(q,p)&&i.ref===a.ref)return ul(i,a,N)}return a.flags|=1,i=nu(A,p),i.ref=a.ref,i.return=a,a.child=i}function d1(i,a,u,p,N){if(i!==null){var A=i.memoizedProps;if(Do(A,p)&&i.ref===a.ref)if(_s=!1,a.pendingProps=p=A,(i.lanes&N)!==0)(i.flags&131072)!==0&&(_s=!0);else return a.lanes=i.lanes,ul(i,a,N)}return Zp(i,a,u,p,N)}function f1(i,a,u){var p=a.pendingProps,N=p.children,A=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Vc,$s),$s|=u;else{if((u&1073741824)===0)return i=A!==null?A.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Sn(Vc,$s),$s|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=A!==null?A.baseLanes:u,Sn(Vc,$s),$s|=p}else A!==null?(p=A.baseLanes|u,a.memoizedState=null):p=u,Sn(Vc,$s),$s|=p;return ns(i,a,N,u),a.child}function p1(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Zp(i,a,u,p,N){var A=Pi(u)?il:Or.current;return A=Hl(a,A),zn(a,N),u=$u(i,a,u,p,A,N),p=yo(),i!==null&&!_s?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~N,ul(i,a,N)):(Me&&p&&Oe(a),a.flags|=1,ns(i,a,u,N),a.child)}function m1(i,a,u,p,N){if(Pi(u)){var A=!0;sl(a)}else A=!1;if(zn(a,N),a.stateNode===null)$d(i,a),r1(a,u,p),Yp(a,u,p,N),p=!0;else if(i===null){var q=a.stateNode,ne=a.memoizedProps;q.props=ne;var he=q.context,je=u.contextType;typeof je=="object"&&je!==null?je=ar(je):(je=Pi(u)?il:Or.current,je=Hl(a,je));var Qe=u.getDerivedStateFromProps,Je=typeof Qe=="function"||typeof q.getSnapshotBeforeUpdate=="function";Je||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ne!==p||he!==je)&&i1(a,q,p,je),mo=!1;var Ke=a.memoizedState;q.state=Ke,qo(a,p,q,N),he=a.memoizedState,ne!==p||Ke!==he||Ti.current||mo?(typeof Qe=="function"&&(Qp(a,u,Qe,p),he=a.memoizedState),(ne=mo||n1(a,u,ne,p,Ke,he,je))?(Je||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(a.flags|=4194308)):(typeof q.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=he),q.props=p,q.state=he,q.context=je,p=ne):(typeof q.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{q=a.stateNode,Ah(i,a),ne=a.memoizedProps,je=a.type===a.elementType?ne:Go(a.type,ne),q.props=je,Je=a.pendingProps,Ke=q.context,he=u.contextType,typeof he=="object"&&he!==null?he=ar(he):(he=Pi(u)?il:Or.current,he=Hl(a,he));var ht=u.getDerivedStateFromProps;(Qe=typeof ht=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ne!==Je||Ke!==he)&&i1(a,q,p,he),mo=!1,Ke=a.memoizedState,q.state=Ke,qo(a,p,q,N);var mt=a.memoizedState;ne!==Je||Ke!==mt||Ti.current||mo?(typeof ht=="function"&&(Qp(a,u,ht,p),mt=a.memoizedState),(je=mo||n1(a,u,je,p,Ke,mt,he)||!1)?(Qe||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(p,mt,he),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(p,mt,he)),typeof q.componentDidUpdate=="function"&&(a.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof q.componentDidUpdate!="function"||ne===i.memoizedProps&&Ke===i.memoizedState||(a.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ne===i.memoizedProps&&Ke===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=mt),q.props=p,q.state=mt,q.context=he,p=je):(typeof q.componentDidUpdate!="function"||ne===i.memoizedProps&&Ke===i.memoizedState||(a.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ne===i.memoizedProps&&Ke===i.memoizedState||(a.flags|=1024),p=!1)}return em(i,a,u,p,A,N)}function em(i,a,u,p,N,A){p1(i,a);var q=(a.flags&128)!==0;if(!p&&!q)return N&&Dd(a,u,!1),ul(i,a,A);p=a.stateNode,X_.current=a;var ne=q&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&q?(a.child=dr(a,i.child,null,A),a.child=dr(a,null,ne,A)):ns(i,a,ne,A),a.memoizedState=p.state,N&&Dd(a,u,!0),a.child}function g1(i){var a=i.stateNode;a.pendingContext?Od(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Od(i,a.context,!1),Gl(i,a.containerInfo)}function v1(i,a,u,p,N){return $t(),xn(N),a.flags|=256,ns(i,a,u,p),a.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(i){return{baseLanes:i,cachePool:null,transitions:null}}function y1(i,a,u){var p=a.pendingProps,N=On.current,A=!1,q=(a.flags&128)!==0,ne;if((ne=q)||(ne=i!==null&&i.memoizedState===null?!1:(N&2)!==0),ne?(A=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(N|=1),Sn(On,N&1),i===null)return at(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(q=p.children,i=p.fallback,A?(p=a.mode,A=a.child,q={mode:"hidden",children:q},(p&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=q):A=rf(q,p,0,null),i=Xu(i,p,u,null),A.return=a,i.return=a,A.sibling=i,a.child=A,a.child.memoizedState=nm(u),a.memoizedState=tm,i):rm(a,q));if(N=i.memoizedState,N!==null&&(ne=N.dehydrated,ne!==null))return Z_(i,a,q,p,ne,N,u);if(A){A=p.fallback,q=a.mode,N=i.child,ne=N.sibling;var he={mode:"hidden",children:p.children};return(q&1)===0&&a.child!==N?(p=a.child,p.childLanes=0,p.pendingProps=he,a.deletions=null):(p=nu(N,he),p.subtreeFlags=N.subtreeFlags&14680064),ne!==null?A=nu(ne,A):(A=Xu(A,q,u,null),A.flags|=2),A.return=a,p.return=a,p.sibling=A,a.child=p,p=A,A=a.child,q=i.child.memoizedState,q=q===null?nm(u):{baseLanes:q.baseLanes|u,cachePool:null,transitions:q.transitions},A.memoizedState=q,A.childLanes=i.childLanes&~u,a.memoizedState=tm,p}return A=i.child,i=A.sibling,p=nu(A,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=p,a.memoizedState=null,p}function rm(i,a){return a=rf({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Hd(i,a,u,p){return p!==null&&xn(p),dr(a,i.child,null,u),i=rm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Z_(i,a,u,p,N,A,q){if(u)return a.flags&256?(a.flags&=-257,p=Jp(Error(t(422))),Hd(i,a,q,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(A=p.fallback,N=a.mode,p=rf({mode:"visible",children:p.children},N,0,null),A=Xu(A,N,q,null),A.flags|=2,p.return=a,A.return=a,p.sibling=A,a.child=p,(a.mode&1)!==0&&dr(a,i.child,null,q),a.child.memoizedState=nm(q),a.memoizedState=tm,A);if((a.mode&1)===0)return Hd(i,a,q,null);if(N.data==="$!"){if(p=N.nextSibling&&N.nextSibling.dataset,p)var ne=p.dgst;return p=ne,A=Error(t(419)),p=Jp(A,p,void 0),Hd(i,a,q,p)}if(ne=(q&i.childLanes)!==0,_s||ne){if(p=Yr,p!==null){switch(q&-q){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(p.suspendedLanes|q))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,mn(i,N),Yo(p,i,N,-1))}return wm(),p=Jp(Error(t(421))),Hd(i,a,q,p)}return N.data==="$?"?(a.flags|=128,a.child=i.child,a=d4.bind(null,i),N._reactRetry=a,null):(i=A.treeContext,Ve=ci(N.nextSibling),fe=a,Me=!0,Be=null,i!==null&&(Q[J++]=Se,Q[J++]=Ee,Q[J++]=ue,Se=i.id,Ee=i.overflow,ue=a),a=rm(a,p.children),a.flags|=4096,a)}function w1(i,a,u){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),gs(i.return,a,u)}function im(i,a,u,p,N){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:N}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=u,A.tailMode=N)}function _1(i,a,u){var p=a.pendingProps,N=p.revealOrder,A=p.tail;if(ns(i,a,p.children,u),p=On.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&w1(i,u,a);else if(i.tag===19)w1(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Sn(On,p),(a.mode&1)===0)a.memoizedState=null;else switch(N){case"forwards":for(u=a.child,N=null;u!==null;)i=u.alternate,i!==null&&zs(i)===null&&(N=u),u=u.sibling;u=N,u===null?(N=a.child,a.child=null):(N=u.sibling,u.sibling=null),im(a,!1,N,u,A);break;case"backwards":for(u=null,N=a.child,a.child=null;N!==null;){if(i=N.alternate,i!==null&&zs(i)===null){a.child=N;break}i=N.sibling,N.sibling=u,u=N,N=i}im(a,!0,u,null,A);break;case"together":im(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $d(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ul(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Ku|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,u=nu(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=nu(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function e4(i,a,u){switch(a.tag){case 3:g1(a),$t();break;case 5:Fd(a);break;case 1:Pi(a.type)&&sl(a);break;case 4:Gl(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,N=a.memoizedProps.value;Sn(Kr,p._currentValue),p._currentValue=N;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Sn(On,On.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?y1(i,a,u):(Sn(On,On.current&1),i=ul(i,a,u),i!==null?i.sibling:null);Sn(On,On.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(i.flags&128)!==0){if(p)return _1(i,a,u);a.flags|=128}if(N=a.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Sn(On,On.current),p)break;return null;case 22:case 23:return a.lanes=0,f1(i,a,u)}return ul(i,a,u)}var x1,sm,b1,N1;x1=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},sm=function(){},b1=function(i,a,u,p){var N=i.memoizedProps;if(N!==p){i=a.stateNode,Ho(Zi.current);var A=null;switch(u){case"input":N=xt(i,N),p=xt(i,p),A=[];break;case"select":N=pe({},N,{value:void 0}),p=pe({},p,{value:void 0}),A=[];break;case"textarea":N=st(i,N),p=st(i,p),A=[];break;default:typeof N.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Ul)}bn(u,p);var q;u=null;for(je in N)if(!p.hasOwnProperty(je)&&N.hasOwnProperty(je)&&N[je]!=null)if(je==="style"){var ne=N[je];for(q in ne)ne.hasOwnProperty(q)&&(u||(u={}),u[q]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(s.hasOwnProperty(je)?A||(A=[]):(A=A||[]).push(je,null));for(je in p){var he=p[je];if(ne=N?.[je],p.hasOwnProperty(je)&&he!==ne&&(he!=null||ne!=null))if(je==="style")if(ne){for(q in ne)!ne.hasOwnProperty(q)||he&&he.hasOwnProperty(q)||(u||(u={}),u[q]="");for(q in he)he.hasOwnProperty(q)&&ne[q]!==he[q]&&(u||(u={}),u[q]=he[q])}else u||(A||(A=[]),A.push(je,u)),u=he;else je==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ne=ne?ne.__html:void 0,he!=null&&ne!==he&&(A=A||[]).push(je,he)):je==="children"?typeof he!="string"&&typeof he!="number"||(A=A||[]).push(je,""+he):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(s.hasOwnProperty(je)?(he!=null&&je==="onScroll"&&Pn("scroll",i),A||ne===he||(A=[])):(A=A||[]).push(je,he))}u&&(A=A||[]).push("style",u);var je=A;(a.updateQueue=je)&&(a.flags|=4)}},N1=function(i,a,u,p){u!==p&&(a.flags|=4)};function Rh(i,a){if(!Me)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Ci(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(a)for(var N=i.child;N!==null;)u|=N.lanes|N.childLanes,p|=N.subtreeFlags&14680064,p|=N.flags&14680064,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)u|=N.lanes|N.childLanes,p|=N.subtreeFlags,p|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=p,i.childLanes=u,a}function t4(i,a,u){var p=a.pendingProps;switch(de(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(a),null;case 1:return Pi(a.type)&&Ac(),Ci(a),null;case 3:return p=a.stateNode,go(),_n(Ti),_n(Or),Ph(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(on(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Be!==null&&(gm(Be),Be=null))),sm(i,a),Ci(a),null;case 5:Ih(a);var N=Ho(xa.current);if(u=a.type,i!==null&&a.stateNode!=null)b1(i,a,u,p,N),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Ci(a),null}if(i=Ho(Zi.current),on(a)){p=a.stateNode,u=a.type;var A=a.memoizedProps;switch(p[po]=a,p[zl]=A,i=(a.mode&1)!==0,u){case"dialog":Pn("cancel",p),Pn("close",p);break;case"iframe":case"object":case"embed":Pn("load",p);break;case"video":case"audio":for(N=0;N<va.length;N++)Pn(va[N],p);break;case"source":Pn("error",p);break;case"img":case"image":case"link":Pn("error",p),Pn("load",p);break;case"details":Pn("toggle",p);break;case"input":Fe(p,A),Pn("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!A.multiple},Pn("invalid",p);break;case"textarea":vt(p,A),Pn("invalid",p)}bn(u,A),N=null;for(var q in A)if(A.hasOwnProperty(q)){var ne=A[q];q==="children"?typeof ne=="string"?p.textContent!==ne&&(A.suppressHydrationWarning!==!0&&Ec(p.textContent,ne,i),N=["children",ne]):typeof ne=="number"&&p.textContent!==""+ne&&(A.suppressHydrationWarning!==!0&&Ec(p.textContent,ne,i),N=["children",""+ne]):s.hasOwnProperty(q)&&ne!=null&&q==="onScroll"&&Pn("scroll",p)}switch(u){case"input":We(p),pt(p,A,!0);break;case"textarea":We(p),Mt(p);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(p.onclick=Ul)}p=N,a.updateQueue=p,p!==null&&(a.flags|=4)}else{q=N.nodeType===9?N:N.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=q.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=q.createElement(u,{is:p.is}):(i=q.createElement(u),u==="select"&&(q=i,p.multiple?q.multiple=!0:p.size&&(q.size=p.size))):i=q.createElementNS(i,u),i[po]=a,i[zl]=p,x1(i,a,!1,!1),a.stateNode=i;e:{switch(q=wi(u,p),u){case"dialog":Pn("cancel",i),Pn("close",i),N=p;break;case"iframe":case"object":case"embed":Pn("load",i),N=p;break;case"video":case"audio":for(N=0;N<va.length;N++)Pn(va[N],i);N=p;break;case"source":Pn("error",i),N=p;break;case"img":case"image":case"link":Pn("error",i),Pn("load",i),N=p;break;case"details":Pn("toggle",i),N=p;break;case"input":Fe(i,p),N=xt(i,p),Pn("invalid",i);break;case"option":N=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},N=pe({},p,{value:void 0}),Pn("invalid",i);break;case"textarea":vt(i,p),N=st(i,p),Pn("invalid",i);break;default:N=p}bn(u,N),ne=N;for(A in ne)if(ne.hasOwnProperty(A)){var he=ne[A];A==="style"?ti(i,he):A==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&It(i,he)):A==="children"?typeof he=="string"?(u!=="textarea"||he!=="")&&Bt(i,he):typeof he=="number"&&Bt(i,""+he):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?he!=null&&A==="onScroll"&&Pn("scroll",i):he!=null&&Z(i,A,he,q))}switch(u){case"input":We(i),pt(i,p,!1);break;case"textarea":We(i),Mt(i);break;case"option":p.value!=null&&i.setAttribute("value",""+xe(p.value));break;case"select":i.multiple=!!p.multiple,A=p.value,A!=null?tt(i,!!p.multiple,A,!1):p.defaultValue!=null&&tt(i,!!p.multiple,p.defaultValue,!0);break;default:typeof N.onClick=="function"&&(i.onclick=Ul)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ci(a),null;case 6:if(i&&a.stateNode!=null)N1(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ho(xa.current),Ho(Zi.current),on(a)){if(p=a.stateNode,u=a.memoizedProps,p[po]=a,(A=p.nodeValue!==u)&&(i=fe,i!==null))switch(i.tag){case 3:Ec(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ec(p.nodeValue,u,(i.mode&1)!==0)}A&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[po]=a,a.stateNode=p}return Ci(a),null;case 13:if(_n(On),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Me&&Ve!==null&&(a.mode&1)!==0&&(a.flags&128)===0)en(),$t(),a.flags|=98560,A=!1;else if(A=on(a),p!==null&&p.dehydrated!==null){if(i===null){if(!A)throw Error(t(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[po]=a}else $t(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ci(a),A=!1}else Be!==null&&(gm(Be),Be=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(On.current&1)!==0?Fr===0&&(Fr=3):wm())),a.updateQueue!==null&&(a.flags|=4),Ci(a),null);case 4:return go(),sm(i,a),i===null&&el(a.stateNode.containerInfo),Ci(a),null;case 10:return ki(a.type._context),Ci(a),null;case 17:return Pi(a.type)&&Ac(),Ci(a),null;case 19:if(_n(On),A=a.memoizedState,A===null)return Ci(a),null;if(p=(a.flags&128)!==0,q=A.rendering,q===null)if(p)Rh(A,!1);else{if(Fr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(q=zs(i),q!==null){for(a.flags|=128,Rh(A,!1),p=q.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)A=u,i=p,A.flags&=14680066,q=A.alternate,q===null?(A.childLanes=0,A.lanes=i,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=q.childLanes,A.lanes=q.lanes,A.child=q.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=q.memoizedProps,A.memoizedState=q.memoizedState,A.updateQueue=q.updateQueue,A.type=q.type,i=q.dependencies,A.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Sn(On,On.current&1|2),a.child}i=i.sibling}A.tail!==null&&Nn()>Bc&&(a.flags|=128,p=!0,Rh(A,!1),a.lanes=4194304)}else{if(!p)if(i=zs(q),i!==null){if(a.flags|=128,p=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Rh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!q.alternate&&!Me)return Ci(a),null}else 2*Nn()-A.renderingStartTime>Bc&&u!==1073741824&&(a.flags|=128,p=!0,Rh(A,!1),a.lanes=4194304);A.isBackwards?(q.sibling=a.child,a.child=q):(u=A.last,u!==null?u.sibling=q:a.child=q,A.last=q)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=Nn(),a.sibling=null,u=On.current,Sn(On,p?u&1|2:u&1),a):(Ci(a),null);case 22:case 23:return ym(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?($s&1073741824)!==0&&(Ci(a),a.subtreeFlags&6&&(a.flags|=8192)):Ci(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function n4(i,a){switch(de(a),a.tag){case 1:return Pi(a.type)&&Ac(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return go(),_n(Ti),_n(Or),Ph(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Ih(a),null;case 13:if(_n(On),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));$t()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return _n(On),null;case 4:return go(),null;case 10:return ki(a.type._context),null;case 22:case 23:return ym(),null;case 24:return null;default:return null}}var Wd=!1,Ri=!1,r4=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Mc(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){ur(i,a,p)}else u.current=null}function om(i,a,u){try{u()}catch(p){ur(i,a,p)}}var S1=!1;function i4(i,a){if(zu=io,i=Ou(),Ya(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var N=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{u.nodeType,A.nodeType}catch{u=null;break e}var q=0,ne=-1,he=-1,je=0,Qe=0,Je=i,Ke=null;t:for(;;){for(var ht;Je!==u||N!==0&&Je.nodeType!==3||(ne=q+N),Je!==A||p!==0&&Je.nodeType!==3||(he=q+p),Je.nodeType===3&&(q+=Je.nodeValue.length),(ht=Je.firstChild)!==null;)Ke=Je,Je=ht;for(;;){if(Je===i)break t;if(Ke===u&&++je===N&&(ne=q),Ke===A&&++Qe===p&&(he=q),(ht=Je.nextSibling)!==null)break;Je=Ke,Ke=Je.parentNode}Je=ht}u=ne===-1||he===-1?null:{start:ne,end:he}}else u=null}u=u||{start:0,end:0}}else u=null;for(nl={focusedElem:i,selectionRange:u},io=!1,ft=a;ft!==null;)if(a=ft,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ft=i;else for(;ft!==null;){a=ft;try{var mt=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var yt=mt.memoizedProps,mr=mt.memoizedState,Ie=a.stateNode,me=Ie.getSnapshotBeforeUpdate(a.elementType===a.type?yt:Go(a.type,yt),mr);Ie.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Ce=a.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ze){ur(a,a.return,Ze)}if(i=a.sibling,i!==null){i.return=a.return,ft=i;break}ft=a.return}return mt=S1,S1=!1,mt}function Lh(i,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var N=p=p.next;do{if((N.tag&i)===i){var A=N.destroy;N.destroy=void 0,A!==void 0&&om(a,u,A)}N=N.next}while(N!==p)}}function Gd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function am(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function E1(i){var a=i.alternate;a!==null&&(i.alternate=null,E1(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[po],delete a[zl],delete a[Ii],delete a[$p],delete a[Wp])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function A1(i){return i.tag===5||i.tag===3||i.tag===4}function I1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||A1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lm(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ul));else if(p!==4&&(i=i.child,i!==null))for(lm(i,a,u),i=i.sibling;i!==null;)lm(i,a,u),i=i.sibling}function um(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(um(i,a,u),i=i.sibling;i!==null;)um(i,a,u),i=i.sibling}var di=null,Ko=!1;function Jl(i,a,u){for(u=u.child;u!==null;)T1(i,a,u),u=u.sibling}function T1(i,a,u){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Xs,u)}catch{}switch(u.tag){case 5:Ri||Mc(u,a);case 6:var p=di,N=Ko;di=null,Jl(i,a,u),di=p,Ko=N,di!==null&&(Ko?(i=di,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):di.removeChild(u.stateNode));break;case 18:di!==null&&(Ko?(i=di,u=u.stateNode,i.nodeType===8?Nh(i.parentNode,u):i.nodeType===1&&Nh(i,u),Rr(i)):Nh(di,u.stateNode));break;case 4:p=di,N=Ko,di=u.stateNode.containerInfo,Ko=!0,Jl(i,a,u),di=p,Ko=N;break;case 0:case 11:case 14:case 15:if(!Ri&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){N=p=p.next;do{var A=N,q=A.destroy;A=A.tag,q!==void 0&&((A&2)!==0||(A&4)!==0)&&om(u,a,q),N=N.next}while(N!==p)}Jl(i,a,u);break;case 1:if(!Ri&&(Mc(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(ne){ur(u,a,ne)}Jl(i,a,u);break;case 21:Jl(i,a,u);break;case 22:u.mode&1?(Ri=(p=Ri)||u.memoizedState!==null,Jl(i,a,u),Ri=p):Jl(i,a,u);break;default:Jl(i,a,u)}}function P1(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new r4),a.forEach(function(p){var N=f4.bind(null,i,p);u.has(p)||(u.add(p),p.then(N,N))})}}function Qo(i,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var N=u[p];try{var A=i,q=a,ne=q;e:for(;ne!==null;){switch(ne.tag){case 5:di=ne.stateNode,Ko=!1;break e;case 3:di=ne.stateNode.containerInfo,Ko=!0;break e;case 4:di=ne.stateNode.containerInfo,Ko=!0;break e}ne=ne.return}if(di===null)throw Error(t(160));T1(A,q,N),di=null,Ko=!1;var he=N.alternate;he!==null&&(he.return=null),N.return=null}catch(je){ur(N,a,je)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)k1(a,i),a=a.sibling}function k1(i,a){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qo(a,i),Na(i),p&4){try{Lh(3,i,i.return),Gd(3,i)}catch(yt){ur(i,i.return,yt)}try{Lh(5,i,i.return)}catch(yt){ur(i,i.return,yt)}}break;case 1:Qo(a,i),Na(i),p&512&&u!==null&&Mc(u,u.return);break;case 5:if(Qo(a,i),Na(i),p&512&&u!==null&&Mc(u,u.return),i.flags&32){var N=i.stateNode;try{Bt(N,"")}catch(yt){ur(i,i.return,yt)}}if(p&4&&(N=i.stateNode,N!=null)){var A=i.memoizedProps,q=u!==null?u.memoizedProps:A,ne=i.type,he=i.updateQueue;if(i.updateQueue=null,he!==null)try{ne==="input"&&A.type==="radio"&&A.name!=null&&ie(N,A),wi(ne,q);var je=wi(ne,A);for(q=0;q<he.length;q+=2){var Qe=he[q],Je=he[q+1];Qe==="style"?ti(N,Je):Qe==="dangerouslySetInnerHTML"?It(N,Je):Qe==="children"?Bt(N,Je):Z(N,Qe,Je,je)}switch(ne){case"input":Lt(N,A);break;case"textarea":Ct(N,A);break;case"select":var Ke=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var ht=A.value;ht!=null?tt(N,!!A.multiple,ht,!1):Ke!==!!A.multiple&&(A.defaultValue!=null?tt(N,!!A.multiple,A.defaultValue,!0):tt(N,!!A.multiple,A.multiple?[]:"",!1))}N[zl]=A}catch(yt){ur(i,i.return,yt)}}break;case 6:if(Qo(a,i),Na(i),p&4){if(i.stateNode===null)throw Error(t(162));N=i.stateNode,A=i.memoizedProps;try{N.nodeValue=A}catch(yt){ur(i,i.return,yt)}}break;case 3:if(Qo(a,i),Na(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Rr(a.containerInfo)}catch(yt){ur(i,i.return,yt)}break;case 4:Qo(a,i),Na(i);break;case 13:Qo(a,i),Na(i),N=i.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(dm=Nn())),p&4&&P1(i);break;case 22:if(Qe=u!==null&&u.memoizedState!==null,i.mode&1?(Ri=(je=Ri)||Qe,Qo(a,i),Ri=je):Qo(a,i),Na(i),p&8192){if(je=i.memoizedState!==null,(i.stateNode.isHidden=je)&&!Qe&&(i.mode&1)!==0)for(ft=i,Qe=i.child;Qe!==null;){for(Je=ft=Qe;ft!==null;){switch(Ke=ft,ht=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:Lh(4,Ke,Ke.return);break;case 1:Mc(Ke,Ke.return);var mt=Ke.stateNode;if(typeof mt.componentWillUnmount=="function"){p=Ke,u=Ke.return;try{a=p,mt.props=a.memoizedProps,mt.state=a.memoizedState,mt.componentWillUnmount()}catch(yt){ur(p,u,yt)}}break;case 5:Mc(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){L1(Je);continue}}ht!==null?(ht.return=Ke,ft=ht):L1(Je)}Qe=Qe.sibling}e:for(Qe=null,Je=i;;){if(Je.tag===5){if(Qe===null){Qe=Je;try{N=Je.stateNode,je?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ne=Je.stateNode,he=Je.memoizedProps.style,q=he!=null&&he.hasOwnProperty("display")?he.display:null,ne.style.display=Qt("display",q))}catch(yt){ur(i,i.return,yt)}}}else if(Je.tag===6){if(Qe===null)try{Je.stateNode.nodeValue=je?"":Je.memoizedProps}catch(yt){ur(i,i.return,yt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===i)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===i)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===i)break e;Qe===Je&&(Qe=null),Je=Je.return}Qe===Je&&(Qe=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:Qo(a,i),Na(i),p&4&&P1(i);break;case 21:break;default:Qo(a,i),Na(i)}}function Na(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(A1(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var N=p.stateNode;p.flags&32&&(Bt(N,""),p.flags&=-33);var A=I1(i);um(i,A,N);break;case 3:case 4:var q=p.stateNode.containerInfo,ne=I1(i);lm(i,ne,q);break;default:throw Error(t(161))}}catch(he){ur(i,i.return,he)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function s4(i,a,u){ft=i,C1(i)}function C1(i,a,u){for(var p=(i.mode&1)!==0;ft!==null;){var N=ft,A=N.child;if(N.tag===22&&p){var q=N.memoizedState!==null||Wd;if(!q){var ne=N.alternate,he=ne!==null&&ne.memoizedState!==null||Ri;ne=Wd;var je=Ri;if(Wd=q,(Ri=he)&&!je)for(ft=N;ft!==null;)q=ft,he=q.child,q.tag===22&&q.memoizedState!==null?j1(N):he!==null?(he.return=q,ft=he):j1(N);for(;A!==null;)ft=A,C1(A),A=A.sibling;ft=N,Wd=ne,Ri=je}R1(i)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,ft=A):R1(i)}}function R1(i){for(;ft!==null;){var a=ft;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Ri||Gd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Ri)if(u===null)p.componentDidMount();else{var N=a.elementType===a.type?u.memoizedProps:Go(a.type,u.memoizedProps);p.componentDidUpdate(N,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&al(a,A,p);break;case 3:var q=a.updateQueue;if(q!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}al(a,q,u)}break;case 5:var ne=a.stateNode;if(u===null&&a.flags&4){u=ne;var he=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&u.focus();break;case"img":he.src&&(u.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var je=a.alternate;if(je!==null){var Qe=je.memoizedState;if(Qe!==null){var Je=Qe.dehydrated;Je!==null&&Rr(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ri||a.flags&512&&am(a)}catch(Ke){ur(a,a.return,Ke)}}if(a===i){ft=null;break}if(u=a.sibling,u!==null){u.return=a.return,ft=u;break}ft=a.return}}function L1(i){for(;ft!==null;){var a=ft;if(a===i){ft=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ft=u;break}ft=a.return}}function j1(i){for(;ft!==null;){var a=ft;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Gd(4,a)}catch(he){ur(a,u,he)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var N=a.return;try{p.componentDidMount()}catch(he){ur(a,N,he)}}var A=a.return;try{am(a)}catch(he){ur(a,A,he)}break;case 5:var q=a.return;try{am(a)}catch(he){ur(a,q,he)}}}catch(he){ur(a,a.return,he)}if(a===i){ft=null;break}var ne=a.sibling;if(ne!==null){ne.return=a.return,ft=ne;break}ft=a.return}}var o4=Math.ceil,Kd=ce.ReactCurrentDispatcher,cm=ce.ReactCurrentOwner,wo=ce.ReactCurrentBatchConfig,hn=0,Yr=null,Nr=null,fi=0,$s=0,Vc=Us(0),Fr=0,jh=null,Ku=0,Qd=0,hm=0,Oh=null,xs=null,dm=0,Bc=1/0,cl=null,Yd=!1,fm=null,Xl=null,Jd=!1,Zl=null,Xd=0,Dh=0,pm=null,Zd=-1,ef=0;function rs(){return(hn&6)!==0?Nn():Zd!==-1?Zd:Zd=Nn()}function eu(i){return(i.mode&1)===0?1:(hn&2)!==0&&fi!==0?fi&-fi:En.transition!==null?(ef===0&&(ef=to()),ef):(i=Wt,i!==0||(i=window.event,i=i===void 0?16:ca(i.type)),i)}function Yo(i,a,u,p){if(50<Dh)throw Dh=0,pm=null,Error(t(185));Ls(i,u,p),((hn&2)===0||i!==Yr)&&(i===Yr&&((hn&2)===0&&(Qd|=u),Fr===4&&tu(i,fi)),bs(i,p),u===1&&hn===0&&(a.mode&1)===0&&(Bc=Nn()+500,Hu&&I()))}function bs(i,a){var u=i.callbackNode;Kn(i,a);var p=Pr(i,i===Yr?fi:0);if(p===0)u!==null&&Js(u),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(u!=null&&Js(u),a===1)i.tag===0?S(D1.bind(null,i)):m(D1.bind(null,i)),qp(function(){(hn&6)===0&&I()}),u=null;else{switch(as(p)){case 1:u=os;break;case 4:u=Rs;break;case 16:u=bi;break;case 536870912:u=Sl;break;default:u=bi}u=H1(u,O1.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function O1(i,a){if(Zd=-1,ef=0,(hn&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Uc()&&i.callbackNode!==u)return null;var p=Pr(i,i===Yr?fi:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=tf(i,p);else{a=p;var N=hn;hn|=2;var A=M1();(Yr!==i||fi!==a)&&(cl=null,Bc=Nn()+500,Yu(i,a));do try{u4();break}catch(ne){F1(i,ne)}while(!0);Dr(),Kd.current=A,hn=N,Nr!==null?a=0:(Yr=null,fi=0,a=Fr)}if(a!==0){if(a===2&&(N=kr(i),N!==0&&(p=N,a=mm(i,N))),a===1)throw u=jh,Yu(i,0),tu(i,p),bs(i,Nn()),u;if(a===6)tu(i,p);else{if(N=i.current.alternate,(p&30)===0&&!a4(N)&&(a=tf(i,p),a===2&&(A=kr(i),A!==0&&(p=A,a=mm(i,A))),a===1))throw u=jh,Yu(i,0),tu(i,p),bs(i,Nn()),u;switch(i.finishedWork=N,i.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Ju(i,xs,cl);break;case 3:if(tu(i,p),(p&130023424)===p&&(a=dm+500-Nn(),10<a)){if(Pr(i,0)!==0)break;if(N=i.suspendedLanes,(N&p)!==p){rs(),i.pingedLanes|=i.suspendedLanes&N;break}i.timeoutHandle=bh(Ju.bind(null,i,xs,cl),a);break}Ju(i,xs,cl);break;case 4:if(tu(i,p),(p&4194240)===p)break;for(a=i.eventTimes,N=-1;0<p;){var q=31-Tr(p);A=1<<q,q=a[q],q>N&&(N=q),p&=~A}if(p=N,p=Nn()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*o4(p/1960))-p,10<p){i.timeoutHandle=bh(Ju.bind(null,i,xs,cl),p);break}Ju(i,xs,cl);break;case 5:Ju(i,xs,cl);break;default:throw Error(t(329))}}}return bs(i,Nn()),i.callbackNode===u?O1.bind(null,i):null}function mm(i,a){var u=Oh;return i.current.memoizedState.isDehydrated&&(Yu(i,a).flags|=256),i=tf(i,a),i!==2&&(a=xs,xs=u,a!==null&&gm(a)),i}function gm(i){xs===null?xs=i:xs.push.apply(xs,i)}function a4(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var N=u[p],A=N.getSnapshot;N=N.value;try{if(!cn(A(),N))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function tu(i,a){for(a&=~hm,a&=~Qd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-Tr(a),p=1<<u;i[u]=-1,a&=~p}}function D1(i){if((hn&6)!==0)throw Error(t(327));Uc();var a=Pr(i,0);if((a&1)===0)return bs(i,Nn()),null;var u=tf(i,a);if(i.tag!==0&&u===2){var p=kr(i);p!==0&&(a=p,u=mm(i,p))}if(u===1)throw u=jh,Yu(i,0),tu(i,a),bs(i,Nn()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ju(i,xs,cl),bs(i,Nn()),null}function vm(i,a){var u=hn;hn|=1;try{return i(a)}finally{hn=u,hn===0&&(Bc=Nn()+500,Hu&&I())}}function Qu(i){Zl!==null&&Zl.tag===0&&(hn&6)===0&&Uc();var a=hn;hn|=1;var u=wo.transition,p=Wt;try{if(wo.transition=null,Wt=1,i)return i()}finally{Wt=p,wo.transition=u,hn=a,(hn&6)===0&&I()}}function ym(){$s=Vc.current,_n(Vc)}function Yu(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Ld(u)),Nr!==null)for(u=Nr.return;u!==null;){var p=u;switch(de(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ac();break;case 3:go(),_n(Ti),_n(Or),Ph();break;case 5:Ih(p);break;case 4:go();break;case 13:_n(On);break;case 19:_n(On);break;case 10:ki(p.type._context);break;case 22:case 23:ym()}u=u.return}if(Yr=i,Nr=i=nu(i.current,null),fi=$s=a,Fr=0,jh=null,hm=Qd=Ku=0,xs=Oh=null,Xi!==null){for(a=0;a<Xi.length;a++)if(u=Xi[a],p=u.interleaved,p!==null){u.interleaved=null;var N=p.next,A=u.pending;if(A!==null){var q=A.next;A.next=N,p.next=q}u.pending=p}Xi=null}return i}function F1(i,a){do{var u=Nr;try{if(Dr(),Tc.current=zd,Kl){for(var p=Fn.memoizedState;p!==null;){var N=p.queue;N!==null&&(N.pending=null),p=p.next}Kl=!1}if(vo=0,tr=lr=Fn=null,$o=!1,Ql=0,cm.current=null,u===null||u.return===null){Fr=1,jh=a,Nr=null;break}e:{var A=i,q=u.return,ne=u,he=a;if(a=fi,ne.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var je=he,Qe=ne,Je=Qe.tag;if((Qe.mode&1)===0&&(Je===0||Je===11||Je===15)){var Ke=Qe.alternate;Ke?(Qe.updateQueue=Ke.updateQueue,Qe.memoizedState=Ke.memoizedState,Qe.lanes=Ke.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var ht=l1(q);if(ht!==null){ht.flags&=-257,u1(ht,q,ne,A,a),ht.mode&1&&a1(A,je,a),a=ht,he=je;var mt=a.updateQueue;if(mt===null){var yt=new Set;yt.add(he),a.updateQueue=yt}else mt.add(he);break e}else{if((a&1)===0){a1(A,je,a),wm();break e}he=Error(t(426))}}else if(Me&&ne.mode&1){var mr=l1(q);if(mr!==null){(mr.flags&65536)===0&&(mr.flags|=256),u1(mr,q,ne,A,a),xn(Fc(he,ne));break e}}A=he=Fc(he,ne),Fr!==4&&(Fr=2),Oh===null?Oh=[A]:Oh.push(A),A=q;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var Ie=s1(A,he,a);ws(A,Ie);break e;case 1:ne=he;var me=A.type,Ce=A.stateNode;if((A.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Xl===null||!Xl.has(Ce)))){A.flags|=65536,a&=-a,A.lanes|=a;var Ze=o1(A,ne,a);ws(A,Ze);break e}}A=A.return}while(A!==null)}B1(u)}catch(wt){a=wt,Nr===u&&u!==null&&(Nr=u=u.return);continue}break}while(!0)}function M1(){var i=Kd.current;return Kd.current=zd,i===null?zd:i}function wm(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Yr===null||(Ku&268435455)===0&&(Qd&268435455)===0||tu(Yr,fi)}function tf(i,a){var u=hn;hn|=2;var p=M1();(Yr!==i||fi!==a)&&(cl=null,Yu(i,a));do try{l4();break}catch(N){F1(i,N)}while(!0);if(Dr(),hn=u,Kd.current=p,Nr!==null)throw Error(t(261));return Yr=null,fi=0,Fr}function l4(){for(;Nr!==null;)V1(Nr)}function u4(){for(;Nr!==null&&!So();)V1(Nr)}function V1(i){var a=q1(i.alternate,i,$s);i.memoizedProps=i.pendingProps,a===null?B1(i):Nr=a,cm.current=null}function B1(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=t4(u,a,$s),u!==null){Nr=u;return}}else{if(u=n4(u,a),u!==null){u.flags&=32767,Nr=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Fr=6,Nr=null;return}}if(a=a.sibling,a!==null){Nr=a;return}Nr=a=i}while(a!==null);Fr===0&&(Fr=5)}function Ju(i,a,u){var p=Wt,N=wo.transition;try{wo.transition=null,Wt=1,c4(i,a,u,p)}finally{wo.transition=N,Wt=p}return null}function c4(i,a,u,p){do Uc();while(Zl!==null);if((hn&6)!==0)throw Error(t(327));u=i.finishedWork;var N=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var A=u.lanes|u.childLanes;if(vn(i,A),i===Yr&&(Nr=Yr=null,fi=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Jd||(Jd=!0,H1(bi,function(){return Uc(),null})),A=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||A){A=wo.transition,wo.transition=null;var q=Wt;Wt=1;var ne=hn;hn|=4,cm.current=null,i4(i,u),k1(u,i),Ja(nl),io=!!zu,nl=zu=null,i.current=u,s4(u),bl(),hn=ne,Wt=q,wo.transition=A}else i.current=u;if(Jd&&(Jd=!1,Zl=i,Xd=N),A=i.pendingLanes,A===0&&(Xl=null),Ao(u.stateNode),bs(i,Nn()),a!==null)for(p=i.onRecoverableError,u=0;u<a.length;u++)N=a[u],p(N.value,{componentStack:N.stack,digest:N.digest});if(Yd)throw Yd=!1,i=fm,fm=null,i;return(Xd&1)!==0&&i.tag!==0&&Uc(),A=i.pendingLanes,(A&1)!==0?i===pm?Dh++:(Dh=0,pm=i):Dh=0,I(),null}function Uc(){if(Zl!==null){var i=as(Xd),a=wo.transition,u=Wt;try{if(wo.transition=null,Wt=16>i?16:i,Zl===null)var p=!1;else{if(i=Zl,Zl=null,Xd=0,(hn&6)!==0)throw Error(t(331));var N=hn;for(hn|=4,ft=i.current;ft!==null;){var A=ft,q=A.child;if((ft.flags&16)!==0){var ne=A.deletions;if(ne!==null){for(var he=0;he<ne.length;he++){var je=ne[he];for(ft=je;ft!==null;){var Qe=ft;switch(Qe.tag){case 0:case 11:case 15:Lh(8,Qe,A)}var Je=Qe.child;if(Je!==null)Je.return=Qe,ft=Je;else for(;ft!==null;){Qe=ft;var Ke=Qe.sibling,ht=Qe.return;if(E1(Qe),Qe===je){ft=null;break}if(Ke!==null){Ke.return=ht,ft=Ke;break}ft=ht}}}var mt=A.alternate;if(mt!==null){var yt=mt.child;if(yt!==null){mt.child=null;do{var mr=yt.sibling;yt.sibling=null,yt=mr}while(yt!==null)}}ft=A}}if((A.subtreeFlags&2064)!==0&&q!==null)q.return=A,ft=q;else e:for(;ft!==null;){if(A=ft,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Lh(9,A,A.return)}var Ie=A.sibling;if(Ie!==null){Ie.return=A.return,ft=Ie;break e}ft=A.return}}var me=i.current;for(ft=me;ft!==null;){q=ft;var Ce=q.child;if((q.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=q,ft=Ce;else e:for(q=me;ft!==null;){if(ne=ft,(ne.flags&2048)!==0)try{switch(ne.tag){case 0:case 11:case 15:Gd(9,ne)}}catch(wt){ur(ne,ne.return,wt)}if(ne===q){ft=null;break e}var Ze=ne.sibling;if(Ze!==null){Ze.return=ne.return,ft=Ze;break e}ft=ne.return}}if(hn=N,I(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Xs,i)}catch{}p=!0}return p}finally{Wt=u,wo.transition=a}}return!1}function U1(i,a,u){a=Fc(u,a),a=s1(i,a,1),i=ys(i,a,1),a=rs(),i!==null&&(Ls(i,1,a),bs(i,a))}function ur(i,a,u){if(i.tag===3)U1(i,i,u);else for(;a!==null;){if(a.tag===3){U1(a,i,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Xl===null||!Xl.has(p))){i=Fc(u,i),i=o1(a,i,1),a=ys(a,i,1),i=rs(),a!==null&&(Ls(a,1,i),bs(a,i));break}}a=a.return}}function h4(i,a,u){var p=i.pingCache;p!==null&&p.delete(a),a=rs(),i.pingedLanes|=i.suspendedLanes&u,Yr===i&&(fi&u)===u&&(Fr===4||Fr===3&&(fi&130023424)===fi&&500>Nn()-dm?Yu(i,0):hm|=u),bs(i,a)}function z1(i,a){a===0&&((i.mode&1)===0?a=1:(a=Zs,Zs<<=1,(Zs&130023424)===0&&(Zs=4194304)));var u=rs();i=mn(i,a),i!==null&&(Ls(i,a,u),bs(i,u))}function d4(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),z1(i,u)}function f4(i,a){var u=0;switch(i.tag){case 13:var p=i.stateNode,N=i.memoizedState;N!==null&&(u=N.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),z1(i,u)}var q1;q1=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||Ti.current)_s=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return _s=!1,e4(i,a,u);_s=(i.flags&131072)!==0}else _s=!1,Me&&(a.flags&1048576)!==0&&ze(a,$,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;$d(i,a),i=a.pendingProps;var N=Hl(a,Or.current);zn(a,u),N=$u(null,a,p,i,N,u);var A=yo();return a.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Pi(p)?(A=!0,sl(a)):A=!1,a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Ic(a),N.updater=qd,a.stateNode=N,N._reactInternals=a,Yp(a,p,i,u),a=em(null,a,p,!0,A,u)):(a.tag=0,Me&&A&&Oe(a),ns(null,a,N,u),a=a.child),a;case 16:p=a.elementType;e:{switch($d(i,a),i=a.pendingProps,N=p._init,p=N(p._payload),a.type=p,N=a.tag=m4(p),i=Go(p,i),N){case 0:a=Zp(null,a,p,i,u);break e;case 1:a=m1(null,a,p,i,u);break e;case 11:a=c1(null,a,p,i,u);break e;case 14:a=h1(null,a,p,Go(p.type,i),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,N=a.pendingProps,N=a.elementType===p?N:Go(p,N),Zp(i,a,p,N,u);case 1:return p=a.type,N=a.pendingProps,N=a.elementType===p?N:Go(p,N),m1(i,a,p,N,u);case 3:e:{if(g1(a),i===null)throw Error(t(387));p=a.pendingProps,A=a.memoizedState,N=A.element,Ah(i,a),qo(a,p,null,u);var q=a.memoizedState;if(p=q.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){N=Fc(Error(t(423)),a),a=v1(i,a,p,u,N);break e}else if(p!==N){N=Fc(Error(t(424)),a),a=v1(i,a,p,u,N);break e}else for(Ve=ci(a.stateNode.containerInfo.firstChild),fe=a,Me=!0,Be=null,u=pn(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($t(),p===N){a=ul(i,a,u);break e}ns(i,a,p,u)}a=a.child}return a;case 5:return Fd(a),i===null&&at(a),p=a.type,N=a.pendingProps,A=i!==null?i.memoizedProps:null,q=N.children,xh(p,N)?q=null:A!==null&&xh(p,A)&&(a.flags|=32),p1(i,a),ns(i,a,q,u),a.child;case 6:return i===null&&at(a),null;case 13:return y1(i,a,u);case 4:return Gl(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=dr(a,null,p,u):ns(i,a,p,u),a.child;case 11:return p=a.type,N=a.pendingProps,N=a.elementType===p?N:Go(p,N),c1(i,a,p,N,u);case 7:return ns(i,a,a.pendingProps,u),a.child;case 8:return ns(i,a,a.pendingProps.children,u),a.child;case 12:return ns(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,N=a.pendingProps,A=a.memoizedProps,q=N.value,Sn(Kr,p._currentValue),p._currentValue=q,A!==null)if(cn(A.value,q)){if(A.children===N.children&&!Ti.current){a=ul(i,a,u);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var ne=A.dependencies;if(ne!==null){q=A.child;for(var he=ne.firstContext;he!==null;){if(he.context===p){if(A.tag===1){he=vs(-1,u&-u),he.tag=2;var je=A.updateQueue;if(je!==null){je=je.shared;var Qe=je.pending;Qe===null?he.next=he:(he.next=Qe.next,Qe.next=he),je.pending=he}}A.lanes|=u,he=A.alternate,he!==null&&(he.lanes|=u),gs(A.return,u,a),ne.lanes|=u;break}he=he.next}}else if(A.tag===10)q=A.type===a.type?null:A.child;else if(A.tag===18){if(q=A.return,q===null)throw Error(t(341));q.lanes|=u,ne=q.alternate,ne!==null&&(ne.lanes|=u),gs(q,u,a),q=A.sibling}else q=A.child;if(q!==null)q.return=A;else for(q=A;q!==null;){if(q===a){q=null;break}if(A=q.sibling,A!==null){A.return=q.return,q=A;break}q=q.return}A=q}ns(i,a,N.children,u),a=a.child}return a;case 9:return N=a.type,p=a.pendingProps.children,zn(a,u),N=ar(N),p=p(N),a.flags|=1,ns(i,a,p,u),a.child;case 14:return p=a.type,N=Go(p,a.pendingProps),N=Go(p.type,N),h1(i,a,p,N,u);case 15:return d1(i,a,a.type,a.pendingProps,u);case 17:return p=a.type,N=a.pendingProps,N=a.elementType===p?N:Go(p,N),$d(i,a),a.tag=1,Pi(p)?(i=!0,sl(a)):i=!1,zn(a,u),r1(a,p,N),Yp(a,p,N,u),em(null,a,p,!0,i,u);case 19:return _1(i,a,u);case 22:return f1(i,a,u)}throw Error(t(156,a.tag))};function H1(i,a){return Cs(i,a)}function p4(i,a,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(i,a,u,p){return new p4(i,a,u,p)}function _m(i){return i=i.prototype,!(!i||!i.isReactComponent)}function m4(i){if(typeof i=="function")return _m(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Te)return 14}return 2}function nu(i,a){var u=i.alternate;return u===null?(u=_o(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function nf(i,a,u,p,N,A){var q=2;if(p=i,typeof i=="function")_m(i)&&(q=1);else if(typeof i=="string")q=5;else e:switch(i){case W:return Xu(u.children,N,A,a);case R:q=8,N|=8;break;case B:return i=_o(12,u,a,N|2),i.elementType=B,i.lanes=A,i;case D:return i=_o(13,u,a,N),i.elementType=D,i.lanes=A,i;case oe:return i=_o(19,u,a,N),i.elementType=oe,i.lanes=A,i;case Pe:return rf(u,N,A,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:q=10;break e;case T:q=9;break e;case j:q=11;break e;case Te:q=14;break e;case Ae:q=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=_o(q,u,a,N),a.elementType=i,a.type=p,a.lanes=A,a}function Xu(i,a,u,p){return i=_o(7,i,p,a),i.lanes=u,i}function rf(i,a,u,p){return i=_o(22,i,p,a),i.elementType=Pe,i.lanes=u,i.stateNode={isHidden:!1},i}function xm(i,a,u){return i=_o(6,i,null,a),i.lanes=u,i}function bm(i,a,u){return a=_o(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function g4(i,a,u,p,N){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=p,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Nm(i,a,u,p,N,A,q,ne,he){return i=new g4(i,a,u,ne,he),a===1?(a=1,A===!0&&(a|=8)):a=0,A=_o(3,null,null,a),i.current=A,A.stateNode=i,A.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ic(A),i}function v4(i,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:p==null?null:""+p,children:i,containerInfo:a,implementation:u}}function $1(i){if(!i)return wa;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Pi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Pi(u))return Eh(i,u,a)}return a}function W1(i,a,u,p,N,A,q,ne,he){return i=Nm(u,p,!0,i,N,A,q,ne,he),i.context=$1(null),u=i.current,p=rs(),N=eu(u),A=vs(p,N),A.callback=a??null,ys(u,A,N),i.current.lanes=N,Ls(i,N,p),bs(i,p),i}function sf(i,a,u,p){var N=a.current,A=rs(),q=eu(N);return u=$1(u),a.context===null?a.context=u:a.pendingContext=u,a=vs(A,q),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=ys(N,a,q),i!==null&&(Yo(i,N,q,A),ol(i,N,q)),q}function of(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function G1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Sm(i,a){G1(i,a),(i=i.alternate)&&G1(i,a)}function y4(){return null}var K1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Em(i){this._internalRoot=i}af.prototype.render=Em.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));sf(i,a,null,null)},af.prototype.unmount=Em.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Qu(function(){sf(null,i,null,null)}),a[Gr]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var a=ls();i={blockedOn:null,target:i,priority:a};for(var u=0;u<us.length&&a!==0&&a<us[u].priority;u++);us.splice(u,0,i),u===0&&ua(i)}};function Am(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function lf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function w4(i,a,u,p,N){if(N){if(typeof p=="function"){var A=p;p=function(){var je=of(q);A.call(je)}}var q=W1(a,p,i,0,null,!1,!1,"",Q1);return i._reactRootContainer=q,i[Gr]=q.current,el(i.nodeType===8?i.parentNode:i),Qu(),q}for(;N=i.lastChild;)i.removeChild(N);if(typeof p=="function"){var ne=p;p=function(){var je=of(he);ne.call(je)}}var he=Nm(i,0,!1,null,null,!1,!1,"",Q1);return i._reactRootContainer=he,i[Gr]=he.current,el(i.nodeType===8?i.parentNode:i),Qu(function(){sf(a,he,u,p)}),he}function uf(i,a,u,p,N){var A=u._reactRootContainer;if(A){var q=A;if(typeof N=="function"){var ne=N;N=function(){var he=of(q);ne.call(he)}}sf(a,q,i,N)}else q=w4(u,a,i,N,p);return of(q)}El=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=eo(a.pendingLanes);u!==0&&(js(a,u|1),bs(a,Nn()),(hn&6)===0&&(Bc=Nn()+500,I()))}break;case 13:Qu(function(){var p=mn(i,1);if(p!==null){var N=rs();Yo(p,i,1,N)}}),Sm(i,1)}},aa=function(i){if(i.tag===13){var a=mn(i,134217728);if(a!==null){var u=rs();Yo(a,i,134217728,u)}Sm(i,134217728)}},Al=function(i){if(i.tag===13){var a=eu(i),u=mn(i,a);if(u!==null){var p=rs();Yo(u,i,a,p)}Sm(i,a)}},ls=function(){return Wt},To=function(i,a){var u=Wt;try{return Wt=i,a()}finally{Wt=u}},An=function(i,a,u){switch(a){case"input":if(Lt(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==i&&p.form===i.form){var N=qu(p);if(!N)throw Error(t(90));it(p),Lt(p,N)}}}break;case"textarea":Ct(i,u);break;case"select":a=u.value,a!=null&&tt(i,!!u.multiple,a,!1)}},qi=vm,Xn=Qu;var _4={usingClientEntryPoint:!1,Events:[ql,rl,qu,St,Zt,vm]},Fh={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x4={bundleType:Fh.bundleType,version:Fh.version,rendererPackageName:Fh.rendererPackageName,rendererConfig:Fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ps(i),i===null?null:i.stateNode},findFiberByHostInstance:Fh.findFiberByHostInstance||y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{Xs=cf.inject(x4),ni=cf}catch{}}return Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_4,Ns.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(a))throw Error(t(200));return v4(i,a,null,u)},Ns.createRoot=function(i,a){if(!Am(i))throw Error(t(299));var u=!1,p="",N=K1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Nm(i,1,!1,null,null,u,!1,p,N),i[Gr]=a.current,el(i.nodeType===8?i.parentNode:i),new Em(a)},Ns.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ps(a),i=i===null?null:i.stateNode,i},Ns.flushSync=function(i){return Qu(i)},Ns.hydrate=function(i,a,u){if(!lf(a))throw Error(t(200));return uf(null,i,a,!0,u)},Ns.hydrateRoot=function(i,a,u){if(!Am(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,N=!1,A="",q=K1;if(u!=null&&(u.unstable_strictMode===!0&&(N=!0),u.identifierPrefix!==void 0&&(A=u.identifierPrefix),u.onRecoverableError!==void 0&&(q=u.onRecoverableError)),a=W1(a,null,i,1,u??null,N,!1,A,q),i[Gr]=a.current,el(i),p)for(i=0;i<p.length;i++)u=p[i],N=u._getVersion,N=N(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,N]:a.mutableSourceEagerHydrationData.push(u,N);return new af(a)},Ns.render=function(i,a,u){if(!lf(a))throw Error(t(200));return uf(null,i,a,!1,u)},Ns.unmountComponentAtNode=function(i){if(!lf(i))throw Error(t(40));return i._reactRootContainer?(Qu(function(){uf(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},Ns.unstable_batchedUpdates=vm,Ns.unstable_renderSubtreeIntoContainer=function(i,a,u,p){if(!lf(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return uf(i,a,u,!1,p)},Ns.version="18.3.1-next-f1338f8080-20240426",Ns}var r2;function x5(){if(r2)return Pm.exports;r2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pm.exports=k4(),Pm.exports}var i2;function C4(){if(i2)return hf;i2=1;var n=x5();return hf.createRoot=n.createRoot,hf.hydrateRoot=n.hydrateRoot,hf}var R4=C4();const L4=_5(R4),j4="modulepreload",O4=function(n){return"/"+n},s2={},Ff=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let d=function(g){return Promise.all(g.map(w=>Promise.resolve(w).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=d(t.map(g=>{if(g=O4(g),g in s2)return;s2[g]=!0;const w=g.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const x=document.createElement("link");if(x.rel=w?"stylesheet":j4,w||(x.as="script"),x.crossOrigin="",x.href=g,c&&x.setAttribute("nonce",c),document.head.appendChild(x),w)return new Promise((y,L)=>{x.addEventListener("load",y),x.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};x5();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},td.apply(this,arguments)}var cu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(cu||(cu={}));const o2="popstate";function D4(n){n===void 0&&(n={});function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return Zm("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Mf(s)}return M4(e,t,null,n)}function Ir(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function b5(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F4(){return Math.random().toString(36).substr(2,8)}function a2(n,e){return{usr:n.state,key:n.key,idx:e}}function Zm(n,e,t,r){return t===void 0&&(t=null),td({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ph(e):e,{state:t,key:e&&e.key||r||F4()})}function Mf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ph(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function M4(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c=cu.Pop,d=null,g=w();g==null&&(g=0,l.replaceState(td({},l.state,{idx:g}),""));function w(){return(l.state||{idx:null}).idx}function b(){c=cu.Pop;let C=w(),V=C==null?null:C-g;g=C,d&&d({action:c,location:O.location,delta:V})}function x(C,V){c=cu.Push;let Y=Zm(O.location,C,V);g=w()+1;let Z=a2(Y,g),ce=O.createHref(Y);try{l.pushState(Z,"",ce)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;s.location.assign(ce)}o&&d&&d({action:c,location:O.location,delta:1})}function y(C,V){c=cu.Replace;let Y=Zm(O.location,C,V);g=w();let Z=a2(Y,g),ce=O.createHref(Y);l.replaceState(Z,"",ce),o&&d&&d({action:c,location:O.location,delta:0})}function L(C){let V=s.location.origin!=="null"?s.location.origin:s.location.href,Y=typeof C=="string"?C:Mf(C);return Y=Y.replace(/ $/,"%20"),Ir(V,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,V)}let O={get action(){return c},get location(){return n(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(o2,b),d=C,()=>{s.removeEventListener(o2,b),d=null}},createHref(C){return e(s,C)},createURL:L,encodeLocation(C){let V=L(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:x,replace:y,go(C){return l.go(C)}};return O}var l2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(l2||(l2={}));function V4(n,e,t){return t===void 0&&(t="/"),B4(n,e,t)}function B4(n,e,t,r){let s=typeof e=="string"?ph(e):e,o=Bg(s.pathname||"/",t);if(o==null)return null;let l=N5(n);U4(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let g=Z4(o);c=Y4(l[d],g)}return c}function N5(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Ir(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let g=fu([r,d.relativePath]),w=t.concat(d);o.children&&o.children.length>0&&(Ir(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),N5(o.children,e,w,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:K4(g,o.index),routesMeta:w})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of S5(o.path))s(o,l,d)}),e}function S5(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=S5(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function U4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Q4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const z4=/^:[\w-]+$/,q4=3,H4=2,$4=1,W4=10,G4=-2,u2=n=>n==="*";function K4(n,e){let t=n.split("/"),r=t.length;return t.some(u2)&&(r+=G4),e&&(r+=H4),t.filter(s=>!u2(s)).reduce((s,o)=>s+(z4.test(o)?q4:o===""?$4:W4),r)}function Q4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Y4(n,e,t){let{routesMeta:r}=n,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],g=c===r.length-1,w=o==="/"?e:e.slice(o.length)||"/",b=J4({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},w),x=d.route;if(!b)return null;Object.assign(s,b.params),l.push({params:s,pathname:fu([o,b.pathname]),pathnameBase:rx(fu([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=fu([o,b.pathnameBase]))}return l}function J4(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=X4(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((g,w,b)=>{let{paramName:x,isOptional:y}=w;if(x==="*"){let O=c[b]||"";l=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const L=c[b];return y&&!L?g[x]=void 0:g[x]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:l,pattern:n}}function X4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),b5(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Z4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return b5(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Bg(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ex(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ph(n):n;return{pathname:t?t.startsWith("/")?t:tx(t,e):e,search:ix(r),hash:sx(s)}}function tx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Rm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function E5(n,e){let t=nx(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function A5(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ph(n):(s=td({},n),Ir(!s.pathname||!s.pathname.includes("?"),Rm("?","pathname","search",s)),Ir(!s.pathname||!s.pathname.includes("#"),Rm("#","pathname","hash",s)),Ir(!s.search||!s.search.includes("#"),Rm("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let b=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),b-=1;s.pathname=x.join("/")}c=b>=0?e[b]:"/"}let d=ex(s,c),g=l&&l!=="/"&&l.endsWith("/"),w=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(g||w)&&(d.pathname+="/"),d}const fu=n=>n.join("/").replace(/\/\/+/g,"/"),rx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ix=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ox(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const I5=["post","put","patch","delete"];new Set(I5);const ax=["get",...I5];new Set(ax);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nd.apply(this,arguments)}const Ug=Le.createContext(null),lx=Le.createContext(null),fc=Le.createContext(null),dp=Le.createContext(null),Pu=Le.createContext({outlet:null,matches:[],isDataRoute:!1}),T5=Le.createContext(null);function ux(n,e){let{relative:t}=e===void 0?{}:e;pd()||Ir(!1);let{basename:r,navigator:s}=Le.useContext(fc),{hash:o,pathname:l,search:c}=k5(n,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:fu([r,l])),s.createHref({pathname:d,search:c,hash:o})}function pd(){return Le.useContext(dp)!=null}function _l(){return pd()||Ir(!1),Le.useContext(dp).location}function P5(n){Le.useContext(fc).static||Le.useLayoutEffect(n)}function Fa(){let{isDataRoute:n}=Le.useContext(Pu);return n?bx():cx()}function cx(){pd()||Ir(!1);let n=Le.useContext(Ug),{basename:e,future:t,navigator:r}=Le.useContext(fc),{matches:s}=Le.useContext(Pu),{pathname:o}=_l(),l=JSON.stringify(E5(s,t.v7_relativeSplatPath)),c=Le.useRef(!1);return P5(()=>{c.current=!0}),Le.useCallback(function(g,w){if(w===void 0&&(w={}),!c.current)return;if(typeof g=="number"){r.go(g);return}let b=A5(g,JSON.parse(l),o,w.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:fu([e,b.pathname])),(w.replace?r.replace:r.push)(b,w.state,w)},[e,r,l,o,n])}function zg(){let{matches:n}=Le.useContext(Pu),e=n[n.length-1];return e?e.params:{}}function k5(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=Le.useContext(fc),{matches:s}=Le.useContext(Pu),{pathname:o}=_l(),l=JSON.stringify(E5(s,r.v7_relativeSplatPath));return Le.useMemo(()=>A5(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function hx(n,e){return dx(n,e)}function dx(n,e,t,r){pd()||Ir(!1);let{navigator:s}=Le.useContext(fc),{matches:o}=Le.useContext(Pu),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let g=_l(),w;if(e){var b;let C=typeof e=="string"?ph(e):e;d==="/"||(b=C.pathname)!=null&&b.startsWith(d)||Ir(!1),w=C}else w=g;let x=w.pathname||"/",y=x;if(d!=="/"){let C=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let L=V4(n,{pathname:y}),O=vx(L&&L.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:fu([d,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:fu([d,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,r);return e&&O?Le.createElement(dp.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:cu.Pop}},O):O}function fx(){let n=xx(),e=ox(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Le.createElement(Le.Fragment,null,Le.createElement("h2",null,"Unexpected Application Error!"),Le.createElement("h3",{style:{fontStyle:"italic"}},e),t?Le.createElement("pre",{style:s},t):null,null)}const px=Le.createElement(fx,null);class mx extends Le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Le.createElement(Pu.Provider,{value:this.props.routeContext},Le.createElement(T5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gx(n){let{routeContext:e,match:t,children:r}=n,s=Le.useContext(Ug);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Le.createElement(Pu.Provider,{value:e},r)}function vx(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let w=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);w>=0||Ir(!1),l=l.slice(0,Math.min(l.length,w+1))}let d=!1,g=-1;if(t&&r&&r.v7_partialHydration)for(let w=0;w<l.length;w++){let b=l[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=w),b.route.id){let{loaderData:x,errors:y}=t,L=b.route.loader&&x[b.route.id]===void 0&&(!y||y[b.route.id]===void 0);if(b.route.lazy||L){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((w,b,x)=>{let y,L=!1,O=null,C=null;t&&(y=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||px,d&&(g<0&&x===0?(Nx("route-fallback"),L=!0,C=null):g===x&&(L=!0,C=b.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,x+1)),Y=()=>{let Z;return y?Z=O:L?Z=C:b.route.Component?Z=Le.createElement(b.route.Component,null):b.route.element?Z=b.route.element:Z=w,Le.createElement(gx,{match:b,routeContext:{outlet:w,matches:V,isDataRoute:t!=null},children:Z})};return t&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?Le.createElement(mx,{location:t.location,revalidation:t.revalidation,component:O,error:y,children:Y(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):Y()},null)}var C5=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(C5||{}),R5=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(R5||{});function yx(n){let e=Le.useContext(Ug);return e||Ir(!1),e}function wx(n){let e=Le.useContext(lx);return e||Ir(!1),e}function _x(n){let e=Le.useContext(Pu);return e||Ir(!1),e}function L5(n){let e=_x(),t=e.matches[e.matches.length-1];return t.route.id||Ir(!1),t.route.id}function xx(){var n;let e=Le.useContext(T5),t=wx(),r=L5();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function bx(){let{router:n}=yx(C5.UseNavigateStable),e=L5(R5.UseNavigateStable),t=Le.useRef(!1);return P5(()=>{t.current=!0}),Le.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,nd({fromRouteId:e},o)))},[n,e])}const c2={};function Nx(n,e,t){c2[n]||(c2[n]=!0)}function Sx(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Ss(n){Ir(!1)}function Ex(n){let{basename:e="/",children:t=null,location:r,navigationType:s=cu.Pop,navigator:o,static:l=!1,future:c}=n;pd()&&Ir(!1);let d=e.replace(/^\/*/,"/"),g=Le.useMemo(()=>({basename:d,navigator:o,static:l,future:nd({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof r=="string"&&(r=ph(r));let{pathname:w="/",search:b="",hash:x="",state:y=null,key:L="default"}=r,O=Le.useMemo(()=>{let C=Bg(w,d);return C==null?null:{location:{pathname:C,search:b,hash:x,state:y,key:L},navigationType:s}},[d,w,b,x,y,L,s]);return O==null?null:Le.createElement(fc.Provider,{value:g},Le.createElement(dp.Provider,{children:t,value:O}))}function Ax(n){let{children:e,location:t}=n;return hx(eg(e),t)}new Promise(()=>{});function eg(n,e){e===void 0&&(e=[]);let t=[];return Le.Children.forEach(n,(r,s)=>{if(!Le.isValidElement(r))return;let o=[...e,s];if(r.type===Le.Fragment){t.push.apply(t,eg(r.props.children,o));return}r.type!==Ss&&Ir(!1),!r.props.index||!r.props.children||Ir(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=eg(r.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tg.apply(this,arguments)}function Ix(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function Tx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Px(n,e){return n.button===0&&(!e||e==="_self")&&!Tx(n)}const kx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cx="6";try{window.__reactRouterVersion=Cx}catch{}const Rx="startTransition",h2=I4[Rx];function Lx(n){let{basename:e,children:t,future:r,window:s}=n,o=Le.useRef();o.current==null&&(o.current=D4({window:s,v5Compat:!0}));let l=o.current,[c,d]=Le.useState({action:l.action,location:l.location}),{v7_startTransition:g}=r||{},w=Le.useCallback(b=>{g&&h2?h2(()=>d(b)):d(b)},[d,g]);return Le.useLayoutEffect(()=>l.listen(w),[l,w]),Le.useEffect(()=>Sx(r),[r]),Le.createElement(Ex,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xo=Le.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:c,target:d,to:g,preventScrollReset:w,viewTransition:b}=e,x=Ix(e,kx),{basename:y}=Le.useContext(fc),L,O=!1;if(typeof g=="string"&&Ox.test(g)&&(L=g,jx))try{let Z=new URL(window.location.href),ce=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),be=Bg(ce.pathname,y);ce.origin===Z.origin&&be!=null?g=be+ce.search+ce.hash:O=!0}catch{}let C=ux(g,{relative:s}),V=Dx(g,{replace:l,state:c,target:d,preventScrollReset:w,relative:s,viewTransition:b});function Y(Z){r&&r(Z),Z.defaultPrevented||V(Z)}return Le.createElement("a",tg({},x,{href:L||C,onClick:O||o?r:Y,ref:t,target:d}))});var d2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(d2||(d2={}));var f2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(f2||(f2={}));function Dx(n,e){let{target:t,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:c}=e===void 0?{}:e,d=Fa(),g=_l(),w=k5(n,{relative:l});return Le.useCallback(b=>{if(Px(b,t)){b.preventDefault();let x=r!==void 0?r:Mf(g)===Mf(w);d(n,{replace:x,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[g,d,w,r,s,t,n,o,l,c])}const Fx=()=>{};var p2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Mx=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},O5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,g=d?n[s+2]:0,w=o>>2,b=(o&3)<<4|c>>4;let x=(c&15)<<2|g>>6,y=g&63;d||(y=64,l||(x=64)),r.push(t[w],t[b],t[x],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j5(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Mx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||g==null||b==null)throw new Vx;const x=o<<2|c>>4;if(r.push(x),g!==64){const y=c<<4&240|g>>2;if(r.push(y),b!==64){const L=g<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bx=function(n){const e=j5(n);return O5.encodeByteArray(e,!0)},Vf=function(n){return Bx(n).replace(/\./g,"")},D5=function(n){try{return O5.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=()=>Ux().__FIREBASE_DEFAULTS__,qx=()=>{if(typeof process>"u"||typeof p2>"u")return;const n=p2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Hx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&D5(n[1]);return e&&JSON.parse(e)},fp=()=>{try{return Fx()||zx()||qx()||Hx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},F5=n=>{var e,t;return(t=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},M5=n=>{const e=F5(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},V5=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config},B5=n=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vf(JSON.stringify(t)),Vf(JSON.stringify(l)),""].join(".")}const Gh={};function Wx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gh))Gh[e]?n.emulator.push(e):n.prod.push(e);return n}function Gx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let m2=!1;function Hg(n,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Gh[n]===e||Gh[n]||m2)return;Gh[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=Wx().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,y){x.setAttribute("width","24"),x.setAttribute("id",y),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{m2=!0,l()},x}function w(x,y){x.setAttribute("id",y),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=Gx(r),y=t("text"),L=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),C=document.getElementById(O)||document.createElement("a"),V=t("preprendIcon"),Y=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Z=x.element;c(Z),w(C,O);const ce=g();d(Y,V),Z.append(Y,L,C,ce),document.body.appendChild(Z)}o?(L.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function Qx(){var n;const e=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Xx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zx(){const n=zi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eb(){return!Qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="FirebaseError";class Ma extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rb,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?ib(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Ma(s,c,r)}}function ib(n,e){return n.replace(sb,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sb=/\{\$([^}]+)}/g;function ob(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],l=e[s];if(g2(o)&&g2(l)){if(!oc(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function g2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function zh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ab(n,e){const t=new lb(n,e);return t.subscribe.bind(t)}class lb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ub(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Lm),s.error===void 0&&(s.error=Lm),s.complete===void 0&&(s.complete=Lm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ub(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n){return n&&n._delegate?n._delegate:n}class wu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $x;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(db(e))try{this.getOrInitializeService({instanceIdentifier:Zu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Zu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zu){return this.instances.has(e)}getOptions(e=Zu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zu){return this.component?this.component.multipleInstances?e:Zu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hb(n){return n===Zu?void 0:n}function db(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tn||(tn={}));const pb={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},mb=tn.INFO,gb={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},vb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=gb[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=mb,this._logHandler=vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const yb=(n,e)=>e.some(t=>n instanceof t);let v2,y2;function wb(){return v2||(v2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _b(){return y2||(y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z5=new WeakMap,ng=new WeakMap,q5=new WeakMap,jm=new WeakMap,Wg=new WeakMap;function xb(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(pu(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&z5.set(t,n)}).catch(()=>{}),Wg.set(e,n),e}function bb(n){if(ng.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ng.set(n,e)}let rg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ng.get(n);if(e==="objectStoreNames")return n.objectStoreNames||q5.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Nb(n){rg=n(rg)}function Sb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Om(this),e,...t);return q5.set(r,e.sort?e.sort():[e]),pu(r)}:_b().includes(n)?function(...e){return n.apply(Om(this),e),pu(z5.get(this))}:function(...e){return pu(n.apply(Om(this),e))}}function Eb(n){return typeof n=="function"?Sb(n):(n instanceof IDBTransaction&&bb(n),yb(n,wb())?new Proxy(n,rg):n)}function pu(n){if(n instanceof IDBRequest)return xb(n);if(jm.has(n))return jm.get(n);const e=Eb(n);return e!==n&&(jm.set(n,e),Wg.set(e,n)),e}const Om=n=>Wg.get(n);function Ab(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),c=pu(l);return r&&l.addEventListener("upgradeneeded",d=>{r(pu(l.result),d.oldVersion,d.newVersion,pu(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const Ib=["get","getKey","getAll","getAllKeys","count"],Tb=["put","add","delete","clear"],Dm=new Map;function w2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Tb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ib.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(c.shift())),(await Promise.all([g[t](...c),s&&d.done]))[0]};return Dm.set(e,o),o}Nb(n=>({...n,get:(e,t,r)=>w2(e,t)||n.get(e,t,r),has:(e,t)=>!!w2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kb(n){const e=n.getComponent();return e?.type==="VERSION"}const ig="@firebase/app",_2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new $g("@firebase/app"),Cb="@firebase/app-compat",Rb="@firebase/analytics-compat",Lb="@firebase/analytics",jb="@firebase/app-check-compat",Ob="@firebase/app-check",Db="@firebase/auth",Fb="@firebase/auth-compat",Mb="@firebase/database",Vb="@firebase/data-connect",Bb="@firebase/database-compat",Ub="@firebase/functions",zb="@firebase/functions-compat",qb="@firebase/installations",Hb="@firebase/installations-compat",$b="@firebase/messaging",Wb="@firebase/messaging-compat",Gb="@firebase/performance",Kb="@firebase/performance-compat",Qb="@firebase/remote-config",Yb="@firebase/remote-config-compat",Jb="@firebase/storage",Xb="@firebase/storage-compat",Zb="@firebase/firestore",e3="@firebase/ai",t3="@firebase/firestore-compat",n3="firebase",r3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",i3={[ig]:"fire-core",[Cb]:"fire-core-compat",[Lb]:"fire-analytics",[Rb]:"fire-analytics-compat",[Ob]:"fire-app-check",[jb]:"fire-app-check-compat",[Db]:"fire-auth",[Fb]:"fire-auth-compat",[Mb]:"fire-rtdb",[Vb]:"fire-data-connect",[Bb]:"fire-rtdb-compat",[Ub]:"fire-fn",[zb]:"fire-fn-compat",[qb]:"fire-iid",[Hb]:"fire-iid-compat",[$b]:"fire-fcm",[Wb]:"fire-fcm-compat",[Gb]:"fire-perf",[Kb]:"fire-perf-compat",[Qb]:"fire-rc",[Yb]:"fire-rc-compat",[Jb]:"fire-gcs",[Xb]:"fire-gcs-compat",[Zb]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Map,s3=new Map,og=new Map;function x2(n,e){try{n.container.addComponent(e)}catch(t){gl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ac(n){const e=n.name;if(og.has(e))return gl.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,n);for(const t of Bf.values())x2(t,n);for(const t of s3.values())x2(t,n);return!0}function pp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function As(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mu=new md("app","Firebase",o3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=r3;function H5(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw mu.create("bad-app-name",{appName:String(s)});if(t||(t=V5()),!t)throw mu.create("no-options");const o=Bf.get(s);if(o){if(oc(t,o.options)&&oc(r,o.config))return o;throw mu.create("duplicate-app",{appName:s})}const l=new fb(s);for(const d of og.values())l.addComponent(d);const c=new a3(t,r,l);return Bf.set(s,c),c}function Gg(n=sg){const e=Bf.get(n);if(!e&&n===sg&&V5())return H5();if(!e)throw mu.create("no-app",{appName:n});return e}function Ia(n,e,t){var r;let s=(r=i3[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gl.warn(c.join(" "));return}ac(new wu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firebase-heartbeat-database",u3=1,rd="firebase-heartbeat-store";let Fm=null;function $5(){return Fm||(Fm=Ab(l3,u3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rd)}catch(t){console.warn(t)}}}}).catch(n=>{throw mu.create("idb-open",{originalErrorMessage:n.message})})),Fm}async function c3(n){try{const t=(await $5()).transaction(rd),r=await t.objectStore(rd).get(W5(n));return await t.done,r}catch(e){if(e instanceof Ma)gl.warn(e.message);else{const t=mu.create("idb-get",{originalErrorMessage:e?.message});gl.warn(t.message)}}}async function b2(n,e){try{const r=(await $5()).transaction(rd,"readwrite");await r.objectStore(rd).put(e,W5(n)),await r.done}catch(t){if(t instanceof Ma)gl.warn(t.message);else{const r=mu.create("idb-set",{originalErrorMessage:t?.message});gl.warn(r.message)}}}function W5(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=1024,d3=30;class f3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new m3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=N2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>d3){const l=g3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=N2(),{heartbeatsToSend:r,unsentEntries:s}=p3(this._heartbeatsCache.heartbeats),o=Vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return gl.warn(t),""}}}function N2(){return new Date().toISOString().substring(0,10)}function p3(n,e=h3){const t=[];let r=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),S2(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),S2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class m3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await c3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return b2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return b2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S2(n){return Vf(JSON.stringify({version:2,heartbeats:n})).length}function g3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){ac(new wu("platform-logger",e=>new Pb(e),"PRIVATE")),ac(new wu("heartbeat",e=>new f3(e),"PRIVATE")),Ia(ig,_2,n),Ia(ig,_2,"esm2017"),Ia("fire-js","")}v3("");var E2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gu,G5;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(W,R){function B(){}B.prototype=R.prototype,W.D=R.prototype,W.prototype=new B,W.prototype.constructor=W,W.C=function(U,T,j){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return R.prototype[T].apply(U,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(W,R,B){B||(B=0);var U=Array(16);if(typeof R=="string")for(var T=0;16>T;++T)U[T]=R.charCodeAt(B++)|R.charCodeAt(B++)<<8|R.charCodeAt(B++)<<16|R.charCodeAt(B++)<<24;else for(T=0;16>T;++T)U[T]=R[B++]|R[B++]<<8|R[B++]<<16|R[B++]<<24;R=W.g[0],B=W.g[1],T=W.g[2];var j=W.g[3],D=R+(j^B&(T^j))+U[0]+3614090360&4294967295;R=B+(D<<7&4294967295|D>>>25),D=j+(T^R&(B^T))+U[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=T+(B^j&(R^B))+U[2]+606105819&4294967295,T=j+(D<<17&4294967295|D>>>15),D=B+(R^T&(j^R))+U[3]+3250441966&4294967295,B=T+(D<<22&4294967295|D>>>10),D=R+(j^B&(T^j))+U[4]+4118548399&4294967295,R=B+(D<<7&4294967295|D>>>25),D=j+(T^R&(B^T))+U[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=T+(B^j&(R^B))+U[6]+2821735955&4294967295,T=j+(D<<17&4294967295|D>>>15),D=B+(R^T&(j^R))+U[7]+4249261313&4294967295,B=T+(D<<22&4294967295|D>>>10),D=R+(j^B&(T^j))+U[8]+1770035416&4294967295,R=B+(D<<7&4294967295|D>>>25),D=j+(T^R&(B^T))+U[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=T+(B^j&(R^B))+U[10]+4294925233&4294967295,T=j+(D<<17&4294967295|D>>>15),D=B+(R^T&(j^R))+U[11]+2304563134&4294967295,B=T+(D<<22&4294967295|D>>>10),D=R+(j^B&(T^j))+U[12]+1804603682&4294967295,R=B+(D<<7&4294967295|D>>>25),D=j+(T^R&(B^T))+U[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=T+(B^j&(R^B))+U[14]+2792965006&4294967295,T=j+(D<<17&4294967295|D>>>15),D=B+(R^T&(j^R))+U[15]+1236535329&4294967295,B=T+(D<<22&4294967295|D>>>10),D=R+(T^j&(B^T))+U[1]+4129170786&4294967295,R=B+(D<<5&4294967295|D>>>27),D=j+(B^T&(R^B))+U[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=T+(R^B&(j^R))+U[11]+643717713&4294967295,T=j+(D<<14&4294967295|D>>>18),D=B+(j^R&(T^j))+U[0]+3921069994&4294967295,B=T+(D<<20&4294967295|D>>>12),D=R+(T^j&(B^T))+U[5]+3593408605&4294967295,R=B+(D<<5&4294967295|D>>>27),D=j+(B^T&(R^B))+U[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=T+(R^B&(j^R))+U[15]+3634488961&4294967295,T=j+(D<<14&4294967295|D>>>18),D=B+(j^R&(T^j))+U[4]+3889429448&4294967295,B=T+(D<<20&4294967295|D>>>12),D=R+(T^j&(B^T))+U[9]+568446438&4294967295,R=B+(D<<5&4294967295|D>>>27),D=j+(B^T&(R^B))+U[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=T+(R^B&(j^R))+U[3]+4107603335&4294967295,T=j+(D<<14&4294967295|D>>>18),D=B+(j^R&(T^j))+U[8]+1163531501&4294967295,B=T+(D<<20&4294967295|D>>>12),D=R+(T^j&(B^T))+U[13]+2850285829&4294967295,R=B+(D<<5&4294967295|D>>>27),D=j+(B^T&(R^B))+U[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=T+(R^B&(j^R))+U[7]+1735328473&4294967295,T=j+(D<<14&4294967295|D>>>18),D=B+(j^R&(T^j))+U[12]+2368359562&4294967295,B=T+(D<<20&4294967295|D>>>12),D=R+(B^T^j)+U[5]+4294588738&4294967295,R=B+(D<<4&4294967295|D>>>28),D=j+(R^B^T)+U[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=T+(j^R^B)+U[11]+1839030562&4294967295,T=j+(D<<16&4294967295|D>>>16),D=B+(T^j^R)+U[14]+4259657740&4294967295,B=T+(D<<23&4294967295|D>>>9),D=R+(B^T^j)+U[1]+2763975236&4294967295,R=B+(D<<4&4294967295|D>>>28),D=j+(R^B^T)+U[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=T+(j^R^B)+U[7]+4139469664&4294967295,T=j+(D<<16&4294967295|D>>>16),D=B+(T^j^R)+U[10]+3200236656&4294967295,B=T+(D<<23&4294967295|D>>>9),D=R+(B^T^j)+U[13]+681279174&4294967295,R=B+(D<<4&4294967295|D>>>28),D=j+(R^B^T)+U[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=T+(j^R^B)+U[3]+3572445317&4294967295,T=j+(D<<16&4294967295|D>>>16),D=B+(T^j^R)+U[6]+76029189&4294967295,B=T+(D<<23&4294967295|D>>>9),D=R+(B^T^j)+U[9]+3654602809&4294967295,R=B+(D<<4&4294967295|D>>>28),D=j+(R^B^T)+U[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=T+(j^R^B)+U[15]+530742520&4294967295,T=j+(D<<16&4294967295|D>>>16),D=B+(T^j^R)+U[2]+3299628645&4294967295,B=T+(D<<23&4294967295|D>>>9),D=R+(T^(B|~j))+U[0]+4096336452&4294967295,R=B+(D<<6&4294967295|D>>>26),D=j+(B^(R|~T))+U[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=T+(R^(j|~B))+U[14]+2878612391&4294967295,T=j+(D<<15&4294967295|D>>>17),D=B+(j^(T|~R))+U[5]+4237533241&4294967295,B=T+(D<<21&4294967295|D>>>11),D=R+(T^(B|~j))+U[12]+1700485571&4294967295,R=B+(D<<6&4294967295|D>>>26),D=j+(B^(R|~T))+U[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=T+(R^(j|~B))+U[10]+4293915773&4294967295,T=j+(D<<15&4294967295|D>>>17),D=B+(j^(T|~R))+U[1]+2240044497&4294967295,B=T+(D<<21&4294967295|D>>>11),D=R+(T^(B|~j))+U[8]+1873313359&4294967295,R=B+(D<<6&4294967295|D>>>26),D=j+(B^(R|~T))+U[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=T+(R^(j|~B))+U[6]+2734768916&4294967295,T=j+(D<<15&4294967295|D>>>17),D=B+(j^(T|~R))+U[13]+1309151649&4294967295,B=T+(D<<21&4294967295|D>>>11),D=R+(T^(B|~j))+U[4]+4149444226&4294967295,R=B+(D<<6&4294967295|D>>>26),D=j+(B^(R|~T))+U[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=T+(R^(j|~B))+U[2]+718787259&4294967295,T=j+(D<<15&4294967295|D>>>17),D=B+(j^(T|~R))+U[9]+3951481745&4294967295,W.g[0]=W.g[0]+R&4294967295,W.g[1]=W.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,W.g[2]=W.g[2]+T&4294967295,W.g[3]=W.g[3]+j&4294967295}r.prototype.u=function(W,R){R===void 0&&(R=W.length);for(var B=R-this.blockSize,U=this.B,T=this.h,j=0;j<R;){if(T==0)for(;j<=B;)s(this,W,j),j+=this.blockSize;if(typeof W=="string"){for(;j<R;)if(U[T++]=W.charCodeAt(j++),T==this.blockSize){s(this,U),T=0;break}}else for(;j<R;)if(U[T++]=W[j++],T==this.blockSize){s(this,U),T=0;break}}this.h=T,this.o+=R},r.prototype.v=function(){var W=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);W[0]=128;for(var R=1;R<W.length-8;++R)W[R]=0;var B=8*this.o;for(R=W.length-8;R<W.length;++R)W[R]=B&255,B/=256;for(this.u(W),W=Array(16),R=B=0;4>R;++R)for(var U=0;32>U;U+=8)W[B++]=this.g[R]>>>U&255;return W};function o(W,R){var B=c;return Object.prototype.hasOwnProperty.call(B,W)?B[W]:B[W]=R(W)}function l(W,R){this.h=R;for(var B=[],U=!0,T=W.length-1;0<=T;T--){var j=W[T]|0;U&&j==R||(B[T]=j,U=!1)}this.g=B}var c={};function d(W){return-128<=W&&128>W?o(W,function(R){return new l([R|0],0>R?-1:0)}):new l([W|0],0>W?-1:0)}function g(W){if(isNaN(W)||!isFinite(W))return b;if(0>W)return C(g(-W));for(var R=[],B=1,U=0;W>=B;U++)R[U]=W/B|0,B*=4294967296;return new l(R,0)}function w(W,R){if(W.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(W.charAt(0)=="-")return C(w(W.substring(1),R));if(0<=W.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=g(Math.pow(R,8)),U=b,T=0;T<W.length;T+=8){var j=Math.min(8,W.length-T),D=parseInt(W.substring(T,T+j),R);8>j?(j=g(Math.pow(R,j)),U=U.j(j).add(g(D))):(U=U.j(B),U=U.add(g(D)))}return U}var b=d(0),x=d(1),y=d(16777216);n=l.prototype,n.m=function(){if(O(this))return-C(this).m();for(var W=0,R=1,B=0;B<this.g.length;B++){var U=this.i(B);W+=(0<=U?U:4294967296+U)*R,R*=4294967296}return W},n.toString=function(W){if(W=W||10,2>W||36<W)throw Error("radix out of range: "+W);if(L(this))return"0";if(O(this))return"-"+C(this).toString(W);for(var R=g(Math.pow(W,6)),B=this,U="";;){var T=ce(B,R).g;B=V(B,T.j(R));var j=((0<B.g.length?B.g[0]:B.h)>>>0).toString(W);if(B=T,L(B))return j+U;for(;6>j.length;)j="0"+j;U=j+U}},n.i=function(W){return 0>W?0:W<this.g.length?this.g[W]:this.h};function L(W){if(W.h!=0)return!1;for(var R=0;R<W.g.length;R++)if(W.g[R]!=0)return!1;return!0}function O(W){return W.h==-1}n.l=function(W){return W=V(this,W),O(W)?-1:L(W)?0:1};function C(W){for(var R=W.g.length,B=[],U=0;U<R;U++)B[U]=~W.g[U];return new l(B,~W.h).add(x)}n.abs=function(){return O(this)?C(this):this},n.add=function(W){for(var R=Math.max(this.g.length,W.g.length),B=[],U=0,T=0;T<=R;T++){var j=U+(this.i(T)&65535)+(W.i(T)&65535),D=(j>>>16)+(this.i(T)>>>16)+(W.i(T)>>>16);U=D>>>16,j&=65535,D&=65535,B[T]=D<<16|j}return new l(B,B[B.length-1]&-2147483648?-1:0)};function V(W,R){return W.add(C(R))}n.j=function(W){if(L(this)||L(W))return b;if(O(this))return O(W)?C(this).j(C(W)):C(C(this).j(W));if(O(W))return C(this.j(C(W)));if(0>this.l(y)&&0>W.l(y))return g(this.m()*W.m());for(var R=this.g.length+W.g.length,B=[],U=0;U<2*R;U++)B[U]=0;for(U=0;U<this.g.length;U++)for(var T=0;T<W.g.length;T++){var j=this.i(U)>>>16,D=this.i(U)&65535,oe=W.i(T)>>>16,Te=W.i(T)&65535;B[2*U+2*T]+=D*Te,Y(B,2*U+2*T),B[2*U+2*T+1]+=j*Te,Y(B,2*U+2*T+1),B[2*U+2*T+1]+=D*oe,Y(B,2*U+2*T+1),B[2*U+2*T+2]+=j*oe,Y(B,2*U+2*T+2)}for(U=0;U<R;U++)B[U]=B[2*U+1]<<16|B[2*U];for(U=R;U<2*R;U++)B[U]=0;return new l(B,0)};function Y(W,R){for(;(W[R]&65535)!=W[R];)W[R+1]+=W[R]>>>16,W[R]&=65535,R++}function Z(W,R){this.g=W,this.h=R}function ce(W,R){if(L(R))throw Error("division by zero");if(L(W))return new Z(b,b);if(O(W))return R=ce(C(W),R),new Z(C(R.g),C(R.h));if(O(R))return R=ce(W,C(R)),new Z(C(R.g),R.h);if(30<W.g.length){if(O(W)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var B=x,U=R;0>=U.l(W);)B=be(B),U=be(U);var T=Re(B,1),j=Re(U,1);for(U=Re(U,2),B=Re(B,2);!L(U);){var D=j.add(U);0>=D.l(W)&&(T=T.add(B),j=D),U=Re(U,1),B=Re(B,1)}return R=V(W,T.j(R)),new Z(T,R)}for(T=b;0<=W.l(R);){for(B=Math.max(1,Math.floor(W.m()/R.m())),U=Math.ceil(Math.log(B)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),j=g(B),D=j.j(R);O(D)||0<D.l(W);)B-=U,j=g(B),D=j.j(R);L(j)&&(j=x),T=T.add(j),W=V(W,D)}return new Z(T,W)}n.A=function(W){return ce(this,W).h},n.and=function(W){for(var R=Math.max(this.g.length,W.g.length),B=[],U=0;U<R;U++)B[U]=this.i(U)&W.i(U);return new l(B,this.h&W.h)},n.or=function(W){for(var R=Math.max(this.g.length,W.g.length),B=[],U=0;U<R;U++)B[U]=this.i(U)|W.i(U);return new l(B,this.h|W.h)},n.xor=function(W){for(var R=Math.max(this.g.length,W.g.length),B=[],U=0;U<R;U++)B[U]=this.i(U)^W.i(U);return new l(B,this.h^W.h)};function be(W){for(var R=W.g.length+1,B=[],U=0;U<R;U++)B[U]=W.i(U)<<1|W.i(U-1)>>>31;return new l(B,W.h)}function Re(W,R){var B=R>>5;R%=32;for(var U=W.g.length-B,T=[],j=0;j<U;j++)T[j]=0<R?W.i(j+B)>>>R|W.i(j+B+1)<<32-R:W.i(j+B);return new l(T,W.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G5=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=w,gu=l}).apply(typeof E2<"u"?E2:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K5,qh,Q5,Nf,ag,Y5,J5,X5;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,P){return f==Array.prototype||f==Object.prototype||(f[E]=P.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var E=0;E<f.length;++E){var P=f[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=t(this);function s(f,E){if(E)e:{var P=r;f=f.split(".");for(var G=0;G<f.length-1;G++){var ge=f[G];if(!(ge in P))break e;P=P[ge]}f=f[f.length-1],G=P[f],E=E(G),E!=G&&E!=null&&e(P,f,{configurable:!0,writable:!0,value:E})}}function o(f,E){f instanceof String&&(f+="");var P=0,G=!1,ge={next:function(){if(!G&&P<f.length){var ke=P++;return{value:E(ke,f[ke]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}s("Array.prototype.values",function(f){return f||function(){return o(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function g(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function w(f,E,P){return f.call.apply(f.bind,arguments)}function b(f,E,P){if(!f)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,G),f.apply(E,ge)}}return function(){return f.apply(E,arguments)}}function x(f,E,P){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:b,x.apply(null,arguments)}function y(f,E){var P=Array.prototype.slice.call(arguments,1);return function(){var G=P.slice();return G.push.apply(G,arguments),f.apply(this,G)}}function L(f,E){function P(){}P.prototype=E.prototype,f.aa=E.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(G,ge,ke){for(var Ge=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Ge[Ut-2]=arguments[Ut];return E.prototype[ge].apply(G,Ge)}}function O(f){const E=f.length;if(0<E){const P=Array(E);for(let G=0;G<E;G++)P[G]=f[G];return P}return[]}function C(f,E){for(let P=1;P<arguments.length;P++){const G=arguments[P];if(d(G)){const ge=f.length||0,ke=G.length||0;f.length=ge+ke;for(let Ge=0;Ge<ke;Ge++)f[ge+Ge]=G[Ge]}else f.push(G)}}class V{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function Y(f){return/^[\s\xa0]*$/.test(f)}function Z(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function ce(f){return ce[" "](f),f}ce[" "]=function(){};var be=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Re(f,E,P){for(const G in f)E.call(P,f[G],G,f)}function W(f,E){for(const P in f)E.call(void 0,f[P],P,f)}function R(f){const E={};for(const P in f)E[P]=f[P];return E}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,E){let P,G;for(let ge=1;ge<arguments.length;ge++){G=arguments[ge];for(P in G)f[P]=G[P];for(let ke=0;ke<B.length;ke++)P=B[ke],Object.prototype.hasOwnProperty.call(G,P)&&(f[P]=G[P])}}function T(f){var E=1;f=f.split(":");const P=[];for(;0<E&&f.length;)P.push(f.shift()),E--;return f.length&&P.push(f.join(":")),P}function j(f){c.setTimeout(()=>{throw f},0)}function D(){var f=_e;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class oe{constructor(){this.h=this.g=null}add(E,P){const G=Te.get();G.set(E,P),this.h?this.h.next=G:this.g=G,this.h=G}}var Te=new V(()=>new Ae,f=>f.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,se=!1,_e=new oe,pe=()=>{const f=c.Promise.resolve(void 0);Pe=()=>{f.then(re)}};var re=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(P){j(P)}var E=Te;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}se=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};c.addEventListener("test",P,E),c.removeEventListener("test",P,E)}catch{}return f}();function te(f,E){if(K.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,G=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(be){e:{try{ce(E.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(E=null)}}else P=="mouseover"?E=f.fromElement:P=="mouseout"&&(E=f.toElement);this.relatedTarget=E,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&te.aa.h.call(this)}}L(te,K);var ae={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ne(f,E,P,G,ge){this.listener=f,this.proxy=null,this.src=E,this.type=P,this.capture=!!G,this.ha=ge,this.key=++xe,this.da=this.fa=!1}function qe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function We(f){this.src=f,this.g={},this.h=0}We.prototype.add=function(f,E,P,G,ge){var ke=f.toString();f=this.g[ke],f||(f=this.g[ke]=[],this.h++);var Ge=et(f,E,G,ge);return-1<Ge?(E=f[Ge],P||(E.fa=!1)):(E=new Ne(E,this.src,ke,!!G,ge),E.fa=P,f.push(E)),E};function it(f,E){var P=E.type;if(P in f.g){var G=f.g[P],ge=Array.prototype.indexOf.call(G,E,void 0),ke;(ke=0<=ge)&&Array.prototype.splice.call(G,ge,1),ke&&(qe(E),f.g[P].length==0&&(delete f.g[P],f.h--))}}function et(f,E,P,G){for(var ge=0;ge<f.length;++ge){var ke=f[ge];if(!ke.da&&ke.listener==E&&ke.capture==!!P&&ke.ha==G)return ge}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),Fe={};function ie(f,E,P,G,ge){if(Array.isArray(E)){for(var ke=0;ke<E.length;ke++)ie(f,E[ke],P,G,ge);return null}return P=Mt(P),f&&f[we]?f.K(E,P,g(G)?!!G.capture:!1,ge):Lt(f,E,P,!1,G,ge)}function Lt(f,E,P,G,ge,ke){if(!E)throw Error("Invalid event type");var Ge=g(ge)?!!ge.capture:!!ge,Ut=vt(f);if(Ut||(f[xt]=Ut=new We(f)),P=Ut.add(E,P,G,Ge,ke),P.proxy)return P;if(G=pt(),P.proxy=G,G.src=f,G.listener=P,f.addEventListener)X||(ge=Ge),ge===void 0&&(ge=!1),f.addEventListener(E.toString(),G,ge);else if(f.attachEvent)f.attachEvent(tt(E.toString()),G);else if(f.addListener&&f.removeListener)f.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return P}function pt(){function f(P){return E.call(f.src,f.listener,P)}const E=st;return f}function Ye(f,E,P,G,ge){if(Array.isArray(E))for(var ke=0;ke<E.length;ke++)Ye(f,E[ke],P,G,ge);else G=g(G)?!!G.capture:!!G,P=Mt(P),f&&f[we]?(f=f.i,E=String(E).toString(),E in f.g&&(ke=f.g[E],P=et(ke,P,G,ge),-1<P&&(qe(ke[P]),Array.prototype.splice.call(ke,P,1),ke.length==0&&(delete f.g[E],f.h--)))):f&&(f=vt(f))&&(E=f.g[E.toString()],f=-1,E&&(f=et(E,P,G,ge)),(P=-1<f?E[f]:null)&&Xe(P))}function Xe(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[we])it(E.i,f);else{var P=f.type,G=f.proxy;E.removeEventListener?E.removeEventListener(P,G,f.capture):E.detachEvent?E.detachEvent(tt(P),G):E.addListener&&E.removeListener&&E.removeListener(G),(P=vt(E))?(it(P,f),P.h==0&&(P.src=null,E[xt]=null)):qe(f)}}}function tt(f){return f in Fe?Fe[f]:Fe[f]="on"+f}function st(f,E){if(f.da)f=!0;else{E=new te(E,this);var P=f.listener,G=f.ha||f.src;f.fa&&Xe(f),f=P.call(G,E)}return f}function vt(f){return f=f[xt],f instanceof We?f:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(f){return typeof f=="function"?f:(f[Ct]||(f[Ct]=function(E){return f.handleEvent(E)}),f[Ct])}function _t(){k.call(this),this.i=new We(this),this.M=this,this.F=null}L(_t,k),_t.prototype[we]=!0,_t.prototype.removeEventListener=function(f,E,P,G){Ye(this,f,E,P,G)};function At(f,E){var P,G=f.F;if(G)for(P=[];G;G=G.F)P.push(G);if(f=f.M,G=E.type||E,typeof E=="string")E=new K(E,f);else if(E instanceof K)E.target=E.target||f;else{var ge=E;E=new K(G,f),U(E,ge)}if(ge=!0,P)for(var ke=P.length-1;0<=ke;ke--){var Ge=E.g=P[ke];ge=Kt(Ge,G,!0,E)&&ge}if(Ge=E.g=f,ge=Kt(Ge,G,!0,E)&&ge,ge=Kt(Ge,G,!1,E)&&ge,P)for(ke=0;ke<P.length;ke++)Ge=E.g=P[ke],ge=Kt(Ge,G,!1,E)&&ge}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var P=f.g[E],G=0;G<P.length;G++)qe(P[G]);delete f.g[E],f.h--}}this.F=null},_t.prototype.K=function(f,E,P,G){return this.i.add(String(f),E,!1,P,G)},_t.prototype.L=function(f,E,P,G){return this.i.add(String(f),E,!0,P,G)};function Kt(f,E,P,G){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var ge=!0,ke=0;ke<E.length;++ke){var Ge=E[ke];if(Ge&&!Ge.da&&Ge.capture==P){var Ut=Ge.listener,Jt=Ge.ha||Ge.src;Ge.fa&&it(f.i,Ge),ge=Ut.call(Jt,G)!==!1&&ge}}return ge&&!G.defaultPrevented}function It(f,E,P){if(typeof f=="function")P&&(f=x(f,P));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(f,E||0)}function Bt(f){f.g=It(()=>{f.g=null,f.i&&(f.i=!1,Bt(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class ot extends k{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(f){k.call(this),this.h=f,this.g={}}L($n,k);var Qt=[];function ti(f){Re(f.g,function(E,P){this.g.hasOwnProperty(P)&&Xe(E)},f),f.g={}}$n.prototype.N=function(){$n.aa.N.call(this),ti(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=c.JSON.stringify,bn=c.JSON.parse,wi=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Yt(){}Yt.prototype.h=null;function ss(f){return f.h||(f.h=f.i())}function An(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){K.call(this,"d")}L(xr,K);function In(){K.call(this,"c")}L(In,K);var St={},Zt=null;function qi(){return Zt=Zt||new _t}St.La="serverreachability";function Xn(f){K.call(this,St.La,f)}L(Xn,K);function br(f){const E=qi();At(E,new Xn(E))}St.STAT_EVENT="statevent";function _i(f,E){K.call(this,St.STAT_EVENT,f),this.stat=E}L(_i,K);function ct(f){const E=qi();At(E,new _i(E,f))}St.Ma="timingevent";function Vr(f,E){K.call(this,St.Ma,f),this.size=E}L(Vr,K);function rr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},E)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function Rn(f,E,P,G,ge,ke){f.info(function(){if(f.g)if(ke)for(var Ge="",Ut=ke.split("&"),Jt=0;Jt<Ut.length;Jt++){var zt=Ut[Jt].split("=");if(1<zt.length){var fn=zt[0];zt=zt[1];var yn=fn.split("_");Ge=2<=yn.length&&yn[1]=="type"?Ge+(fn+"="+zt+"&"):Ge+(fn+"=redacted&")}}else Ge=null;else Ge=ke;return"XMLHTTP REQ ("+G+") [attempt "+ge+"]: "+E+`
`+P+`
`+Ge})}function Ln(f,E,P,G,ge,ke,Ge){f.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ge+"]: "+E+`
`+P+`
`+ke+" "+Ge})}function Mn(f,E,P,G){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ts(f,P)+(G?" "+G:"")})}function Ys(f,E){f.info(function(){return"TIMEOUT: "+E})}ir.prototype.info=function(){};function Ts(f,E){if(!f.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var G=P[f];if(!(2>G.length)){var ge=G[1];if(Array.isArray(ge)&&!(1>ge.length)){var ke=ge[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var Ge=1;Ge<ge.length;Ge++)ge[Ge]=""}}}}return un(P)}catch{return E}}var Br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Ur(){}L(Ur,Yt),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},Zn=new Ur;function Gn(f,E,P,G){this.j=f,this.i=E,this.l=P,this.R=G||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}var Ps={},ks={};function Cs(f,E,P){f.L=1,f.v=js(kr(E)),f.m=P,f.P=!0,Js(f,null)}function Js(f,E){f.F=Date.now(),Nn(f),f.A=kr(f.v);var P=f.A,G=f.R;Array.isArray(G)||(G=[String(G)]),Et(P.i,"t",G),f.C=0,P=f.j.J,f.h=new Hi,f.g=M(f.j,P?E:null,!f.m),0<f.O&&(f.M=new ot(x(f.Y,f,f.g),f.O)),E=f.U,P=f.g,G=f.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(Qt[0]=ge.toString()),ge=Qt);for(var ke=0;ke<ge.length;ke++){var Ge=ie(P,ge[ke],G||E.handleEvent,!1,E.h||E);if(!Ge)break;E.g[Ge.key]=Ge}E=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),br(),Rn(f.i,f.u,f.A,f.l,f.R,f.m)}Gn.prototype.ca=function(f){f=f.target;const E=this.M;E&&Qn(f)==3?E.j():this.Y(f)},Gn.prototype.Y=function(f){try{if(f==this.g)e:{const yn=Qn(this.g);var E=this.g.Ba();const si=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||$a(this.g)))){this.J||yn!=4||E==7||(E==8||0>=si?br(3):br(2)),os(this);var P=this.g.Z();this.X=P;t:if(So(this)){var G=$a(this.g);f="";var ge=G.length,ke=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Rs(this);var Ge="";break t}this.h.i=new c.TextDecoder}for(E=0;E<ge;E++)this.h.h=!0,f+=this.h.i.decode(G[E],{stream:!(ke&&E==ge-1)});G.length=0,this.h.g+=f,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=P==200,Ln(this.i,this.u,this.A,this.l,this.R,yn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,Jt=this.g;if((Ut=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ut)){var zt=Ut;break t}}zt=null}if(P=zt)Mn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,P);else{this.o=!1,this.s=3,ct(12),bi(this),Rs(this);break e}}if(this.P){P=!0;let Lr;for(;!this.J&&this.C<Ge.length;)if(Lr=bl(this,Ge),Lr==ks){yn==4&&(this.s=4,ct(14),P=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Lr==Ps){this.s=4,ct(15),Mn(this.i,this.l,Ge,"[Invalid Chunk]"),P=!1;break}else Mn(this.i,this.l,Lr,null),Eo(this,Lr);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||Ge.length!=0||this.h.h||(this.s=1,ct(16),P=!1),this.o=this.o&&P,!P)Mn(this.i,this.l,Ge,"[Invalid Chunked Response]"),bi(this),Rs(this);else if(0<Ge.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),ha(fn),fn.M=!0,ct(11))}}else Mn(this.i,this.l,Ge,null),Eo(this,Ge);yn==4&&bi(this),this.o&&!this.J&&(yn==4?fs(this.j,this):(this.o=!1,Nn(this)))}else Gi(this.g),P==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),bi(this),Rs(this)}}}catch{}finally{}};function So(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function bl(f,E){var P=f.C,G=E.indexOf(`
`,P);return G==-1?ks:(P=Number(E.substring(P,G)),isNaN(P)?Ps:(G+=1,G+P>E.length?ks:(E=E.slice(G,G+P),f.C=G+P,E)))}Gn.prototype.cancel=function(){this.J=!0,bi(this)};function Nn(f){f.S=Date.now()+f.I,Nl(f,f.I)}function Nl(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=rr(x(f.ba,f),E)}function os(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Gn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ys(this.i,this.A),this.L!=2&&(br(),ct(17)),bi(this),this.s=2,Rs(this)):Nl(this,this.S-f)};function Rs(f){f.j.G==0||f.J||fs(f.j,f)}function bi(f){os(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,ti(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Eo(f,E){try{var P=f.j;if(P.G!=0&&(P.g==f||Tr(P.h,f))){if(!f.K&&Tr(P.h,f)&&P.G==3){try{var G=P.Da.g.parse(E)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ge=G;if(ge[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)Ms(P),Ki(P);else break e;lo(P),ct(18)}}else P.za=ge[1],0<P.za-P.T&&37500>ge[2]&&P.F&&P.v==0&&!P.C&&(P.C=rr(x(P.Za,P),6e3));if(1>=Ao(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Hr(P,11)}else if((f.K||P.g==f)&&Ms(P),!Y(E))for(ge=P.Da.g.parse(E),E=0;E<ge.length;E++){let zt=ge[E];if(P.T=zt[0],zt=zt[1],P.G==2)if(zt[0]=="c"){P.K=zt[1],P.ia=zt[2];const fn=zt[3];fn!=null&&(P.la=fn,P.j.info("VER="+P.la));const yn=zt[4];yn!=null&&(P.Aa=yn,P.j.info("SVER="+P.Aa));const si=zt[5];si!=null&&typeof si=="number"&&0<si&&(G=1.5*si,P.L=G,P.j.info("backChannelRequestTimeoutMs_="+G)),G=P;const Lr=f.g;if(Lr){const Vs=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var ke=G.h;ke.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(jn(ke,ke.h),ke.h=null))}if(G.D){const Bs=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(G.ya=Bs,vn(G.I,G.D,Bs))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),G=P;var Ge=f;if(G.qa=_(G,G.J?G.ia:null,G.W),Ge.K){Ua(G.h,Ge);var Ut=Ge,Jt=G.L;Jt&&(Ut.I=Jt),Ut.B&&(os(Ut),Nn(Ut)),G.g=Ge}else Fs(G);0<P.i.length&&hs(P)}else zt[0]!="stop"&&zt[0]!="close"||Hr(P,7);else P.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Hr(P,7):Vn(P):zt[0]!="noop"&&P.l&&P.l.ta(zt),P.v=0)}}br(4)}catch{}}var Sl=class{constructor(f,E){this.g=f,this.map=E}};function Xs(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ni(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ao(f){return f.h?1:f.g?f.g.size:0}function Tr(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function jn(f,E){f.g?f.g.add(E):f.h=E}function Ua(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Xs.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function za(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const P of f.g.values())E=E.concat(P.D);return E}return O(f.i)}function Io(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var E=[],P=f.length,G=0;G<P;G++)E.push(f[G]);return E}E=[],P=0;for(G in f)E[P++]=f[G];return E}function Zs(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var E=[];f=f.length;for(var P=0;P<f;P++)E.push(P);return E}E=[],P=0;for(const G in f)E[P++]=G;return E}}}function eo(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var P=Zs(f),G=Io(f),ge=G.length,ke=0;ke<ge;ke++)E.call(void 0,G[ke],P&&P[ke],f)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(f,E){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var G=f[P].indexOf("="),ge=null;if(0<=G){var ke=f[P].substring(0,G);ge=f[P].substring(G+1)}else ke=f[P];E(ke,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Kn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Kn){this.h=f.h,to(this,f.j),this.o=f.o,this.g=f.g,no(this,f.s),this.l=f.l;var E=f.i,P=new $i;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),Ls(this,P),this.m=f.m}else f&&(E=String(f).match(Pr))?(this.h=!1,to(this,E[1]||"",!0),this.o=Wt(E[2]||""),this.g=Wt(E[3]||"",!0),no(this,E[4]),this.l=Wt(E[5]||"",!0),Ls(this,E[6]||"",!0),this.m=Wt(E[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Kn.prototype.toString=function(){var f=[],E=this.j;E&&f.push(as(E,aa,!0),":");var P=this.g;return(P||E=="file")&&(f.push("//"),(E=this.o)&&f.push(as(E,aa,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(as(P,P.charAt(0)=="/"?ls:Al,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",as(P,ro)),f.join("")};function kr(f){return new Kn(f)}function to(f,E,P){f.j=P?Wt(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function no(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Ls(f,E,P){E instanceof $i?(f.i=E,us(f.i,f.h)):(P||(E=as(E,To)),f.i=new $i(E,f.h))}function vn(f,E,P){f.i.set(E,P)}function js(f){return vn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wt(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function as(f,E,P){return typeof f=="string"?(f=encodeURI(f).replace(E,El),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function El(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var aa=/[#\/\?@]/g,Al=/[#\?:]/g,ls=/[#\?]/g,To=/[#\?@]/g,ro=/#/g;function $i(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function rn(f){f.g||(f.g=new Map,f.h=0,f.i&&oa(f.i,function(E,P){f.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}n=$i.prototype,n.add=function(f,E){rn(this),this.i=null,f=Si(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(E),this.h+=1,this};function Wi(f,E){rn(f),E=Si(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Ni(f,E){return rn(f),E=Si(f,E),f.g.has(E)}n.forEach=function(f,E){rn(this),this.g.forEach(function(P,G){P.forEach(function(ge){f.call(E,ge,G,this)},this)},this)},n.na=function(){rn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let G=0;G<E.length;G++){const ge=f[G];for(let ke=0;ke<ge.length;ke++)P.push(E[G])}return P},n.V=function(f){rn(this);let E=[];if(typeof f=="string")Ni(this,f)&&(E=E.concat(this.g.get(Si(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)E=E.concat(f[P])}return E},n.set=function(f,E){return rn(this),this.i=null,f=Si(this,f),Ni(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Et(f,E,P){Wi(f,E),0<P.length&&(f.i=null,f.g.set(Si(f,E),O(P)),f.h+=P.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var G=E[P];const ke=encodeURIComponent(String(G)),Ge=this.V(G);for(G=0;G<Ge.length;G++){var ge=ke;Ge[G]!==""&&(ge+="="+encodeURIComponent(String(Ge[G]))),f.push(ge)}}return this.i=f.join("&")};function Si(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function us(f,E){E&&!f.j&&(rn(f),f.i=null,f.g.forEach(function(P,G){var ge=G.toLowerCase();G!=ge&&(Wi(this,G),Et(this,ge,P))},f)),f.j=E}function cs(f,E){const P=new ir;if(c.Image){const G=new Image;G.onload=y(Cr,P,"TestLoadImage: loaded",!0,E,G),G.onerror=y(Cr,P,"TestLoadImage: error",!1,E,G),G.onabort=y(Cr,P,"TestLoadImage: abort",!1,E,G),G.ontimeout=y(Cr,P,"TestLoadImage: timeout",!1,E,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=f}else E(!1)}function qa(f,E){const P=new ir,G=new AbortController,ge=setTimeout(()=>{G.abort(),Cr(P,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:G.signal}).then(ke=>{clearTimeout(ge),ke.ok?Cr(P,"TestPingServer: ok",!0,E):Cr(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ge),Cr(P,"TestPingServer: error",!1,E)})}function Cr(f,E,P,G,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),G(P)}catch{}}function la(){this.g=new wi}function ua(f,E,P){const G=P||"";try{eo(f,function(ge,ke){let Ge=ge;g(ge)&&(Ge=un(ge)),E.push(G+ke+"="+encodeURIComponent(Ge))})}catch(ge){throw E.push(G+"type="+encodeURIComponent("_badmap")),ge}}function Os(f){this.l=f.Ub||null,this.j=f.eb||!1}L(Os,Yt),Os.prototype.g=function(){return new Po(this.l,this.j)},Os.prototype.i=function(f){return function(){return f}}({});function Po(f,E){_t.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Po,_t),n=Po.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Rr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ri(this):Rr(this),this.readyState==3&&Il(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ri(this))},n.Qa=function(f){this.g&&(this.response=f,ri(this))},n.ga=function(){this.g&&ri(this)};function ri(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Rr(f)}n.setRequestHeader=function(f,E){this.u.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=E.next();return f.join(`\r
`)};function Rr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zr(f){let E="";return Re(f,function(P,G){E+=G,E+=":",E+=P,E+=`\r
`}),E}function io(f,E,P){e:{for(G in P){var G=!1;break e}G=!0}G||(P=zr(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):vn(f,E,P))}function dn(f){_t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(dn,_t);var Ha=/^https?$/i,so=["POST","PUT"];n=dn.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,E,P,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?ss(this.o):ss(Zn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ke){oo(this,ke);return}if(f=P||"",P=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ge in G)P.set(ge,G[ge]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ke of G.keys())P.set(ke,G.get(ke));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(P.keys()).find(ke=>ke.toLowerCase()=="content-type"),ge=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(so,E,void 0))||G||ge||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Ge]of P)this.g.setRequestHeader(ke,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ii(this),this.u=!0,this.g.send(f),this.u=!1}catch(ke){oo(this,ke)}};function oo(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,ko(f),qr(f)}function ko(f){f.A||(f.A=!0,At(f,"complete"),At(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,At(this,"complete"),At(this,"abort"),qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),dn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},n.bb=function(){ca(this)};function ca(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Qn(f)!=4||f.Z()!=2)){if(f.u&&Qn(f)==4)It(f.Ea,0,f);else if(At(f,"readystatechange"),Qn(f)==4){f.h=!1;try{const Ge=f.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var G;if(G=Ge===0){var ge=String(f.D).match(Pr)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),G=!Ha.test(ge?ge.toLowerCase():"")}P=G}if(P)At(f,"complete"),At(f,"success");else{f.m=6;try{var ke=2<Qn(f)?f.g.statusText:""}catch{ke=""}f.l=ke+" ["+f.Z()+"]",ko(f)}}finally{qr(f)}}}}function qr(f,E){if(f.g){ii(f);const P=f.g,G=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||At(f,"ready");try{P.onreadystatechange=G}catch{}}}function ii(f){f.I&&(c.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Qn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),bn(E)}};function $a(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(f){const E={};f=(f.g&&2<=Qn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<f.length;G++){if(Y(f[G]))continue;var P=T(f[G]);const ge=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ke=E[ge]||[];E[ge]=ke,ke.push(P)}W(E,function(G){return G.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(f,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||E}function Co(f){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,f),this.cb=sr("retryDelaySeedMs",1e4,f),this.Wa=sr("forwardChannelMaxRetries",2,f),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(f&&f.concurrentRequestLimit),this.Da=new la,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Co.prototype,n.la=8,n.G=1,n.connect=function(f,E,P,G){ct(0),this.W=f,this.H=E||{},P&&G!==void 0&&(this.H.OSID=P,this.H.OAID=G),this.F=this.X,this.I=_(this,null,this.W),hs(this)};function Vn(f){if(Ds(f),f.G==3){var E=f.U++,P=kr(f.I);if(vn(P,"SID",f.K),vn(P,"RID",E),vn(P,"TYPE","terminate"),ds(f,P),E=new Gn(f,f.j,E),E.L=2,E.v=js(kr(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&c.Image&&(new Image().src=E.v,P=!0),P||(E.g=M(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Nn(E)}fa(f)}function Ki(f){f.g&&(ha(f),f.g.cancel(),f.g=null)}function Ds(f){Ki(f),f.u&&(c.clearTimeout(f.u),f.u=null),Ms(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function hs(f){if(!ni(f.h)&&!f.s){f.s=!0;var E=f.Ga;Pe||pe(),se||(Pe(),se=!0),_e.add(E,f),f.B=0}}function Wa(f,E){return Ao(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=rr(x(f.Ga,f,E),da(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ge=new Gn(this,this.j,f);let ke=this.o;if(this.S&&(ke?(ke=R(ke),U(ke,this.S)):ke=this.S),this.m!==null||this.O||(ge.H=ke,ke=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var G=this.i[P];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(E+=G,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=Qi(this,ge,E),P=kr(this.I),vn(P,"RID",f),vn(P,"CVER",22),this.D&&vn(P,"X-HTTP-Session-Id",this.D),ds(this,P),ke&&(this.O?E="headers="+encodeURIComponent(String(zr(ke)))+"&"+E:this.m&&io(P,this.m,ke)),jn(this.h,ge),this.Ua&&vn(P,"TYPE","init"),this.P?(vn(P,"$req",E),vn(P,"SID","null"),ge.T=!0,Cs(ge,P,null)):Cs(ge,P,E),this.G=2}}else this.G==3&&(f?ao(this,f):this.i.length==0||ni(this.h)||ao(this))};function ao(f,E){var P;E?P=E.l:P=f.U++;const G=kr(f.I);vn(G,"SID",f.K),vn(G,"RID",P),vn(G,"AID",f.T),ds(f,G),f.m&&f.o&&io(G,f.m,f.o),P=new Gn(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Qi(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),jn(f.h,P),Cs(P,G,E)}function ds(f,E){f.H&&Re(f.H,function(P,G){vn(E,G,P)}),f.l&&eo({},function(P,G){vn(E,G,P)})}function Qi(f,E,P){P=Math.min(f.i.length,P);var G=f.l?x(f.l.Na,f.l,f):null;e:{var ge=f.i;let ke=-1;for(;;){const Ge=["count="+P];ke==-1?0<P?(ke=ge[0].g,Ge.push("ofs="+ke)):ke=0:Ge.push("ofs="+ke);let Ut=!0;for(let Jt=0;Jt<P;Jt++){let zt=ge[Jt].g;const fn=ge[Jt].map;if(zt-=ke,0>zt)ke=Math.max(0,ge[Jt].g-100),Ut=!1;else try{ua(fn,Ge,"req"+zt+"_")}catch{G&&G(fn)}}if(Ut){G=Ge.join("&");break e}}}return f=f.i.splice(0,P),E.D=f,G}function Fs(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;Pe||pe(),se||(Pe(),se=!0),_e.add(E,f),f.v=0}}function lo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=rr(x(f.Fa,f),da(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=rr(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Ki(this),Tl(this))};function ha(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Tl(f){f.g=new Gn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=kr(f.qa);vn(E,"RID","rpc"),vn(E,"SID",f.K),vn(E,"AID",f.T),vn(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&vn(E,"TO",f.ja),vn(E,"TYPE","xmlhttp"),ds(f,E),f.m&&f.o&&io(E,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=js(kr(E)),P.m=null,P.P=!0,Js(P,f)}n.Za=function(){this.C!=null&&(this.C=null,Ki(this),lo(this),ct(19))};function Ms(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function fs(f,E){var P=null;if(f.g==E){Ms(f),ha(f),f.g=null;var G=2}else if(Tr(f.h,E))P=E.D,Ua(f.h,E),G=1;else return;if(f.G!=0){if(E.o)if(G==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var ge=f.B;G=qi(),At(G,new Vr(G,P)),hs(f)}else Fs(f);else if(ge=E.s,ge==3||ge==0&&0<E.X||!(G==1&&Wa(f,E)||G==2&&lo(f)))switch(P&&0<P.length&&(E=f.h,E.i=E.i.concat(P)),ge){case 1:Hr(f,5);break;case 4:Hr(f,10);break;case 3:Hr(f,6);break;default:Hr(f,2)}}}function da(f,E){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*E}function Hr(f,E){if(f.j.info("Error code "+E),E==2){var P=x(f.fb,f),G=f.Xa;const ge=!G;G=new Kn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(G,"https"),js(G),ge?cs(G.toString(),P):qa(G.toString(),P)}else ct(2);f.G=0,f.l&&f.l.sa(E),fa(f),Ds(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function fa(f){if(f.G=0,f.ka=[],f.l){const E=za(f.h);(E.length!=0||f.i.length!=0)&&(C(f.ka,E),C(f.ka,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.ra()}}function _(f,E,P){var G=P instanceof Kn?kr(P):new Kn(P);if(G.g!="")E&&(G.g=E+"."+G.g),no(G,G.s);else{var ge=c.location;G=ge.protocol,E=E?E+"."+ge.hostname:ge.hostname,ge=+ge.port;var ke=new Kn(null);G&&to(ke,G),E&&(ke.g=E),ge&&no(ke,ge),P&&(ke.l=P),G=ke}return P=f.D,E=f.ya,P&&E&&vn(G,P,E),vn(G,"VER",f.la),ds(f,G),G}function M(f,E,P){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new dn(new Os({eb:P})):new dn(f.pa),E.Ha(f.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ee(){}n=ee.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function le(){}le.prototype.g=function(f,E){return new ye(f,E)};function ye(f,E){_t.call(this),this.g=new Co(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!Y(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!Y(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new nt(this)}L(ye,_t),ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){Vn(this.g)},ye.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=un(f),f=P);E.i.push(new Sl(E.Ya++,f)),E.G==3&&hs(E)},ye.prototype.N=function(){this.g.l=null,delete this.j,Vn(this.g),delete this.g,ye.aa.N.call(this)};function De(f){xr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const P in E){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}L(De,xr);function $e(){In.call(this),this.status=1}L($e,In);function nt(f){this.g=f}L(nt,ee),nt.prototype.ua=function(){At(this.g,"a")},nt.prototype.ta=function(f){At(this.g,new De(f))},nt.prototype.sa=function(f){At(this.g,new $e)},nt.prototype.ra=function(){At(this.g,"b")},le.prototype.createWebChannel=le.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,X5=function(){return new le},J5=function(){return qi()},Y5=St,ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Nf=Br,xi.COMPLETE="complete",Q5=xi,An.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,qh=An,dn.prototype.listenOnce=dn.prototype.L,dn.prototype.getLastError=dn.prototype.Ka,dn.prototype.getLastErrorCode=dn.prototype.Ba,dn.prototype.getStatus=dn.prototype.Z,dn.prototype.getResponseJson=dn.prototype.Oa,dn.prototype.getResponseText=dn.prototype.oa,dn.prototype.send=dn.prototype.ea,dn.prototype.setWithCredentials=dn.prototype.Ha,K5=dn}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const A2="@firebase/firestore",I2="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new $g("@firebase/firestore");function Hc(){return lc.logLevel}function dt(n,...e){if(lc.logLevel<=tn.DEBUG){const t=e.map(Kg);lc.debug(`Firestore (${mh}): ${n}`,...t)}}function vl(n,...e){if(lc.logLevel<=tn.ERROR){const t=e.map(Kg);lc.error(`Firestore (${mh}): ${n}`,...t)}}function _u(n,...e){if(lc.logLevel<=tn.WARN){const t=e.map(Kg);lc.warn(`Firestore (${mh}): ${n}`,...t)}}function Kg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Z5(n,r,t)}function Z5(n,e,t){let r=`FIRESTORE (${mh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vl(r),new Error(r)}function ln(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Z5(e,s,r)}function qt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ma{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mi.UNAUTHENTICATED))}shutdown(){}}class w3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _3{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ln(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ta,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ta)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ln(typeof r.accessToken=="string",31837,{l:r}),new ey(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ln(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class x3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b3{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new x3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ln(this.o===void 0,3512);const r=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ln(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new T2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=S3(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function lg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Gt(r,s);{const o=ty(),l=E3(o.encode(P2(n,t)),o.encode(P2(e,t)));return l!==0?l:Gt(r,s)}}t+=r>65535?2:1}return Gt(n.length,e.length)}function P2(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function E3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Gt(n[t],e[t]);return Gt(n.length,e.length)}function ah(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__name__";class Ea{constructor(e,t,r){t===void 0?t=0:t>e.length&&Tt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Tt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ea.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ea.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Gt(e.length,t.length)}static compareSegments(e,t){const r=Ea.isNumericId(e),s=Ea.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ea.extractNumericId(e).compare(Ea.extractNumericId(t)):lg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gu.fromString(e.substring(4,e.length-2))}}class Cn extends Ea{construct(e,t,r){return new Cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}const A3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Ea{construct(e,t,r){return new mi(e,t,r)}static isValidIdentifier(e){return A3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k2}static keyField(){return new mi([k2])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new lt(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new lt(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new lt(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new lt(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(Cn.fromString(e))}static fromName(e){return new Nt(Cn.fromString(e).popFirst(5))}static empty(){return new Nt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new Cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n,e,t){if(!t)throw new lt(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function I3(n,e,t,r){if(e===!0&&r===!0)throw new lt(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function C2(n){if(!Nt.isDocumentKey(n))throw new lt(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function R2(n){if(Nt.isDocumentKey(n))throw new lt(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ry(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function ja(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new lt(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mp(n);throw new lt(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,e){const t={typeString:n};return e&&(t.value=e),t}function vd(n,e){if(!ry(n))throw new lt(Ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new lt(Ue.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=-62135596800,j2=1e6;class qn{static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*j2);return new qn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<L2)throw new lt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j2}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vd(e,qn._jsonSchema))return new qn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qn._jsonSchemaVersion="firestore/timestamp/1.0",qn._jsonSchema={type:Ar("string",qn._jsonSchemaVersion),seconds:Ar("number"),nanoseconds:Ar("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new qn(0,0))}static max(){return new Ot(new qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=-1;function T3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ot.fromTimestamp(r===1e9?new qn(t+1,0):new qn(t,r));return new xu(s,Nt.empty(),e)}function P3(n){return new xu(n.readTime,n.key,id)}class xu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xu(Ot.min(),Nt.empty(),id)}static max(){return new xu(Ot.max(),Nt.empty(),id)}}function k3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Nt.comparator(n.documentKey,e.documentKey),t!==0?t:Gt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==C3)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,r)=>{t(e)})}static reject(e){return new He((t,r)=>{r(e)})}static waitFor(e){return new He((t,r)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&t()},d=>r(d))}),l=!0,o===s&&t()})}static or(e){let t=He.resolve(!1);for(const r of e)t=t.next(s=>s?He.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new He((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const g=d;t(e[g]).next(w=>{l[g]=w,++c,c===o&&r(l)},w=>s(w))}})}static doWhile(e,t){return new He((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function L3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=-1;function yd(n){return n==null}function Uf(n){return n===0&&1/n==-1/0}function j3(n){return typeof n=="number"&&Number.isInteger(n)&&!Uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="";function O3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O2(e)),e=D3(n.get(t),e);return O2(e)}function D3(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case iy:t+="";break;default:t+=o}}return t}function O2(n){return n+iy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ku(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??pi.RED,this.left=s??pi.EMPTY,this.right=o??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new pi(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return pi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F2(this.data.getIterator())}getIteratorFrom(e){return new F2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mr(this.comparator);return t.data=e,t}}class F2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new Mr(mi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oy("Invalid base64 string: "+o):o}}(e);return new vi(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bu(n){if(ln(!!n,39018),typeof n=="string"){let e=0;const t=F3.exec(n);if(ln(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nu(n){return typeof n=="string"?vi.fromBase64String(n):vi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="server_timestamp",ly="__type__",uy="__previous_value__",cy="__local_write_time__";function Jg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ly])===null||t===void 0?void 0:t.stringValue)===ay}function vp(n){const e=n.mapValue.fields[uy];return Jg(e)?vp(e):e}function sd(n){const e=bu(n.mapValue.fields[cy].timestampValue);return new qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,t,r,s,o,l,c,d,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=w}}const zf="(default)";class od{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="__type__",V3="__max__",pf={mapValue:{}},dy="__vector__",qf="value";function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:U3(n)?9007199254740991:B3(n)?10:11:Tt(28295,{value:n})}function Oa(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sd(n).isEqual(sd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=bu(s.timestampValue),c=bu(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Nu(s.bytesValue).isEqual(Nu(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return gr(s.geoPointValue.latitude)===gr(o.geoPointValue.latitude)&&gr(s.geoPointValue.longitude)===gr(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return gr(s.integerValue)===gr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=gr(s.doubleValue),c=gr(o.doubleValue);return l===c?Uf(l)===Uf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ah(n.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(D2(l)!==D2(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Oa(l[d],c[d])))return!1;return!0}(n,e);default:return Tt(52216,{left:n})}}function ad(n,e){return(n.values||[]).find(t=>Oa(t,e))!==void 0}function lh(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=gr(o.integerValue||o.doubleValue),d=gr(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return M2(n.timestampValue,e.timestampValue);case 4:return M2(sd(n),sd(e));case 5:return lg(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Nu(o),d=Nu(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let g=0;g<c.length&&g<d.length;g++){const w=Gt(c[g],d[g]);if(w!==0)return w}return Gt(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Gt(gr(o.latitude),gr(l.latitude));return c!==0?c:Gt(gr(o.longitude),gr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return V2(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,g,w;const b=o.fields||{},x=l.fields||{},y=(c=b[qf])===null||c===void 0?void 0:c.arrayValue,L=(d=x[qf])===null||d===void 0?void 0:d.arrayValue,O=Gt(((g=y?.values)===null||g===void 0?void 0:g.length)||0,((w=L?.values)===null||w===void 0?void 0:w.length)||0);return O!==0?O:V2(y,L)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===pf.mapValue&&l===pf.mapValue)return 0;if(o===pf.mapValue)return 1;if(l===pf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),g=l.fields||{},w=Object.keys(g);d.sort(),w.sort();for(let b=0;b<d.length&&b<w.length;++b){const x=lg(d[b],w[b]);if(x!==0)return x;const y=lh(c[d[b]],g[w[b]]);if(y!==0)return y}return Gt(d.length,w.length)}(n.mapValue,e.mapValue);default:throw Tt(23264,{le:t})}}function M2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Gt(n,e);const t=bu(n),r=bu(e),s=Gt(t.seconds,r.seconds);return s!==0?s:Gt(t.nanos,r.nanos)}function V2(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=lh(t[s],r[s]);if(o)return o}return Gt(t.length,r.length)}function uh(n){return ug(n)}function ug(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Nt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=ug(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${ug(t.fields[l])}`;return s+"}"}(n.mapValue):Tt(61005,{value:n})}function Sf(n){switch(Su(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vp(n);return e?16+Sf(e):16;case 5:return 2*n.stringValue.length;case 6:return Nu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Sf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ku(r.fields,(o,l)=>{s+=o.length+Sf(l)}),s}(n.mapValue);default:throw Tt(13486,{value:n})}}function B2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cg(n){return!!n&&"integerValue"in n}function Xg(n){return!!n&&"arrayValue"in n}function U2(n){return!!n&&"nullValue"in n}function z2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ef(n){return!!n&&"mapValue"in n}function B3(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[hy])===null||t===void 0?void 0:t.stringValue)===dy}function Kh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ku(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===V3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kh(t)}setAll(e){let t=mi.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Kh(l):s.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ku(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new is(Kh(this.value))}}function fy(n){const e=[];return ku(n.fields,(t,r)=>{const s=new mi([t]);if(Ef(r)){const o=fy(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Gs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,r,s,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ei(e,0,Ot.min(),Ot.min(),Ot.min(),is.empty(),0)}static newFoundDocument(e,t,r,s){return new ei(e,1,t,Ot.min(),r,s,0)}static newNoDocument(e,t){return new ei(e,2,t,Ot.min(),Ot.min(),is.empty(),0)}static newUnknownDocument(e,t){return new ei(e,3,t,Ot.min(),Ot.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.position=e,this.inclusive=t}}function q2(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?r=Nt.comparator(Nt.fromName(l.referenceValue),t.key):r=lh(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function H2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t="asc"){this.field=e,this.dir=t}}function z3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{}class Er extends py{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new H3(e,t,r):t==="array-contains"?new G3(e,r):t==="in"?new K3(e,r):t==="not-in"?new Q3(e,r):t==="array-contains-any"?new Y3(e,r):new Er(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new $3(e,r):new W3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(lh(t,this.value)):t!==null&&Su(this.value)===Su(t)&&this.matchesComparison(lh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ra extends py{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ra(e,t)}matches(e){return my(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function my(n){return n.op==="and"}function gy(n){return q3(n)&&my(n)}function q3(n){for(const e of n.filters)if(e instanceof ra)return!1;return!0}function hg(n){if(n instanceof Er)return n.field.canonicalString()+n.op.toString()+uh(n.value);if(gy(n))return n.filters.map(e=>hg(e)).join(",");{const e=n.filters.map(t=>hg(t)).join(",");return`${n.op}(${e})`}}function vy(n,e){return n instanceof Er?function(r,s){return s instanceof Er&&r.op===s.op&&r.field.isEqual(s.field)&&Oa(r.value,s.value)}(n,e):n instanceof ra?function(r,s){return s instanceof ra&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,c)=>o&&vy(l,s.filters[c]),!0):!1}(n,e):void Tt(19439)}function yy(n){return n instanceof Er?function(t){return`${t.field.canonicalString()} ${t.op} ${uh(t.value)}`}(n):n instanceof ra?function(t){return t.op.toString()+" {"+t.getFilters().map(yy).join(" ,")+"}"}(n):"Filter"}class H3 extends Er{constructor(e,t,r){super(e,t,r),this.key=Nt.fromName(r.referenceValue)}matches(e){const t=Nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class $3 extends Er{constructor(e,t){super(e,"in",t),this.keys=wy("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W3 extends Er{constructor(e,t){super(e,"not-in",t),this.keys=wy("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wy(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Nt.fromName(r.referenceValue))}class G3 extends Er{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xg(t)&&ad(t.arrayValue,this.value)}}class K3 extends Er{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ad(this.value.arrayValue,t)}}class Q3 extends Er{constructor(e,t){super(e,"not-in",t)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ad(this.value.arrayValue,t)}}class Y3 extends Er{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Pe=null}}function $2(n,e=null,t=[],r=[],s=null,o=null,l=null){return new J3(n,e,t,r,s,o,l)}function Zg(n){const e=qt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uh(r)).join(",")),e.Pe=t}return e.Pe}function e0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!z3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vy(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H2(n.startAt,e.startAt)&&H2(n.endAt,e.endAt)}function dg(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t=null,r=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function X3(n,e,t,r,s,o,l,c){return new yh(n,e,t,r,s,o,l,c)}function t0(n){return new yh(n)}function W2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _y(n){return n.collectionGroup!==null}function Qh(n){const e=qt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mr(mi.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ld(o,r))}),t.has(mi.keyField().canonicalString())||e.Te.push(new ld(mi.keyField(),r))}return e.Te}function Pa(n){const e=qt(n);return e.Ie||(e.Ie=Z3(e,Qh(n))),e.Ie}function Z3(n,e){if(n.limitType==="F")return $2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ld(s.field,o)});const t=n.endAt?new Hf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hf(n.startAt.position,n.startAt.inclusive):null;return $2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fg(n,e){const t=n.filters.concat([e]);return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pg(n,e,t){return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yp(n,e){return e0(Pa(n),Pa(e))&&n.limitType===e.limitType}function xy(n){return`${Zg(Pa(n))}|lt:${n.limitType}`}function $c(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>yy(s)).join(", ")}]`),yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>uh(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>uh(s)).join(",")),`Target(${r})`}(Pa(n))}; limitType=${n.limitType})`}function wp(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Qh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const g=q2(l,c,d);return l.inclusive?g<=0:g<0}(r.startAt,Qh(r),s)||r.endAt&&!function(l,c,d){const g=q2(l,c,d);return l.inclusive?g>=0:g>0}(r.endAt,Qh(r),s))}(n,e)}function e6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function by(n){return(e,t)=>{let r=!1;for(const s of Qh(n)){const o=t6(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function t6(n,e,t){const r=n.field.isKeyField()?Nt.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),g=c.data.field(o);return d!==null&&g!==null?lh(d,g):Tt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return sy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new nr(Nt.comparator);function yl(){return n6}const Ny=new nr(Nt.comparator);function Hh(...n){let e=Ny;for(const t of n)e=e.insert(t.key,t);return e}function Sy(n){let e=Ny;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rc(){return Yh()}function Ey(){return Yh()}function Yh(){return new gc(n=>n.toString(),(n,e)=>n.isEqual(e))}const r6=new nr(Nt.comparator),i6=new Mr(Nt.comparator);function nn(...n){let e=i6;for(const t of n)e=e.add(t);return e}const s6=new Mr(Gt);function o6(){return s6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function Ay(n){return{integerValue:""+n}}function a6(n,e){return j3(e)?Ay(e):n0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function l6(n,e,t){return n instanceof ud?function(s,o){const l={fields:{[ly]:{stringValue:ay},[cy]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Jg(o)&&(o=vp(o)),o&&(l.fields[uy]=o),{mapValue:l}}(t,e):n instanceof cd?Ty(n,e):n instanceof hd?Py(n,e):function(s,o){const l=Iy(s,o),c=G2(l)+G2(s.Ee);return cg(l)&&cg(s.Ee)?Ay(c):n0(s.serializer,c)}(n,e)}function u6(n,e,t){return n instanceof cd?Ty(n,e):n instanceof hd?Py(n,e):t}function Iy(n,e){return n instanceof $f?function(r){return cg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ud extends _p{}class cd extends _p{constructor(e){super(),this.elements=e}}function Ty(n,e){const t=ky(e);for(const r of n.elements)t.some(s=>Oa(s,r))||t.push(r);return{arrayValue:{values:t}}}class hd extends _p{constructor(e){super(),this.elements=e}}function Py(n,e){let t=ky(e);for(const r of n.elements)t=t.filter(s=>!Oa(s,r));return{arrayValue:{values:t}}}class $f extends _p{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function G2(n){return gr(n.integerValue||n.doubleValue)}function ky(n){return Xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.field=e,this.transform=t}}function h6(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof cd&&s instanceof cd||r instanceof hd&&s instanceof hd?ah(r.elements,s.elements,Oa):r instanceof $f&&s instanceof $f?Oa(r.Ee,s.Ee):r instanceof ud&&s instanceof ud}(n.transform,e.transform)}class d6{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xp{}function Cy(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bp(n.key,Vi.none()):new wd(n.key,n.data,Vi.none());{const t=n.data,r=is.empty();let s=new Mr(mi.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Cu(n.key,r,new Gs(s.toArray()),Vi.none())}}function f6(n,e,t){n instanceof wd?function(s,o,l){const c=s.value.clone(),d=Q2(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Cu?function(s,o,l){if(!Af(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Q2(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(Ry(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Jh(n,e,t,r){return n instanceof wd?function(o,l,c,d){if(!Af(o.precondition,l))return c;const g=o.value.clone(),w=Y2(o.fieldTransforms,d,l);return g.setAll(w),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cu?function(o,l,c,d){if(!Af(o.precondition,l))return c;const g=Y2(o.fieldTransforms,d,l),w=l.data;return w.setAll(Ry(o)),w.setAll(g),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,l,c){return Af(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function p6(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=Iy(r.transform,s||null);o!=null&&(t===null&&(t=is.empty()),t.set(r.field,o))}return t||null}function K2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ah(r,s,(o,l)=>h6(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wd extends xp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cu extends xp{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ry(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Q2(n,e,t){const r=new Map;ln(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,u6(l,c,t[s]))}return r}function Y2(n,e,t){const r=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);r.set(s.field,l6(o,l,e))}return r}class bp extends xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ly extends xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&f6(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ey();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(s.key)?null:c;const d=Cy(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(t,r)=>K2(t,r))&&ah(this.baseMutations,e.baseMutations,(t,r)=>K2(t,r))}}class r0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ln(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return r6}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new r0(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr,an;function jy(n){switch(n){case Ue.OK:return Tt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function Oy(n){if(n===void 0)return vl("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case Sr.OK:return Ue.OK;case Sr.CANCELLED:return Ue.CANCELLED;case Sr.UNKNOWN:return Ue.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return Ue.INTERNAL;case Sr.UNAVAILABLE:return Ue.UNAVAILABLE;case Sr.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Sr.NOT_FOUND:return Ue.NOT_FOUND;case Sr.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Sr.ABORTED:return Ue.ABORTED;case Sr.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Sr.DATA_LOSS:return Ue.DATA_LOSS;default:return Tt(39323,{code:n})}}(an=Sr||(Sr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new gu([4294967295,4294967295],0);function J2(n){const e=ty().encode(n),t=new G5;return t.update(e),new Uint8Array(t.digest())}function X2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gu([t,r],0),new gu([s,o],0)]}class i0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $h(`Invalid padding: ${t}`);if(r<0)throw new $h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $h(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=gu.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(gu.fromNumber(r)));return s.compare(y6)===1&&(s=new gu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=J2(e),[r,s]=X2(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,s,o);if(!this.ye(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new i0(o,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const t=J2(e),[r,s]=X2(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,s,o);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Np(Ot.min(),s,new nr(Gt),yl(),nn())}}class _d{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _d(r,t,nn(),nn(),nn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class Dy{constructor(e,t){this.targetId=e,this.De=t}}class Fy{constructor(e,t,r=vi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Z2{constructor(){this.ve=0,this.Ce=ev(),this.Fe=vi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nn(),t=nn(),r=nn();return this.Ce.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Tt(38017,{changeType:o})}}),new _d(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=ev()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ln(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class w6{constructor(e){this.We=e,this.Ge=new Map,this.ze=yl(),this.je=mf(),this.Je=mf(),this.He=new nr(Gt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const o=s.target;if(dg(o))if(r===0){const l=new Nt(o.path);this.Xe(t,l,ei.newNoDocument(l,Ot.min()))}else ln(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(t);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let l,c;try{l=Nu(r).toUint8Array()}catch(d){if(d instanceof oy)return _u("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new i0(l,s,o)}catch(d){return _u(d instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((o,l)=>{const c=this.st(l);if(c){if(o.current&&dg(c.target)){const d=new Nt(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,ei.newNoDocument(d,e))}o.Ne&&(t.set(l,o.Le()),o.ke())}});let r=nn();this.Je.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const g=this.st(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const s=new Np(e,t,this.He,this.ze,r);return this.ze=yl(),this.je=mf(),this.Je=mf(),this.He=new nr(Gt),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Z2,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mr(Gt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mr(Gt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||dt("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Z2),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function mf(){return new nr(Nt.comparator)}function ev(){return new nr(Nt.comparator)}const _6={asc:"ASCENDING",desc:"DESCENDING"},x6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b6={and:"AND",or:"OR"};class N6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mg(n,e){return n.useProto3Json||yd(e)?e:{value:e}}function Wf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function My(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S6(n,e){return Wf(n,e.toTimestamp())}function Qs(n){return ln(!!n,49232),Ot.fromTimestamp(function(t){const r=bu(t);return new qn(r.seconds,r.nanos)}(n))}function s0(n,e){return gg(n,e).canonicalString()}function gg(n,e){const t=function(s){return new Cn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Vy(n){const e=Cn.fromString(n);return ln($y(e),10190,{key:e.toString()}),e}function Gf(n,e){return s0(n.databaseId,e.path)}function Xh(n,e){const t=Vy(e);if(t.get(1)!==n.databaseId.projectId)throw new lt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new lt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Nt(Uy(t))}function By(n,e){return s0(n.databaseId,e)}function E6(n){const e=Vy(n);return e.length===4?Cn.emptyPath():Uy(e)}function vg(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Uy(n){return ln(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tv(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function A6(n,e){return"found"in e?function(r,s){ln(!!s.found,43571),s.found.name,s.found.updateTime;const o=Xh(r,s.found.name),l=Qs(s.found.updateTime),c=s.found.createTime?Qs(s.found.createTime):Ot.min(),d=new is({mapValue:{fields:s.found.fields}});return ei.newFoundDocument(o,l,c,d)}(n,e):"missing"in e?function(r,s){ln(!!s.missing,3894),ln(!!s.readTime,22933);const o=Xh(r,s.missing),l=Qs(s.readTime);return ei.newNoDocument(o,l)}(n,e):Tt(7234,{result:e})}function I6(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(g,w){return g.useProto3Json?(ln(w===void 0||typeof w=="string",58123),vi.fromBase64String(w||"")):(ln(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),vi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(g){const w=g.code===void 0?Ue.UNKNOWN:Oy(g.code);return new lt(w,g.message||"")}(l);t=new Fy(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xh(n,r.document.name),o=Qs(r.document.updateTime),l=r.document.createTime?Qs(r.document.createTime):Ot.min(),c=new is({mapValue:{fields:r.document.fields}}),d=ei.newFoundDocument(s,o,l,c),g=r.targetIds||[],w=r.removedTargetIds||[];t=new If(g,w,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xh(n,r.document),o=r.readTime?Qs(r.readTime):Ot.min(),l=ei.newNoDocument(s,o),c=r.removedTargetIds||[];t=new If([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xh(n,r.document),o=r.removedTargetIds||[];t=new If([],o,s,null)}else{if(!("filter"in e))return Tt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new v6(s,o),c=r.targetId;t=new Dy(c,l)}}return t}function zy(n,e){let t;if(e instanceof wd)t={update:tv(n,e.key,e.value)};else if(e instanceof bp)t={delete:Gf(n,e.key)};else if(e instanceof Cu)t={update:tv(n,e.key,e.data),updateMask:D6(e.fieldMask)};else{if(!(e instanceof Ly))return Tt(16599,{Rt:e.type});t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof ud)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $f)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Tt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:S6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)}(n,e.precondition)),t}function T6(n,e){return n&&n.length>0?(ln(e!==void 0,14353),n.map(t=>function(s,o){let l=s.updateTime?Qs(s.updateTime):Qs(o);return l.isEqual(Ot.min())&&(l=Qs(o)),new d6(l,s.transformResults||[])}(t,e))):[]}function P6(n,e){return{documents:[By(n,e.path)]}}function k6(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=By(n,s);const o=function(g){if(g.length!==0)return Hy(ra.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(g){if(g.length!==0)return g.map(w=>function(x){return{field:Wc(x.field),direction:L6(x.dir)}}(w))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=mg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:s}}function C6(n){let e=E6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ln(r===1,65062);const w=t.from[0];w.allDescendants?s=w.collectionId:e=e.child(w.collectionId)}let o=[];t.where&&(o=function(b){const x=qy(b);return x instanceof ra&&gy(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(b){return b.map(x=>function(L){return new ld(Gc(L.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(x))}(t.orderBy));let c=null;t.limit&&(c=function(b){let x;return x=typeof b=="object"?b.value:b,yd(x)?null:x}(t.limit));let d=null;t.startAt&&(d=function(b){const x=!!b.before,y=b.values||[];return new Hf(y,x)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const x=!b.before,y=b.values||[];return new Hf(y,x)}(t.endAt)),X3(e,s,l,o,c,"F",d,g)}function R6(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qy(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gc(t.unaryFilter.field);return Er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gc(t.unaryFilter.field);return Er.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gc(t.unaryFilter.field);return Er.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Gc(t.unaryFilter.field);return Er.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Er.create(Gc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ra.create(t.compositeFilter.filters.map(r=>qy(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(t.compositeFilter.op))}(n):Tt(30097,{filter:n})}function L6(n){return _6[n]}function j6(n){return x6[n]}function O6(n){return b6[n]}function Wc(n){return{fieldPath:n.canonicalString()}}function Gc(n){return mi.fromServerFormat(n.fieldPath)}function Hy(n){return n instanceof Er?function(t){if(t.op==="=="){if(z2(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NAN"}};if(U2(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(z2(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NOT_NAN"}};if(U2(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(t.field),op:j6(t.op),value:t.value}}}(n):n instanceof ra?function(t){const r=t.getFilters().map(s=>Hy(s));return r.length===1?r[0]:{compositeFilter:{op:O6(t.op),filters:r}}}(n):Tt(54877,{filter:n})}function D6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $y(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t,r,s,o=Ot.min(),l=Ot.min(),c=vi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.gt=e}}function M6(n){const e=C6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.Dn=new B6}addToCollectionParentIndex(e,t){return this.Dn.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return He.resolve()}deleteFieldIndex(e,t){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,t){return He.resolve()}getDocumentsMatchingTarget(e,t){return He.resolve(null)}getIndexType(e,t){return He.resolve(0)}getFieldIndexes(e,t){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,t){return He.resolve(xu.min())}getMinOffsetFromCollectionGroup(e,t){return He.resolve(xu.min())}updateCollectionGroup(e,t,r){return He.resolve()}updateIndexEntries(e,t){return He.resolve()}}class B6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Mr(Cn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mr(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wy=41943040;class Es{static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(Wy,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ch(0)}static ur(){return new ch(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LruGarbageCollector",U6=1048576;function iv([n,e],[t,r]){const s=Gt(n,t);return s===0?Gt(e,r):s}class z6{constructor(e){this.Tr=e,this.buffer=new Mr(iv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class q6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){dt(rv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vh(t)?dt(rv,"Ignoring IndexedDB error during garbage collection: ",t):await gh(t)}await this.Rr(3e5)})}}class H6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return He.resolve(gp.ue);const r=new z6(t);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(nv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,o,l,c,d,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,l=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(r=b,c=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(g=Date.now(),Hc()<=tn.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-w}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${b} documents in `+(g-d)+`ms
Total Duration: ${g-w}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b})))}}function $6(n,e){return new H6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.changes=new gc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?He.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Jh(r.mutation,s,Gs.empty(),qn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const s=rc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let l=Hh();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=rc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let o=yl();const l=Yh(),c=function(){return Yh()}();return t.forEach((d,g)=>{const w=r.get(g.key);s.has(g.key)&&(w===void 0||w.mutation instanceof Cu)?o=o.insert(g.key,g):w!==void 0?(l.set(g.key,w.mutation.getFieldMask()),Jh(w.mutation,g,w.mutation.getFieldMask(),qn.now())):l.set(g.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((g,w)=>l.set(g,w)),t.forEach((g,w)=>{var b;return c.set(g,new G6(w,(b=l.get(g))!==null&&b!==void 0?b:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Yh();let s=new nr((l,c)=>l-c),o=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const g=t.get(d);if(g===null)return;let w=r.get(d)||Gs.empty();w=c.applyToLocalView(g,w),r.set(d,w);const b=(s.get(c.batchId)||nn()).add(d);s=s.insert(c.batchId,b)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),g=d.key,w=d.value,b=Ey();w.forEach(x=>{if(!o.has(x)){const y=Cy(t.get(x),r.get(x));y!==null&&b.set(x,y),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,b))}return He.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Nt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_y(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):He.resolve(rc());let c=id,d=o;return l.next(g=>He.forEach(g,(w,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),o.get(w)?He.resolve():this.remoteDocumentCache.getEntry(e,w).next(x=>{d=d.insert(w,x)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,d,g,nn())).next(w=>({batchId:c,changes:Sy(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nt(t)).next(r=>{let s=Hh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let l=Hh();return this.indexManager.getCollectionParents(e,o).next(c=>He.forEach(c,d=>{const g=function(b,x){return new yh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(w=>{w.forEach((b,x)=>{l=l.insert(b,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(l=>{o.forEach((d,g)=>{const w=g.getKey();l.get(w)===null&&(l=l.insert(w,ei.newInvalidDocument(w)))});let c=Hh();return l.forEach((d,g)=>{const w=o.get(d);w!==void 0&&Jh(w.mutation,g,Gs.empty(),qn.now()),wp(t,g)&&(c=c.insert(d,g))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return He.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Qs(s.createTime)}}(t)),He.resolve()}getNamedQuery(e,t){return He.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:M6(s.bundledQuery),readTime:Qs(s.readTime)}}(t)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.overlays=new nr(Nt.comparator),this.kr=new Map}getOverlay(e,t){return He.resolve(this.overlays.get(t))}getOverlays(e,t){const r=rc();return He.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.wt(e,t,o)}),He.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),He.resolve()}getOverlaysForCollection(e,t,r){const s=rc(),o=t.length+1,l=new Nt(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,g=d.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return He.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new nr((g,w)=>g-w);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let w=o.get(g.largestBatchId);w===null&&(w=rc(),o=o.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const c=rc(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,w)=>c.set(g,w)),!(c.size()>=s)););return He.resolve(c)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new g6(t,r));let o=this.kr.get(t);o===void 0&&(o=nn(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.qr=new Mr(Xr.Qr),this.$r=new Mr(Xr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Xr(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Xr(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Nt(new Cn([])),r=new Xr(t,e),s=new Xr(t,e+1),o=[];return this.$r.forEachInRange([r,s],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Nt(new Cn([])),r=new Xr(t,e),s=new Xr(t,e+1);let o=nn();return this.$r.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Xr(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xr{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Nt.comparator(e.key,t.key)||Gt(e.Hr,t.Hr)}static Ur(e,t){return Gt(e.Hr,t.Hr)||Nt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mr(Xr.Qr)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new m6(o,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Yr=this.Yr.add(new Xr(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return He.resolve(l)}lookupMutationBatch(e,t){return He.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return He.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?Yg:this.er-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xr(t,0),s=new Xr(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,s],l=>{const c=this.Zr(l.Hr);o.push(c)}),He.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mr(Gt);return t.forEach(s=>{const o=new Xr(s,0),l=new Xr(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],c=>{r=r.add(c.Hr)})}),He.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Nt.isDocumentKey(o)||(o=o.child(""));const l=new Xr(new Nt(o),0);let c=new Mr(Gt);return this.Yr.forEachWhile(d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(c=c.add(d.Hr)),!0)},l),He.resolve(this.ei(c))}ei(e){const t=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ln(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return He.forEach(t.mutations,s=>{const o=new Xr(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Xr(t,0),s=this.Yr.firstAfterOrEqual(r);return He.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.ni=e,this.docs=function(){return new nr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return He.resolve(r?r.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let r=yl();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ei.newInvalidDocument(s))}),He.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=yl();const l=t.path,c=new Nt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:g,value:{document:w}}=d.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||k3(P3(w),r)<=0||(s.has(w.key)||wp(t,w))&&(o=o.insert(w.key,w.mutableCopy()))}return He.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Tt(9500)}ri(e,t){return He.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eN(this)}getSize(e){return He.resolve(this.size)}}class eN extends W6{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),He.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.persistence=e,this.ii=new gc(t=>Zg(t),e0),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.si=0,this.oi=new o0,this.targetCount=0,this._i=ch.ar()}forEachTarget(e,t){return this.ii.forEach((r,s)=>t(s)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),He.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ch(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.hr(t),He.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),He.waitFor(o).next(()=>s)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return He.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),He.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),He.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),He.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return He.resolve(r)}containsKey(e,t){return He.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.ai={},this.overlays={},this.ui=new gp(0),this.ci=!1,this.ci=!0,this.li=new J6,this.referenceDelegate=e(this),this.hi=new tN(this),this.indexManager=new V6,this.remoteDocumentCache=function(s){return new Z6(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new F6(t),this.Ti=new Q6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new X6(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){dt("MemoryPersistence","Starting transaction:",e);const s=new nN(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(e,t){return He.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class nN extends R3{constructor(e){super(),this.currentSequenceNumber=e}}class a0{constructor(e){this.persistence=e,this.Ai=new o0,this.Ri=null}static Vi(e){return new a0(e)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),He.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),He.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.mi,r=>{const s=Nt.fromPath(r);return this.fi(e,s).next(o=>{o||t.removeEntry(s,Ot.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return He.or([()=>He.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Kf{constructor(e,t){this.persistence=e,this.gi=new gc(r=>O3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=$6(this,t)}static Vi(e,t){return new Kf(e,t)}Ii(){}di(e){return He.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return He.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(o=>o?He.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,l=>this.Sr(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Ot.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),He.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),He.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),He.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sf(e.data.value)),t}Sr(e,t,r){return He.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return He.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=nn(),s=nn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new l0(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return eb()?8:L3(zi())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ps(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,t,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new rN;return this.ws(e,t,l).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,l,c.size)})}).next(()=>o.result)}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(Hc()<=tn.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",$c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),He.resolve()):(Hc()<=tn.DEBUG&&dt("QueryEngine","Query:",$c(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Hc()<=tn.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",$c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(t))):He.resolve())}ps(e,t){if(W2(t))return He.resolve(null);let r=Pa(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=pg(t,null,"F"),r=Pa(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=nn(...o);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const g=this.bs(t,c);return this.Ds(t,g,l,d.readTime)?this.ps(e,pg(t,null,"F")):this.vs(e,g,t,d)}))})))}ys(e,t,r,s){return W2(t)||s.isEqual(Ot.min())?He.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(t,o);return this.Ds(t,l,r,s)?He.resolve(null):(Hc()<=tn.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$c(t)),this.vs(e,l,t,T3(s,id)).next(c=>c))})}bs(e,t){let r=new Mr(by(e));return t.forEach((s,o)=>{wp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,t,r){return Hc()<=tn.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",$c(t)),this.gs.getDocumentsMatchingQuery(e,t,xu.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LocalStore",sN=3e8;class oN{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new nr(Gt),this.Ms=new gc(o=>Zg(o),e0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function aN(n,e,t,r){return new oN(n,e,t,r)}async function Ky(n,e){const t=qt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=nn();for(const g of s){l.push(g.batchId);for(const w of g.mutations)d=d.add(w.key)}for(const g of o){c.push(g.batchId);for(const w of g.mutations)d=d.add(w.key)}return t.localDocuments.getDocuments(r,d).next(g=>({Bs:g,removedBatchIds:l,addedBatchIds:c}))})})}function lN(n,e){const t=qt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,g,w){const b=g.batch,x=b.keys();let y=He.resolve();return x.forEach(L=>{y=y.next(()=>w.getEntry(d,L)).next(O=>{const C=g.docVersions.get(L);ln(C!==null,48541),O.version.compareTo(C)<0&&(b.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),w.addEntry(O)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=nn();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(d=d.add(c.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Qy(n){const e=qt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function uN(n,e){const t=qt(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const c=[];e.targetChanges.forEach((w,b)=>{const x=s.get(b);if(!x)return;c.push(t.hi.removeMatchingKeys(o,w.removedDocuments,b).next(()=>t.hi.addMatchingKeys(o,w.addedDocuments,b)));let y=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?y=y.withResumeToken(vi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):w.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(w.resumeToken,r)),s=s.insert(b,y),function(O,C,V){return O.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=sN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(x,y,w)&&c.push(t.hi.updateTargetData(o,y))});let d=yl(),g=nn();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,w))}),c.push(cN(o,l,e.documentUpdates).next(w=>{d=w.Ls,g=w.ks})),!r.isEqual(Ot.min())){const w=t.hi.getLastRemoteSnapshotVersion(o).next(b=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(w)}return He.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,g)).next(()=>d)}).then(o=>(t.Fs=s,o))}function cN(n,e,t){let r=nn(),s=nn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=yl();return t.forEach((c,d)=>{const g=o.get(c);d.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Ot.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):dt(u0,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",d.version)}),{Ls:l,ks:s}})}function hN(n,e){const t=qt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Yg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dN(n,e){const t=qt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.hi.getTargetData(r,e).next(o=>o?(s=o,He.resolve(s)):t.hi.allocateTargetId(r).next(l=>(s=new hu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function yg(n,e,t){const r=qt(n),s=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!vh(l))throw l;dt(u0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function sv(n,e,t){const r=qt(n);let s=Ot.min(),o=nn();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,g,w){const b=qt(d),x=b.Ms.get(w);return x!==void 0?He.resolve(b.Fs.get(x)):b.hi.getTargetData(g,w)}(r,l,Pa(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:Ot.min(),t?o:nn())).next(c=>(fN(r,e6(e),c),{documents:c,qs:o})))}function fN(n,e,t){let r=n.xs.get(e)||Ot.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}class ov{constructor(){this.activeTargetIds=o6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pN{constructor(){this.Fo=new ov,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ov,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="ConnectivityMonitor";class lv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){dt(av,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){dt(av,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function wg(){return gf===null?gf=function(){return 268435456+Math.round(2147483648*Math.random())}():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",gN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const l=wg(),c=this.Go(e,t.toUriEncodedString());dt(Mm,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,o);const{host:g}=new URL(c),w=pc(g);return this.jo(e,c,d,r,w).then(b=>(dt(Mm,`Received RPC '${e}' ${l}: `,b),b),b=>{throw _u(Mm,`RPC '${e}' ${l} failed with error: `,b,"url: ",c,"request:",r),b})}Jo(e,t,r,s,o,l){return this.Wo(e,t,r,s,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}Go(e,t){const r=gN[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class wN extends vN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,o){const l=wg();return new Promise((c,d)=>{const g=new K5;g.setWithCredentials(!0),g.listenOnce(Q5.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Nf.NO_ERROR:const b=g.getResponseJson();dt(Li,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),c(b);break;case Nf.TIMEOUT:dt(Li,`RPC '${e}' ${l} timed out`),d(new lt(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const x=g.getStatus();if(dt(Li,`RPC '${e}' ${l} failed with status:`,x,"response text:",g.getResponseText()),x>0){let y=g.getResponseJson();Array.isArray(y)&&(y=y[0]);const L=y?.error;if(L&&L.status&&L.message){const O=function(V){const Y=V.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Y)>=0?Y:Ue.UNKNOWN}(L.status);d(new lt(O,L.message))}else d(new lt(Ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new lt(Ue.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:e,streamId:l,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{dt(Li,`RPC '${e}' ${l} completed.`)}});const w=JSON.stringify(s);dt(Li,`RPC '${e}' ${l} sending request:`,s),g.send(t,"POST",w,r,15)})}P_(e,t,r){const s=wg(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=X5(),c=J5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const w=o.join("");dt(Li,`Creating RPC '${e}' stream ${s}: ${w}`,d);const b=l.createWebChannel(w,d);this.T_(b);let x=!1,y=!1;const L=new yN({Ho:C=>{y?dt(Li,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(x||(dt(Li,`Opening RPC '${e}' stream ${s} transport.`),b.open(),x=!0),dt(Li,`RPC '${e}' stream ${s} sending:`,C),b.send(C))},Yo:()=>b.close()}),O=(C,V,Y)=>{C.listen(V,Z=>{try{Y(Z)}catch(ce){setTimeout(()=>{throw ce},0)}})};return O(b,qh.EventType.OPEN,()=>{y||(dt(Li,`RPC '${e}' stream ${s} transport opened.`),L.s_())}),O(b,qh.EventType.CLOSE,()=>{y||(y=!0,dt(Li,`RPC '${e}' stream ${s} transport closed`),L.__(),this.I_(b))}),O(b,qh.EventType.ERROR,C=>{y||(y=!0,_u(Li,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),L.__(new lt(Ue.UNAVAILABLE,"The operation could not be completed")))}),O(b,qh.EventType.MESSAGE,C=>{var V;if(!y){const Y=C.data[0];ln(!!Y,16349);const Z=Y,ce=Z?.error||((V=Z[0])===null||V===void 0?void 0:V.error);if(ce){dt(Li,`RPC '${e}' stream ${s} received error:`,ce);const be=ce.status;let Re=function(B){const U=Sr[B];if(U!==void 0)return Oy(U)}(be),W=ce.message;Re===void 0&&(Re=Ue.INTERNAL,W="Unknown error status: "+be+" with message "+ce.message),y=!0,L.__(new lt(Re,W)),b.close()}else dt(Li,`RPC '${e}' stream ${s} received:`,Y),L.a_(Y)}}),O(c,Y5.STAT_EVENT,C=>{C.stat===ag.PROXY?dt(Li,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===ag.NOPROXY&&dt(Li,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{L.o_()},0),L}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n){return new N6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&dt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="PersistentStream";class Yy{constructor(e,t,r,s,o,l,c,d){this.Fi=e,this.w_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new c0(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(vl(t.toString()),vl("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===t&&this.W_(r,s)},r=>{e(()=>{const s=new lt(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return dt(uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(dt(uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _N extends Yy{constructor(e,t,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=I6(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ot.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ot.min():l.readTime?Qs(l.readTime):Ot.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=vg(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=dg(d)?{documents:P6(o,d)}:{query:k6(o,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=My(o,l.resumeToken);const g=mg(o,l.expectedCount);g!==null&&(c.expectedCount=g)}else if(l.snapshotVersion.compareTo(Ot.min())>0){c.readTime=Wf(o,l.snapshotVersion.toTimestamp());const g=mg(o,l.expectedCount);g!==null&&(c.expectedCount=g)}return c}(this.serializer,e);const r=R6(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=vg(this.serializer),t.removeTarget=e,this.k_(t)}}class xN extends Yy{constructor(e,t,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ln(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ln(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ln(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=T6(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=vg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zy(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{}class NN extends bN{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new lt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,gg(t,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(Ue.UNKNOWN,o.toString())})}Jo(e,t,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,gg(t,r),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new lt(Ue.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class SN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vl(t),this._a=!1):dt("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="RemoteStore";class EN{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{vc(this)&&(dt(uc,"Restarting streams for network reachability change."),await async function(d){const g=qt(d);g.Ia.add(4),await xd(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Ep(g)}(this))})}),this.Aa=new SN(r,s)}}async function Ep(n){if(vc(n))for(const e of n.da)await e(!0)}async function xd(n){for(const e of n.da)await e(!1)}function Jy(n,e){const t=qt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),p0(t)?f0(t):wh(t).x_()&&d0(t,e))}function h0(n,e){const t=qt(n),r=wh(t);t.Ta.delete(e),r.x_()&&Xy(t,e),t.Ta.size===0&&(r.x_()?r.B_():vc(t)&&t.Aa.set("Unknown"))}function d0(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wh(n).H_(e)}function Xy(n,e){n.Ra.$e(e),wh(n).Y_(e)}function f0(n){n.Ra=new w6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),wh(n).start(),n.Aa.aa()}function p0(n){return vc(n)&&!wh(n).M_()&&n.Ta.size>0}function vc(n){return qt(n).Ia.size===0}function Zy(n){n.Ra=void 0}async function AN(n){n.Aa.set("Online")}async function IN(n){n.Ta.forEach((e,t)=>{d0(n,e)})}async function TN(n,e){Zy(n),p0(n)?(n.Aa.la(e),f0(n)):n.Aa.set("Unknown")}async function PN(n,e,t){if(n.Aa.set("Online"),e instanceof Fy&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ta.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ta.delete(c),s.Ra.removeTarget(c))}(n,e)}catch(r){dt(uc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qf(n,r)}else if(e instanceof If?n.Ra.Ye(e):e instanceof Dy?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ot.min()))try{const r=await Qy(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.Ra.Pt(l);return c.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const w=o.Ta.get(g);w&&o.Ta.set(g,w.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,g)=>{const w=o.Ta.get(d);if(!w)return;o.Ta.set(d,w.withResumeToken(vi.EMPTY_BYTE_STRING,w.snapshotVersion)),Xy(o,d);const b=new hu(w.target,d,g,w.sequenceNumber);d0(o,b)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){dt(uc,"Failed to raise snapshot:",r),await Qf(n,r)}}async function Qf(n,e,t){if(!vh(e))throw e;n.Ia.add(1),await xd(n),n.Aa.set("Offline"),t||(t=()=>Qy(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(uc,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Ep(n)})}function ew(n,e){return e().catch(t=>Qf(n,t,e))}async function Ap(n){const e=qt(n),t=Eu(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Yg;for(;kN(e);)try{const s=await hN(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,CN(e,s)}catch(s){await Qf(e,s)}tw(e)&&nw(e)}function kN(n){return vc(n)&&n.Pa.length<10}function CN(n,e){n.Pa.push(e);const t=Eu(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function tw(n){return vc(n)&&!Eu(n).M_()&&n.Pa.length>0}function nw(n){Eu(n).start()}async function RN(n){Eu(n).na()}async function LN(n){const e=Eu(n);for(const t of n.Pa)e.X_(t.mutations)}async function jN(n,e,t){const r=n.Pa.shift(),s=r0.from(r,e,t);await ew(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Ap(n)}async function ON(n,e){e&&Eu(n).Z_&&await async function(r,s){if(function(l){return jy(l)&&l!==Ue.ABORTED}(s.code)){const o=r.Pa.shift();Eu(r).N_(),await ew(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Ap(r)}}(n,e),tw(n)&&nw(n)}async function cv(n,e){const t=qt(n);t.asyncQueue.verifyOperationInProgress(),dt(uc,"RemoteStore received new credentials");const r=vc(t);t.Ia.add(3),await xd(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Ep(t)}async function DN(n,e){const t=qt(n);e?(t.Ia.delete(2),await Ep(t)):e||(t.Ia.add(2),await xd(t),t.Aa.set("Unknown"))}function wh(n){return n.Va||(n.Va=function(t,r,s){const o=qt(t);return o.ia(),new _N(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Zo:AN.bind(null,n),e_:IN.bind(null,n),n_:TN.bind(null,n),J_:PN.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),p0(n)?f0(n):n.Aa.set("Unknown")):(await n.Va.stop(),Zy(n))})),n.Va}function Eu(n){return n.ma||(n.ma=function(t,r,s){const o=qt(t);return o.ia(),new xN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:RN.bind(null,n),n_:ON.bind(null,n),ea:LN.bind(null,n),ta:jN.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Ap(n)):(await n.ma.stop(),n.Pa.length>0&&(dt(uc,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const l=Date.now()+r,c=new m0(e,t,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(n,e){if(vl("AsyncQueue",`${e}: ${n}`),vh(n))return new lt(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Nt.comparator(t.key,r.key):(t,r)=>Nt.comparator(t.key,r.key),this.keyedMap=Hh(),this.sortedSet=new nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.fa=new nr(Nt.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Tt(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class hh{constructor(e,t,r,s,o,l,c,d,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new hh(e,t,Xc.emptySet(t),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class MN{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=qt(t),o=s.queries;s.queries=dv(),o.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new lt(Ue.ABORTED,"Firestore shutting down"))}}function dv(){return new gc(n=>xy(n),yp)}async function rw(n,e){const t=qt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.ba()&&(r=2):(o=new FN,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(s,!0);break;case 1:o.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=g0(l,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&v0(t)}async function iw(n,e){const t=qt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VN(n,e){const t=qt(n);let r=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const c of l.wa)c.Ca(s)&&(r=!0);l.ya=s}}r&&v0(t)}function BN(n,e,t){const r=qt(n),s=r.queries.get(e);if(s)for(const o of s.wa)o.onError(t);r.queries.delete(e)}function v0(n){n.Da.forEach(e=>{e.next()})}var _g,fv;(fv=_g||(_g={})).Fa="default",fv.Cache="cache";class sw{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.key=e}}class aw{constructor(e){this.key=e}}class UN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nn(),this.mutatedKeys=nn(),this.Xa=by(e),this.eu=new Xc(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new hv,s=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((w,b)=>{const x=s.get(w),y=wp(this.query,b)?b:null,L=!!x&&this.mutatedKeys.has(x.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;x&&y?x.data.isEqual(y.data)?L!==O&&(r.track({type:3,doc:y}),C=!0):this.iu(x,y)||(r.track({type:2,doc:y}),C=!0,(d&&this.Xa(y,d)>0||g&&this.Xa(y,g)<0)&&(c=!0)):!x&&y?(r.track({type:0,doc:y}),C=!0):x&&!y&&(r.track({type:1,doc:x}),C=!0,(d||g)&&(c=!0)),C&&(y?(l=l.add(y),o=O?o.add(w):o.delete(w)):(l=l.delete(w),o=o.delete(w)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const w=this.query.limitType==="F"?l.last():l.first();l=l.delete(w.key),o=o.delete(w.key),r.track({type:1,doc:w})}return{eu:l,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((w,b)=>function(y,L){const O=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:C})}};return O(y)-O(L)}(w.type,b.type)||this.Xa(w.doc,b.doc)),this.su(r),s=s!=null&&s;const c=t&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,g=d!==this.Ya;return this.Ya=d,l.length!==0||g?{snapshot:new hh(this.query,e.eu,o,l,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new hv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nn(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new aw(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new ow(r))}),t}uu(e){this.Ha=e.qs,this.Za=nn();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return hh.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const y0="SyncEngine";class zN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qN{constructor(e){this.key=e,this.lu=!1}}class HN{constructor(e,t,r,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new gc(c=>xy(c),yp),this.Tu=new Map,this.Iu=new Set,this.du=new nr(Nt.comparator),this.Eu=new Map,this.Au=new o0,this.Ru={},this.Vu=new Map,this.mu=ch.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $N(n,e,t=!0){const r=fw(n);let s;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await lw(r,e,t,!0),s}async function WN(n,e){const t=fw(n);await lw(t,e,!0,!1)}async function lw(n,e,t,r){const s=await dN(n.localStore,Pa(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await GN(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&Jy(n.remoteStore,s),c}async function GN(n,e,t,r,s){n.gu=(b,x,y)=>async function(O,C,V,Y){let Z=C.view.nu(V);Z.Ds&&(Z=await sv(O.localStore,C.query,!1).then(({documents:W})=>C.view.nu(W,Z)));const ce=Y&&Y.targetChanges.get(C.targetId),be=Y&&Y.targetMismatches.get(C.targetId)!=null,Re=C.view.applyChanges(Z,O.isPrimaryClient,ce,be);return mv(O,C.targetId,Re._u),Re.snapshot}(n,b,x,y);const o=await sv(n.localStore,e,!0),l=new UN(e,o.qs),c=l.nu(o.documents),d=_d.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=l.applyChanges(c,n.isPrimaryClient,d);mv(n,t,g._u);const w=new zN(e,t,l);return n.Pu.set(e,w),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function KN(n,e,t){const r=qt(n),s=r.Pu.get(e),o=r.Tu.get(s.targetId);if(o.length>1)return r.Tu.set(s.targetId,o.filter(l=>!yp(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&h0(r.remoteStore,s.targetId),xg(r,s.targetId)}).catch(gh)):(xg(r,s.targetId),await yg(r.localStore,s.targetId,!0))}async function QN(n,e){const t=qt(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),h0(t.remoteStore,r.targetId))}async function YN(n,e,t){const r=rS(n);try{const s=await function(l,c){const d=qt(l),g=qn.now(),w=c.reduce((y,L)=>y.add(L.key),nn());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",y=>{let L=yl(),O=nn();return d.Os.getEntries(y,w).next(C=>{L=C,L.forEach((V,Y)=>{Y.isValidDocument()||(O=O.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(y,L)).next(C=>{b=C;const V=[];for(const Y of c){const Z=p6(Y,b.get(Y.key).overlayedDocument);Z!=null&&V.push(new Cu(Y.key,Z,fy(Z.value.mapValue),Vi.exists(!0)))}return d.mutationQueue.addMutationBatch(y,g,V,c)}).next(C=>{x=C;const V=C.applyToLocalDocumentSet(b,O);return d.documentOverlayCache.saveOverlays(y,C.batchId,V)})}).then(()=>({batchId:x.batchId,changes:Sy(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let g=l.Ru[l.currentUser.toKey()];g||(g=new nr(Gt)),g=g.insert(c,d),l.Ru[l.currentUser.toKey()]=g}(r,s.batchId,t),await bd(r,s.changes),await Ap(r.remoteStore)}catch(s){const o=g0(s,"Failed to persist write");t.reject(o)}}async function uw(n,e){const t=qt(n);try{const r=await uN(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Eu.get(o);l&&(ln(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?ln(l.lu,14607):s.removedDocuments.size>0&&(ln(l.lu,42227),l.lu=!1))}),await bd(t,r,e)}catch(r){await gh(r)}}function pv(n,e,t){const r=qt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=qt(l);d.onlineState=c;let g=!1;d.queries.forEach((w,b)=>{for(const x of b.wa)x.va(c)&&(g=!0)}),g&&v0(d)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JN(n,e,t){const r=qt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),o=s&&s.key;if(o){let l=new nr(Nt.comparator);l=l.insert(o,ei.newNoDocument(o,Ot.min()));const c=nn().add(o),d=new Np(Ot.min(),new Map,new nr(Gt),l,c);await uw(r,d),r.du=r.du.remove(o),r.Eu.delete(e),w0(r)}else await yg(r.localStore,e,!1).then(()=>xg(r,e,t)).catch(gh)}async function XN(n,e){const t=qt(n),r=e.batch.batchId;try{const s=await lN(t.localStore,e);hw(t,r,null),cw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await bd(t,s)}catch(s){await gh(s)}}async function ZN(n,e,t){const r=qt(n);try{const s=await function(l,c){const d=qt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let w;return d.mutationQueue.lookupMutationBatch(g,c).next(b=>(ln(b!==null,37113),w=b.keys(),d.mutationQueue.removeMutationBatch(g,b))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,w,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w)).next(()=>d.localDocuments.getDocuments(g,w))})}(r.localStore,e);hw(r,e,t),cw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await bd(r,s)}catch(s){await gh(s)}}function cw(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function hw(n,e,t){const r=qt(n);let s=r.Ru[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||dw(n,r)})}function dw(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(h0(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),w0(n))}function mv(n,e,t){for(const r of t)r instanceof ow?(n.Au.addReference(r.key,e),eS(n,r)):r instanceof aw?(dt(y0,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||dw(n,r.key)):Tt(19791,{yu:r})}function eS(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(dt(y0,"New document in limbo: "+t),n.Iu.add(r),w0(n))}function w0(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Nt(Cn.fromString(e)),r=n.mu.next();n.Eu.set(r,new qN(t)),n.du=n.du.insert(t,r),Jy(n.remoteStore,new hu(Pa(t0(t.path)),r,"TargetPurposeLimboResolution",gp.ue))}}async function bd(n,e,t){const r=qt(n),s=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,t).then(g=>{var w;if((g||t)&&r.isPrimaryClient){const b=g?!g.fromCache:(w=t?.targetChanges.get(d.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(g){s.push(g);const b=l0.Es(d.targetId,g);o.push(b)}}))}),await Promise.all(l),r.hu.J_(s),await async function(d,g){const w=qt(d);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>He.forEach(g,x=>He.forEach(x.Is,y=>w.persistence.referenceDelegate.addReference(b,x.targetId,y)).next(()=>He.forEach(x.ds,y=>w.persistence.referenceDelegate.removeReference(b,x.targetId,y)))))}catch(b){if(!vh(b))throw b;dt(u0,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const y=w.Fs.get(x),L=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(L);w.Fs=w.Fs.insert(x,O)}}}(r.localStore,o))}async function tS(n,e){const t=qt(n);if(!t.currentUser.isEqual(e)){dt(y0,"User change. New user:",e.toKey());const r=await Ky(t.localStore,e);t.currentUser=e,function(o,l){o.Vu.forEach(c=>{c.forEach(d=>{d.reject(new lt(Ue.CANCELLED,l))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(t,r.Bs)}}function nS(n,e){const t=qt(n),r=t.Eu.get(e);if(r&&r.lu)return nn().add(r.key);{let s=nn();const o=t.Tu.get(e);if(!o)return s;for(const l of o){const c=t.Pu.get(l);s=s.unionWith(c.view.tu)}return s}}function fw(n){const e=qt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JN.bind(null,e),e.hu.J_=VN.bind(null,e.eventManager),e.hu.pu=BN.bind(null,e.eventManager),e}function rS(n){const e=qt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,e),e}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return aN(this.persistence,new iN,e.initialUser,this.serializer)}Du(e){return new Gy(a0.Vi,this.serializer)}bu(e){return new pN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class iS extends Yf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ln(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q6(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new Gy(r=>Kf.Vi(r,t),this.serializer)}}class bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tS.bind(null,this.syncEngine),await DN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MN}()}createDatastore(e){const t=Sp(e.databaseInfo.databaseId),r=function(o){return new wN(o)}(e.databaseInfo);return function(o,l,c,d){return new NN(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,l,c){return new EN(r,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>pv(this.syncEngine,t,0),function(){return lv.C()?new lv:new mN}())}createSyncEngine(e,t){return function(s,o,l,c,d,g,w){const b=new HN(s,o,l,c,d,g);return w&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=qt(s);dt(uc,"RemoteStore shutting down."),o.Ia.add(5),await xd(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bg.provider={build:()=>new bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vl("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,o){const l=qt(s),c={documents:o.map(b=>Gf(l.serializer,b))},d=await l.Jo("BatchGetDocuments",l.serializer.databaseId,Cn.emptyPath(),c,o.length),g=new Map;d.forEach(b=>{const x=A6(l.serializer,b);g.set(x.key.toString(),x)});const w=[];return o.forEach(b=>{const x=g.get(b.toString());ln(!!x,55234,{key:b}),w.push(x)}),w}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const s=Nt.fromPath(r);this.mutations.push(new Ly(s,this.precondition(s)))}),await async function(r,s){const o=qt(r),l={writes:s.map(c=>zy(o.serializer,c))};await o.Wo("Commit",o.serializer.databaseId,Cn.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tt(50498,{Wu:e.constructor.name});t=Ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new lt(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ot.min())?Vi.exists(!1):Vi.updateTime(t):Vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new lt(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(t)}return Vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.Gu=r.maxAttempts,this.F_=new c0(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new sS(this.datastore),t=this.Ju(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Hu(s)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const t=this.updateFunction(e);return!yd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!jy(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="FirestoreClient";class aS{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Mi.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{dt(Au,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(dt(Au,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=g0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bm(n,e){n.asyncQueue.verifyOperationInProgress(),dt(Au,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ky(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{_u("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{dt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{_u("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function gv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lS(n);dt(Au,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>cv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>cv(e.remoteStore,s)),n._onlineComponents=e}async function lS(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(Au,"Using user provided OfflineComponentProvider");try{await Bm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ue.FAILED_PRECONDITION||s.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;_u("Error using user provided cache. Falling back to memory cache: "+t),await Bm(n,new Yf)}}else dt(Au,"Using default OfflineComponentProvider"),await Bm(n,new iS(void 0));return n._offlineComponents}async function _0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(Au,"Using user provided OnlineComponentProvider"),await gv(n,n._uninitializedComponentsProvider._online)):(dt(Au,"Using default OnlineComponentProvider"),await gv(n,new bg))),n._onlineComponents}function uS(n){return _0(n).then(e=>e.syncEngine)}function cS(n){return _0(n).then(e=>e.datastore)}async function mw(n){const e=await _0(n),t=e.eventManager;return t.onListen=$N.bind(null,e.syncEngine),t.onUnlisten=KN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QN.bind(null,e.syncEngine),t}function hS(n,e,t={}){const r=new Ta;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,g){const w=new pw({next:x=>{w.Ou(),l.enqueueAndForget(()=>iw(o,b));const y=x.docs.has(c);!y&&x.fromCache?g.reject(new lt(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&x.fromCache&&d&&d.source==="server"?g.reject(new lt(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new sw(t0(c.path),w,{includeMetadataChanges:!0,ka:!0});return rw(o,b)}(await mw(n),n.asyncQueue,e,t,r)),r.promise}function dS(n,e,t={}){const r=new Ta;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,g){const w=new pw({next:x=>{w.Ou(),l.enqueueAndForget(()=>iw(o,b)),x.fromCache&&d.source==="server"?g.reject(new lt(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new sw(c,w,{includeMetadataChanges:!0,ka:!0});return rw(o,b)}(await mw(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firestore.googleapis.com",yv=!0;class wv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vw,this.ssl=yv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U6)throw new lt(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new lt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new lt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new lt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y3;switch(r.type){case"firstParty":return new b3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=vv.get(t);r&&(dt("ComponentProvider","Removing Datastore"),vv.delete(t),r.terminate())}(this),Promise.resolve()}}function fS(n,e,t,r={}){var s;n=ja(n,Ip);const o=pc(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(qg(`https://${d}`),Hg("Firestore",!0)),l.host!==vw&&l.host!==d&&_u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!oc(g,c)&&(n._setSettings(g),r.mockUserToken)){let w,b;if(typeof r.mockUserToken=="string")w=r.mockUserToken,b=Mi.MOCK_USER;else{w=U5(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new lt(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Mi(x)}n._authCredentials=new w3(new ey(w,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class _r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}toJSON(){return{type:_r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vd(t,_r._jsonSchema))return new _r(e,r||null,new Nt(Cn.fromString(t.referencePath)))}}_r._jsonSchemaVersion="firestore/documentReference/1.0",_r._jsonSchema={type:Ar("string",_r._jsonSchemaVersion),referencePath:Ar("string")};class vu extends yc{constructor(e,t,r){super(e,t,t0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new Nt(e))}withConverter(e){return new vu(this.firestore,e,this._path)}}function Tp(n,e,...t){if(n=hr(n),ny("collection","path",e),n instanceof Ip){const r=Cn.fromString(e,...t);return R2(r),new vu(n,null,r)}{if(!(n instanceof _r||n instanceof vu))throw new lt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Cn.fromString(e,...t));return R2(r),new vu(n.firestore,null,r)}}function bo(n,e,...t){if(n=hr(n),arguments.length===1&&(e=Qg.newId()),ny("doc","path",e),n instanceof Ip){const r=Cn.fromString(e,...t);return C2(r),new _r(n,null,new Nt(r))}{if(!(n instanceof _r||n instanceof vu))throw new lt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Cn.fromString(e,...t));return C2(r),new _r(n.firestore,n instanceof vu?n.converter:null,new Nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new c0(this,"async_queue_retry"),this.oc=()=>{const r=Vm();r&&dt(_v,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ta;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!vh(e))throw e;dt(_v,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vl("INTERNAL UNHANDLED ERROR: ",bv(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=m0.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&Tt(47125,{hc:bv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function bv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wc extends Ip{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new xv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function pS(n,e){const t=typeof n=="object"?n:Gg(),r=typeof n=="string"?n:zf,s=pp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=M5("firestore");o&&fS(s,...o)}return s}function Pp(n){if(n._terminated)throw new lt(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mS(n),n._firestoreClient}function mS(n){var e,t,r;const s=n._freezeSettings(),o=function(c,d,g,w){return new M3(c,d,g,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,gw(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new aS(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(vi.fromBase64String(e))}catch(t){throw new lt(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ws(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vd(e,Ws._jsonSchema))return Ws.fromBase64String(e.bytes)}}Ws._jsonSchemaVersion="firestore/bytes/1.0",Ws._jsonSchema={type:Ar("string",Ws._jsonSchemaVersion),bytes:Ar("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new lt(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lt(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lt(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ka._jsonSchemaVersion}}static fromJSON(e){if(vd(e,ka._jsonSchema))return new ka(e.latitude,e.longitude)}}ka._jsonSchemaVersion="firestore/geoPoint/1.0",ka._jsonSchema={type:Ar("string",ka._jsonSchemaVersion),latitude:Ar("number"),longitude:Ar("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vd(e,Ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ca(e.vectorValues);throw new lt(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ca._jsonSchemaVersion="firestore/vectorValue/1.0",Ca._jsonSchema={type:Ar("string",Ca._jsonSchemaVersion),vectorValues:Ar("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=/^__.*__$/;class vS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wd(e,this.data,t,this.fieldTransforms)}}class yw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ww(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:n})}}class x0{constructor(e,t,r,s,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new x0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ww(this.Ec)&&gS.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class yS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sp(e)}Dc(e,t,r,s=!1){return new x0({Ec:e,methodName:t,bc:r,path:mi.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(n){const e=n._freezeSettings(),t=Sp(n._databaseId);return new yS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _w(n,e,t,r,s,o={}){const l=n.Dc(o.merge||o.mergeFields?2:0,e,t,s);N0("Data must be an object, but it was:",l,r);const c=Nw(r,l);let d,g;if(o.merge)d=new Gs(l.fieldMask),g=l.fieldTransforms;else if(o.mergeFields){const w=[];for(const b of o.mergeFields){const x=Ng(e,b,t);if(!l.contains(x))throw new lt(Ue.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ew(w,x)||w.push(x)}d=new Gs(w),g=l.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,g=l.fieldTransforms;return new vS(new is(c),d,g)}class Rp extends kp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rp}}class b0 extends kp{_toFieldTransform(e){return new c6(e.path,new ud)}isEqual(e){return e instanceof b0}}function xw(n,e,t,r){const s=n.Dc(1,e,t);N0("Data must be an object, but it was:",s,r);const o=[],l=is.empty();ku(r,(d,g)=>{const w=S0(e,d,t);g=hr(g);const b=s.gc(w);if(g instanceof Rp)o.push(w);else{const x=Sd(g,b);x!=null&&(o.push(w),l.set(w,x))}});const c=new Gs(o);return new yw(l,c,s.fieldTransforms)}function bw(n,e,t,r,s,o){const l=n.Dc(1,e,t),c=[Ng(e,r,t)],d=[s];if(o.length%2!=0)throw new lt(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(Ng(e,o[x])),d.push(o[x+1]);const g=[],w=is.empty();for(let x=c.length-1;x>=0;--x)if(!Ew(g,c[x])){const y=c[x];let L=d[x];L=hr(L);const O=l.gc(y);if(L instanceof Rp)g.push(y);else{const C=Sd(L,O);C!=null&&(g.push(y),w.set(y,C))}}const b=new Gs(g);return new yw(w,b,l.fieldTransforms)}function wS(n,e,t,r=!1){return Sd(t,n.Dc(r?4:3,e))}function Sd(n,e){if(Sw(n=hr(n)))return N0("Unsupported field value:",e,n),Nw(n,e);if(n instanceof kp)return function(r,s){if(!ww(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const c of r){let d=Sd(c,s.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=qn.fromDate(r);return{timestampValue:Wf(s.serializer,o)}}if(r instanceof qn){const o=new qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wf(s.serializer,o)}}if(r instanceof ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ws)return{bytesValue:My(s.serializer,r._byteString)};if(r instanceof _r){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ca)return function(l,c){return{mapValue:{fields:{[hy]:{stringValue:dy},[qf]:{arrayValue:{values:l.toArray().map(g=>{if(typeof g!="number")throw c.wc("VectorValues must only contain numeric values.");return n0(c.serializer,g)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${mp(r)}`)}(n,e)}function Nw(n,e){const t={};return sy(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(n,(r,s)=>{const o=Sd(s,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Sw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof ka||n instanceof Ws||n instanceof _r||n instanceof kp||n instanceof Ca)}function N0(n,e,t){if(!Sw(t)||!ry(t)){const r=mp(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Ng(n,e,t){if((e=hr(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return S0(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}const _S=new RegExp("[~\\*/\\[\\]]");function S0(n,e,t){if(e.search(_S)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nd(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new lt(Ue.INVALID_ARGUMENT,c+n+d)}function Ew(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xS extends Xf{data(){return super.data()}}function Lp(n,e){return typeof e=="string"?S0(n,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E0{}class Aw extends E0{}function Iw(n,e,...t){let r=[];e instanceof E0&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof A0).length,c=o.filter(d=>d instanceof jp).length;if(l>1||l>0&&c>0)throw new lt(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class jp extends Aw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jp(e,t,r)}_apply(e){const t=this._parse(e);return Tw(e._query,t),new yc(e.firestore,e.converter,fg(e._query,t))}_parse(e){const t=Cp(e.firestore);return function(o,l,c,d,g,w,b){let x;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new lt(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Sv(b,w);const L=[];for(const O of b)L.push(Nv(d,o,O));x={arrayValue:{values:L}}}else x=Nv(d,o,b)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Sv(b,w),x=wS(c,l,b,w==="in"||w==="not-in");return Er.create(g,w,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function NS(n,e,t){const r=e,s=Lp("where",n);return jp._create(s,r,t)}class A0 extends E0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new A0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ra.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)Tw(l,d),l=fg(l,d)}(e._query,t),new yc(e.firestore,e.converter,fg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class I0 extends Aw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new I0(e,t)}_apply(e){const t=function(s,o,l){if(s.startAt!==null)throw new lt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new lt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(o,l)}(e._query,this._field,this._direction);return new yc(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new yh(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function SS(n,e="asc"){const t=e,r=Lp("orderBy",n);return I0._create(r,t)}function Nv(n,e,t){if(typeof(t=hr(t))=="string"){if(t==="")throw new lt(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_y(e)&&t.indexOf("/")!==-1)throw new lt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Cn.fromString(t));if(!Nt.isDocumentKey(r))throw new lt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B2(n,new Nt(r))}if(t instanceof _r)return B2(n,t._key);throw new lt(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mp(t)}.`)}function Sv(n,e){if(!Array.isArray(n)||n.length===0)throw new lt(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tw(n,e){const t=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new lt(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Pw{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ku(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[qf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>gr(l.doubleValue));return new Ca(o)}convertGeoPoint(e){return new ka(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const t=bu(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Cn.fromString(e);ln($y(r),9688,{name:e});const s=new od(r.get(1),r.get(3)),o=new Nt(r.popFirst(5));return s.isEqual(t)||vl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ES extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class Yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends Xf{constructor(e,t,r,s,o,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Lp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}yu._jsonSchemaVersion="firestore/documentSnapshot/1.0",yu._jsonSchema={type:Ar("string",yu._jsonSchemaVersion),bundleSource:Ar("string","DocumentSnapshot"),bundleName:Ar("string"),bundle:Ar("string")};class Tf extends yu{data(e={}){return super.data(e)}}class Zc{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Yc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tf(this._firestore,this._userDataWriter,r.key,r,new Yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lt(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Tf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Yc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Tf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Yc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,w=-1;return c.type!==0&&(g=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),w=l.indexOf(c.doc.key)),{type:AS(c.type),doc:d,oldIndex:g,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){n=ja(n,_r);const e=ja(n.firestore,wc);return hS(Pp(e),n._key).then(t=>PS(e,n,t))}Zc._jsonSchemaVersion="firestore/querySnapshot/1.0",Zc._jsonSchema={type:Ar("string",Zc._jsonSchemaVersion),bundleSource:Ar("string","QuerySnapshot"),bundleName:Ar("string"),bundle:Ar("string")};class T0 extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function P0(n){n=ja(n,yc);const e=ja(n.firestore,wc),t=Pp(e),r=new T0(e);return bS(n._query),dS(t,n._query).then(s=>new Zc(e,r,n,s))}function k0(n,e,t,...r){n=ja(n,_r);const s=ja(n.firestore,wc),o=Cp(s);let l;return l=typeof(e=hr(e))=="string"||e instanceof Nd?bw(o,"updateDoc",n._key,e,t,r):xw(o,"updateDoc",n._key,e),C0(s,[l.toMutation(n._key,Vi.exists(!0))])}function IS(n){return C0(ja(n.firestore,wc),[new bp(n._key,Vi.none())])}function TS(n,e){const t=ja(n.firestore,wc),r=bo(n),s=kw(n.converter,e);return C0(t,[_w(Cp(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Vi.exists(!1))]).then(()=>r)}function C0(n,e){return function(r,s){const o=new Ta;return r.asyncQueue.enqueueAndForget(async()=>YN(await uS(r),s,o)),o.promise}(Pp(n),e)}function PS(n,e,t){const r=t.docs.get(e._key),s=new T0(n);return new yu(n,s,e._key,r,new Yc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={maxAttempts:5};function Wh(n,e){if((n=hr(n)).firestore!==e)throw new lt(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cp(e)}get(e){const t=Wh(e,this._firestore),r=new ES(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return Tt(24041);const o=s[0];if(o.isFoundDocument())return new Xf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Xf(this._firestore,r,t._key,null,t.converter);throw Tt(18433,{doc:o})})}set(e,t,r){const s=Wh(e,this._firestore),o=kw(s.converter,t,r),l=_w(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const o=Wh(e,this._firestore);let l;return l=typeof(t=hr(t))=="string"||t instanceof Nd?bw(this._dataReader,"Transaction.update",o._key,t,r,s):xw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=Wh(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends CS{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wh(e,this._firestore),r=new T0(this._firestore);return super.get(e).then(s=>new yu(this._firestore,r,t._key,s._document,new Yc(!1,!1),t.converter))}}function LS(n,e,t){n=ja(n,wc);const r=Object.assign(Object.assign({},kS),t);return function(o){if(o.maxAttempts<1)throw new lt(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,c){const d=new Ta;return o.asyncQueue.enqueueAndForget(async()=>{const g=await cS(o);new oS(o.asyncQueue,g,c,l,d).zu()}),d.promise}(Pp(n),s=>e(new RS(n,s)),r)}function jS(){return new b0("serverTimestamp")}(function(e,t=!0){(function(s){mh=s})(mc),ac(new wu("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new wc(new _3(r.getProvider("auth-internal")),new N3(l,r.getProvider("app-check-internal")),function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new lt(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(g.options.projectId,w)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ia(A2,I2,e),Ia(A2,I2,"esm2017")})();var OS="firebase",DS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(OS,DS,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebasestorage.googleapis.com",FS="storageBucket",MS=120*1e3,VS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Ma{constructor(e,t,r=0){super(Um(e),`Firebase Storage: ${t} (${Um(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Va.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Da;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Da||(Da={}));function Um(n){return"storage/"+n}function BS(){const n="An unknown error occurred, please check the error payload for server response.";return new Va(Da.UNKNOWN,n)}function US(){return new Va(Da.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zS(){return new Va(Da.CANCELED,"User canceled the upload/download.")}function qS(n){return new Va(Da.INVALID_URL,"Invalid URL '"+n+"'.")}function HS(n){return new Va(Da.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ev(n){return new Va(Da.INVALID_ARGUMENT,n)}function Rw(){return new Va(Da.APP_DELETED,"The Firebase app was deleted.")}function $S(n){return new Va(Da.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ea.makeFromUrl(e,t)}catch{return new ea(e,"")}if(r.path==="")return r;throw HS(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const w="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",y=new RegExp(`^https?://${b}/${w}/b/${s}/o${x}`,"i"),L={bucket:1,path:3},O=t===Cw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",V=new RegExp(`^https?://${O}/${s}/${C}`,"i"),Z=[{regex:c,indices:d,postModify:o},{regex:y,indices:L,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<Z.length;ce++){const be=Z[ce],Re=be.regex.exec(e);if(Re){const W=Re[be.indices.bucket];let R=Re[be.indices.path];R||(R=""),r=new ea(W,R),be.postModify(r);break}}if(r==null)throw qS(e);return r}}class WS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n,e,t){let r=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let g=!1;function w(...C){g||(g=!0,e.apply(null,C))}function b(C){s=setTimeout(()=>{s=null,n(y,d())},C)}function x(){o&&clearTimeout(o)}function y(C,...V){if(g){x();return}if(C){x(),w.call(null,C,...V);return}if(d()||l){x(),w.call(null,C,...V);return}r<64&&(r*=2);let Z;c===1?(c=2,Z=0):Z=(r+Math.random())*1e3,b(Z)}let L=!1;function O(C){L||(L=!0,x(),!g&&(s!==null?(C||(c=2),clearTimeout(s),b(0)):C||(c=1)))}return b(0),o=setTimeout(()=>{l=!0,O(!0)},t),O}function KS(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){return n!==void 0}function Av(n,e,t,r){if(r<e)throw Ev(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ev(`Invalid value for '${n}'. Expected ${t} or less.`)}function YS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Zf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Zf||(Zf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,r,s,o,l,c,d,g,w,b,x=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=g,this.progressCallback_=w,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,O)=>{this.resolve_=L,this.reject_=O,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,g=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,g)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Zf.NO_ERROR,d=o.getStatus();if(!c||JS(d,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===Zf.ABORT;r(!1,new vf(!1,null,w));return}const g=this.successCodes_.indexOf(d)!==-1;r(!0,new vf(g,o))})},t=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());QS(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=BS();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?Rw():zS();l(d)}else{const d=US();l(d)}};this.canceled_?t(!1,new vf(!1,null,!0)):this.backoffId_=GS(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function ZS(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function eE(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tE(n,e){e&&(n["X-Firebase-GMPID"]=e)}function nE(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function rE(n,e,t,r,s,o,l=!0,c=!1){const d=YS(n.urlParams),g=n.url+d,w=Object.assign({},n.headers);return tE(w,e),ZS(w,t),eE(w,o),nE(w,r),new XS(g,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function sE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this._service=e,t instanceof ea?this._location=t:this._location=ea.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ep(e,t)}get root(){const e=new ea(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sE(this._location.path)}get storage(){return this._service}get parent(){const e=iE(this._location.path);if(e===null)return null;const t=new ea(this._location.bucket,e);return new ep(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $S(e)}}function Iv(n,e){const t=e?.[FS];return t==null?null:ea.makeFromBucketSpec(t,n)}function oE(n,e,t,r={}){n.host=`${e}:${t}`;const s=pc(e);s&&(qg(`https://${n.host}/b`),Hg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:U5(o,n.app.options.projectId))}class aE{constructor(e,t,r,s,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=Cw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MS,this._maxUploadRetryTime=VS,this._requests=new Set,s!=null?this._bucket=ea.makeFromBucketSpec(s,this._host):this._bucket=Iv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ea.makeFromBucketSpec(this._url,e):this._bucket=Iv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Av("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Av("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ep(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new WS(Rw());{const l=rE(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Tv="@firebase/storage",Pv="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="storage";function jw(n=Gg(),e){n=hr(n);const r=pp(n,Lw).getImmediate({identifier:e}),s=M5("storage");return s&&lE(r,...s),r}function lE(n,e,t,r={}){oE(n,e,t,r)}function uE(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new aE(t,r,s,e,mc)}function cE(){ac(new wu(Lw,uE,"PUBLIC").setMultipleInstances(!0)),Ia(Tv,Pv,""),Ia(Tv,Pv,"esm2017")}cE();function R0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hE=Ow,Dw=new md("auth","Firebase",Ow());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new $g("@firebase/auth");function dE(n,...e){tp.logLevel<=tn.WARN&&tp.warn(`Auth (${mc}): ${n}`,...e)}function Pf(n,...e){tp.logLevel<=tn.ERROR&&tp.error(`Auth (${mc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(n,...e){throw j0(n,...e)}function na(n,...e){return j0(n,...e)}function L0(n,e,t){const r=Object.assign(Object.assign({},hE()),{[e]:t});return new md("auth","Firebase",r).create(e,{appName:n.name})}function ml(n){return L0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fE(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&No(n,"argument-error"),L0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Dw.create(n,...e)}function Dt(n,e,...t){if(!n)throw j0(e,...t)}function fl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pf(e),new Error(e)}function wl(n,e){n||fl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pE(){return kv()==="http:"||kv()==="https:"}function kv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pE()||Jx()||"connection"in navigator)?navigator.onLine:!0}function gE(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,wl(t>e,"Short delay should be less than long delay!"),this.isMobile=Kx()||Xx()}get(){return mE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e){wl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wE=new Ed(3e4,6e4);function Ru(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xl(n,e,t,r,s={}){return Mw(n,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=gd(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:d},o);return Yx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&pc(n.emulatorConfig.host)&&(g.credentials="include"),Fw.fetch()(await Vw(n,n.config.apiHost,t,c),g)})}async function Mw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vE),e);try{const s=new xE(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw yf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,g]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw yf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw yf(n,"user-disabled",l);const w=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw L0(n,w,g);No(n,w)}}catch(s){if(s instanceof Ma)throw s;No(n,"network-request-failed",{message:String(s)})}}async function Ad(n,e,t,r,s={}){const o=await xl(n,e,t,r,s);return"mfaPendingCredential"in o&&No(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Vw(n,e,t,r){const s=`${e}${t}?${r}`,o=n,l=o.config.emulator?O0(n.config,s):`${n.config.apiScheme}://${s}`;return yE.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function _E(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),wE.get())})}}function yf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=na(n,e,r);return s.customData._tokenResponse=t,s}function Cv(n){return n!==void 0&&n.enterprise!==void 0}class bE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _E(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NE(n,e){return xl(n,"GET","/v2/recaptchaConfig",Ru(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SE(n,e){return xl(n,"POST","/v1/accounts:delete",e)}async function np(n,e){return xl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EE(n,e=!1){const t=hr(n),r=await t.getIdToken(e),s=D0(r);Dt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Zh(zm(s.auth_time)),issuedAtTime:Zh(zm(s.iat)),expirationTime:Zh(zm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function zm(n){return Number(n)*1e3}function D0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const s=D5(t);return s?JSON.parse(s):(Pf("Failed to decode base64 JWT payload"),null)}catch(s){return Pf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Rv(n){const e=D0(n);return Dt(e,"internal-error"),Dt(typeof e.exp<"u","internal-error"),Dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ma&&AE(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function AE({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zh(this.lastLoginAt),this.creationTime=Zh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(n){var e;const t=n.auth,r=await n.getIdToken(),s=await dh(n,np(t,{idToken:r}));Dt(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Bw(o.providerUserInfo):[],c=PE(n.providerData,l),d=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!c?.length,w=d?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:w};Object.assign(n,b)}async function TE(n){const e=hr(n);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PE(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Bw(n){return n.map(e=>{var{providerId:t}=e,r=R0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(n,e){const t=await Mw(n,{},async()=>{const r=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await Vw(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&pc(n.emulatorConfig.host)&&(d.credentials="include"),Fw.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CE(n,e){return xl(n,"POST","/v2/accounts:revokeToken",Ru(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt(typeof e.idToken<"u","internal-error"),Dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Dt(e.length!==0,"internal-error");const t=Rv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await kE(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,l=new eh;return r&&(Dt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Dt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Dt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eh,this.toJSON())}_performRefresh(){return fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n,e){Dt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=R0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await dh(this,this.stsTokenManager.getToken(this.auth,e));return Dt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EE(this,e)}reload(){return TE(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(ml(this.auth));const e=await this.getIdToken();return await dh(this,SE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,l,c,d,g,w;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(s=t.email)!==null&&s!==void 0?s:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,L=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Y=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:Z,emailVerified:ce,isAnonymous:be,providerData:Re,stsTokenManager:W}=t;Dt(Z&&W,e,"internal-error");const R=eh.fromJSON(this.name,W);Dt(typeof Z=="string",e,"internal-error"),iu(b,e.name),iu(x,e.name),Dt(typeof ce=="boolean",e,"internal-error"),Dt(typeof be=="boolean",e,"internal-error"),iu(y,e.name),iu(L,e.name),iu(O,e.name),iu(C,e.name),iu(V,e.name),iu(Y,e.name);const B=new ta({uid:Z,auth:e,email:x,emailVerified:ce,displayName:b,isAnonymous:be,photoURL:L,phoneNumber:y,tenantId:O,stsTokenManager:R,createdAt:V,lastLoginAt:Y});return Re&&Array.isArray(Re)&&(B.providerData=Re.map(U=>Object.assign({},U))),C&&(B._redirectEventId=C),B}static async _fromIdTokenResponse(e,t,r=!1){const s=new eh;s.updateFromServerResponse(t);const o=new ta({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Dt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Bw(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,c=new eh;c.updateFromIdToken(r);const d=new ta({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;function pl(n){wl(n instanceof Function,"Expected a class definition");let e=Lv.get(n);return e?(wl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uw.type="NONE";const jv=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n,e,t){return`firebase:${n}:${e}:${t}`}class th{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=kf(this.userKey,s.apiKey,o),this.fullPersistenceKey=kf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await np(this.auth,{idToken:e}).catch(()=>{});return t?ta._fromGetAccountInfoResponse(this.auth,t,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new th(pl(jv),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||pl(jv);const l=kf(r,e.config.apiKey,e.name);let c=null;for(const g of t)try{const w=await g._get(l);if(w){let b;if(typeof w=="string"){const x=await np(e,{idToken:w}).catch(()=>{});if(!x)break;b=await ta._fromGetAccountInfoResponse(e,x,w)}else b=ta._fromJSON(e,w);g!==o&&(c=b),o=g;break}}catch{}const d=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new th(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(l)}catch{}})),new th(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($w(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gw(e))return"Blackberry";if(Kw(e))return"Webos";if(qw(e))return"Safari";if((e.includes("chrome/")||Hw(e))&&!e.includes("edge/"))return"Chrome";if(Ww(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zw(n=zi()){return/firefox\//i.test(n)}function qw(n=zi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hw(n=zi()){return/crios\//i.test(n)}function $w(n=zi()){return/iemobile/i.test(n)}function Ww(n=zi()){return/android/i.test(n)}function Gw(n=zi()){return/blackberry/i.test(n)}function Kw(n=zi()){return/webos/i.test(n)}function F0(n=zi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RE(n=zi()){var e;return F0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LE(){return Zx()&&document.documentMode===10}function Qw(n=zi()){return F0(n)||Ww(n)||Kw(n)||Gw(n)||/windows phone/i.test(n)||$w(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n,e=[]){let t;switch(n){case"Browser":t=Ov(zi());break;case"Worker":t=`${Ov(zi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(n,e={}){return xl(n,"GET","/v2/passwordPolicy",Ru(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=6;class FE{constructor(e){var t,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:DE,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new jE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pl(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await th.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await np(this,{idToken:e}),r=await ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(As(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(ml(this));const t=e?hr(e):null;return t&&Dt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(ml(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(ml(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OE(this),t=new FE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await CE(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pl(e)||this._popupRedirectResolver;Dt(t,this,"argument-error"),this.redirectPersistenceManager=await th.create(this,[pl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&dE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lu(n){return hr(n)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ab(t=>this.observer=t)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VE(n){Op=n}function Jw(n){return Op.loadJS(n)}function BE(){return Op.recaptchaEnterpriseScript}function UE(){return Op.gapiScript}function zE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qE{constructor(){this.enterprise=new HE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HE{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $E="recaptcha-enterprise",Xw="NO_RECAPTCHA";class WE{constructor(e){this.type=$E,this.auth=Lu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{NE(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const g=new bE(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,l(g.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;Cv(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(g=>{l(g)}).catch(()=>{l(Xw)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qE().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&Cv(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=BE();d.length!==0&&(d+=c),Jw(d).then(()=>{s(c,o,l)}).catch(g=>{l(g)})}}).catch(c=>{l(c)})})}}async function Fv(n,e,t,r=!1,s=!1){const o=new WE(n);let l;if(s)l=Xw;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,g=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:g,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ag(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Fv(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Fv(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e){const t=pp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(oc(o,e??{}))return s;No(s,"already-initialized")}return t.initialize({options:e})}function KE(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(pl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function QE(n,e,t){const r=Lu(n);Dt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=Zw(e),{host:l,port:c}=YE(e),d=c===null?"":`:${c}`,g={url:`${o}//${l}${d}/`},w=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Dt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Dt(oc(g,r.config.emulator)&&oc(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,pc(l)?(qg(`${o}//${l}${d}`),Hg("Auth",!0)):JE()}function Zw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YE(n){const e=Zw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Mv(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Mv(l)}}}function Mv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function JE(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fl("not implemented")}_getIdTokenResponse(e){return fl("not implemented")}_linkToIdToken(e,t){return fl("not implemented")}_getReauthenticationResolver(e){return fl("not implemented")}}async function XE(n,e){return xl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(n,e){return Ad(n,"POST","/v1/accounts:signInWithPassword",Ru(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(n,e){return Ad(n,"POST","/v1/accounts:signInWithEmailLink",Ru(n,e))}async function tA(n,e){return Ad(n,"POST","/v1/accounts:signInWithEmailLink",Ru(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends M0{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new dd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new dd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,t,"signInWithPassword",ZE);case"emailLink":return eA(e,{email:this._email,oobCode:this._password});default:No(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,r,"signUpPassword",XE);case"emailLink":return tA(e,{idToken:t,email:this._email,oobCode:this._password});default:No(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(n,e){return Ad(n,"POST","/v1/accounts:signInWithIdp",Ru(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="http://localhost";class hc extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):No("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=R0(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new hc(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return nh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,nh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nh(e,t)}buildRequest(){const e={requestUri:nA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iA(n){const e=Uh(zh(n)).link,t=e?Uh(zh(e)).deep_link_id:null,r=Uh(zh(n)).deep_link_id;return(r?Uh(zh(r)).link:null)||r||t||e||n}class V0{constructor(e){var t,r,s,o,l,c;const d=Uh(zh(e)),g=(t=d.apiKey)!==null&&t!==void 0?t:null,w=(r=d.oobCode)!==null&&r!==void 0?r:null,b=rA((s=d.mode)!==null&&s!==void 0?s:null);Dt(g&&w&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=w,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=iA(e);try{return new V0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.providerId=_h.PROVIDER_ID}static credential(e,t){return dd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=V0.parseLink(t);return Dt(r,"argument-error"),dd._fromEmailAndCode(e,r.code,r.tenantId)}}_h.PROVIDER_ID="password";_h.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_h.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends B0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Id{constructor(){super("facebook.com")}static credential(e){return hc._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return au.credential(e.oauthAccessToken)}catch{return null}}}au.FACEBOOK_SIGN_IN_METHOD="facebook.com";au.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hc._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return dl.credential(t,r)}catch{return null}}}dl.GOOGLE_SIGN_IN_METHOD="google.com";dl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Id{constructor(){super("github.com")}static credential(e){return hc._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lu.credential(e.oauthAccessToken)}catch{return null}}}lu.GITHUB_SIGN_IN_METHOD="github.com";lu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Id{constructor(){super("twitter.com")}static credential(e,t){return hc._fromParams({providerId:uu.PROVIDER_ID,signInMethod:uu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uu.credentialFromTaggedObject(e)}static credentialFromError(e){return uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return uu.credential(t,r)}catch{return null}}}uu.TWITTER_SIGN_IN_METHOD="twitter.com";uu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(n,e){return Ad(n,"POST","/v1/accounts:signUp",Ru(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await ta._fromIdTokenResponse(e,r,s),l=Vv(r);return new dc({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Vv(r);return new dc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Vv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Ma{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ip(e,t,r,s)}}function e_(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(n,o,e,r):o})}async function oA(n,e,t=!1){const r=await dh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return dc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(n,e,t=!1){const{auth:r}=n;if(As(r.app))return Promise.reject(ml(r));const s="reauthenticate";try{const o=await dh(n,e_(r,s,e,n),t);Dt(o.idToken,r,"internal-error");const l=D0(o.idToken);Dt(l,r,"internal-error");const{sub:c}=l;return Dt(n.uid===c,r,"user-mismatch"),dc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&No(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(n,e,t=!1){if(As(n.app))return Promise.reject(ml(n));const r="signIn",s=await e_(n,r,e),o=await dc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function lA(n,e){return t_(Lu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(n){const e=Lu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uA(n,e,t){if(As(n.app))return Promise.reject(ml(n));const r=Lu(n),l=await Ag(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&n_(n),d}),c=await dc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function cA(n,e,t){return As(n.app)?Promise.reject(ml(n)):lA(hr(n),_h.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n_(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(n,e){return xl(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=hr(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await dh(r,hA(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function fA(n,e,t,r){return hr(n).onIdTokenChanged(e,t,r)}function pA(n,e,t){return hr(n).beforeAuthStateChanged(e,t)}function mA(n,e,t,r){return hr(n).onAuthStateChanged(e,t,r)}function gA(n){return hr(n).signOut()}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=1e3,yA=10;class i_ extends r_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);LE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},vA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}i_.type="LOCAL";const wA=i_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends r_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}s_.type="SESSION";const o_=s_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async g=>g(t.origin,o)),d=await _A(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const g=U0("",20);s.port1.start();const w=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(w),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(w),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return window}function bA(n){Ra().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function NA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SA(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function EA(){return a_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="firebaseLocalStorageDb",AA=1,op="firebaseLocalStorage",u_="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fp(n,e){return n.transaction([op],e?"readwrite":"readonly").objectStore(op)}function IA(){const n=indexedDB.deleteDatabase(l_);return new Td(n).toPromise()}function Ig(){const n=indexedDB.open(l_,AA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(op,{keyPath:u_})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(op)?e(r):(r.close(),await IA(),e(await Ig()))})})}async function Bv(n,e,t){const r=Fp(n,!0).put({[u_]:e,value:t});return new Td(r).toPromise()}async function TA(n,e){const t=Fp(n,!1).get(e),r=await new Td(t).toPromise();return r===void 0?null:r.value}function Uv(n,e){const t=Fp(n,!0).delete(e);return new Td(t).toPromise()}const PA=800,kA=3;class c_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>kA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dp._getInstance(EA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NA(),!this.activeServiceWorker)return;this.sender=new xA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Bv(e,sp,"1"),await Uv(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Fp(s,!1).getAll();return new Td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c_.type="LOCAL";const CA=c_;new Ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n,e){return e?pl(e):(Dt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends M0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RA(n){return t_(n.auth,new z0(n),n.bypassAuthState)}function LA(n){const{auth:e,user:t}=n;return Dt(t,e,"internal-error"),aA(t,new z0(n),n.bypassAuthState)}async function jA(n){const{auth:e,user:t}=n;return Dt(t,e,"internal-error"),oA(t,new z0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RA;case"linkViaPopup":case"linkViaRedirect":return jA;case"reauthViaPopup":case"reauthViaRedirect":return LA;default:No(this.auth,"internal-error")}}resolve(e){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Ed(2e3,1e4);async function DA(n,e,t){if(As(n.app))return Promise.reject(na(n,"operation-not-supported-in-this-environment"));const r=Lu(n);fE(n,e,B0);const s=h_(r,t);return new ic(r,"signInViaPopup",e,s).executeNotNull()}class ic extends d_{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){wl(this.filter.length===1,"Popup operations only handle one event");const e=U0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OA.get())};e()}}ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="pendingRedirect",Cf=new Map;class MA extends d_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const r=await VA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VA(n,e){const t=zA(e),r=UA(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function BA(n,e){Cf.set(n._key(),e)}function UA(n){return pl(n._redirectPersistence)}function zA(n){return kf(FA,n.config.apiKey,n.name)}async function qA(n,e,t=!1){if(As(n.app))return Promise.reject(ml(n));const r=Lu(n),s=h_(r,e),l=await new MA(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=600*1e3;class $A{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!f_(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(na(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HA&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function f_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function WA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e={}){return xl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QA=/^https?/;async function YA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GA(n);for(const t of e)try{if(JA(t))return}catch{}No(n,"unauthorized-domain")}function JA(n){const e=Sg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!QA.test(t))return!1;if(KA.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Ed(3e4,6e4);function qv(){const n=Ra().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZA(n){return new Promise((e,t)=>{var r,s,o;function l(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),t(na(n,"network-request-failed"))},timeout:XA.get()})}if(!((s=(r=Ra().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ra().gapi)===null||o===void 0)&&o.load)l();else{const c=zE("iframefcb");return Ra()[c]=()=>{gapi.load?l():t(na(n,"network-request-failed"))},Jw(`${UE()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function eI(n){return Rf=Rf||ZA(n),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Ed(5e3,15e3),nI="__/auth/iframe",rI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(n){const e=n.config;Dt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?O0(e,rI):`https://${n.config.authDomain}/${nI}`,r={apiKey:e.apiKey,appName:n.name,v:mc},s=sI.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${gd(r).slice(1)}`}async function aI(n){const e=await eI(n),t=Ra().gapi;return Dt(t,n,"internal-error"),e.open({where:document.body,url:oI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=na(n,"network-request-failed"),c=Ra().setTimeout(()=>{o(l)},tI.get());function d(){Ra().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",dI="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(n,e,t,r=uI,s=cI){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},lI),{width:r.toString(),height:s.toString(),top:o,left:l}),g=zi().toLowerCase();t&&(c=Hw(g)?hI:t),zw(g)&&(e=e||dI,d.scrollbars="yes");const w=Object.entries(d).reduce((x,[y,L])=>`${x}${y}=${L},`,"");if(RE(g)&&c!=="_self")return pI(e||"",c),new Hv(null);const b=window.open(e||"",c,w);Dt(b,n,"popup-blocked");try{b.focus()}catch{}return new Hv(b)}function pI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="__/auth/handler",gI="emulator/auth/handler",vI=encodeURIComponent("fac");async function $v(n,e,t,r,s,o){Dt(n.config.authDomain,n,"auth-domain-config-required"),Dt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mc,eventId:s};if(e instanceof B0){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",ob(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries({}))l[w]=b}if(e instanceof Id){const w=e.getScopes().filter(b=>b!=="");w.length>0&&(l.scopes=w.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const w of Object.keys(c))c[w]===void 0&&delete c[w];const d=await n._getAppCheckToken(),g=d?`#${vI}=${encodeURIComponent(d)}`:"";return`${yI(n)}?${gd(c).slice(1)}${g}`}function yI({config:n}){return n.emulator?O0(n,gI):`https://${n.authDomain}/${mI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o_,this._completeRedirectFn=qA,this._overrideRedirectResult=BA}async _openPopup(e,t,r,s){var o;wl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await $v(e,t,r,Sg(),s);return fI(e,l,U0())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await $v(e,t,r,Sg(),s);return bA(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(wl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await aI(e),r=new $A(e);return t.register("authEvent",s=>(Dt(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},s=>{var o;const l=(o=s?.[0])===null||o===void 0?void 0:o[qm];l!==void 0&&t(!!l),No(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qw()||qw()||F0()}}const _I=wI;var Wv="@firebase/auth",Gv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NI(n){ac(new wu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Dt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yw(n)},g=new ME(r,s,o,d);return KE(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ac(new wu("auth-internal",e=>{const t=Lu(e.getProvider("auth").getImmediate());return(r=>new xI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(Wv,Gv,bI(n)),Ia(Wv,Gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=300,EI=B5("authIdTokenMaxAge")||SI;let Kv=null;const AI=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>EI)return;const s=t?.token;Kv!==s&&(Kv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p_(n=Gg()){const e=pp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GE(n,{popupRedirectResolver:_I,persistence:[CA,wA,o_]}),r=B5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=AI(o.toString());pA(t,l,()=>l(t.currentUser)),fA(t,c=>l(c))}}const s=F5("auth");return s&&QE(t,`http://${s}`),t}function II(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}VE({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=na("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",II().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NI("Browser");const TI={apiKey:"AIzaSyB6fGDtjbuA3SgZhiuPKEAbD6VdUIYChoo",authDomain:"internship-48a2e.firebaseapp.com",projectId:"internship-48a2e",storageBucket:"internship-48a2e.appspot.com",messagingSenderId:"116293893386",appId:"1:116293893386:web:b2007aa6ed441c07848ef3",measurementId:"G-R3WPMXBWP4"},fh=H5(TI),gi=pS(fh),PI=jw(fh),Pd=p_(fh),kI=new dl,m_=()=>DA(Pd,kI),q0=(n,e)=>cA(Pd,n,e),CI=()=>gA(Pd),g_=n=>mA(Pd,n),RI=Object.freeze(Object.defineProperty({__proto__:null,app:fh,auth:Pd,db:gi,default:fh,logout:CI,observeUser:g_,signInWithEmail:q0,signInWithGoogle:m_,storage:PI},Symbol.toStringTag,{value:"Module"}));function LI(){const n=Le.useRef([]);return Le.useEffect(()=>{if(!window.IntersectionObserver)return;const e=new window.IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.add("opacity-100","translate-y-0"),r.target.classList.remove("opacity-0","translate-y-8"))})},{threshold:.2});return n.current.forEach(t=>{t&&(t.classList.add("opacity-0","translate-y-8"),e.observe(t))}),()=>e.disconnect()},[]),n}const jI=Ui.forwardRef((n,e)=>{const[t,r]=Ui.useState([]),[s,o]=Ui.useState(!0),l=Fa(),c=LI();return Ui.useEffect(()=>{async function d(){const w=(await P0(Tp(gi,"hotels"))).docs.map(b=>({id:b.id,...b.data()}));r(w),o(!1)}d()},[]),s?v.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:v.jsx("div",{className:"text-2xl text-blue-600 font-bold",children:"Loading hotels..."})}):v.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[v.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-pink-50 to-green-50 rounded-xl shadow-lg p-8 mb-12 border border-blue-100",children:[v.jsx("h2",{className:"text-3xl font-bold text-blue-800 mb-4 text-center font-serif tracking-wide",children:"Why Choose GovStay?"}),v.jsx("p",{className:"text-gray-600 text-center mb-10 max-w-2xl mx-auto",children:"Experience hassle-free booking with our secure platform designed specifically for government accommodations"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"text-center p-6 rounded-lg hover:bg-gray-50 transition-colors",children:[v.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"})})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Secure Booking"}),v.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Government-verified accommodations with secure payment processing"})]}),v.jsxs("div",{className:"text-center p-6 rounded-lg hover:bg-gray-50 transition-colors",children:[v.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Easy Booking"}),v.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Simple calendar-based booking with instant confirmation"})]}),v.jsxs("div",{className:"text-center p-6 rounded-lg hover:bg-gray-50 transition-colors",children:[v.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Quality Assured"}),v.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Maintained government facilities with modern amenities"})]})]})]}),v.jsx("h1",{ref:e,className:"text-4xl font-bold text-gray-800 mb-8 text-center font-serif tracking-wide",children:"Available Guest Houses"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch",children:t.map((d,g)=>{const w=Math.min(...d.rooms.map(b=>b.price));return v.jsxs("div",{ref:b=>{c.current[g]=b,b&&b.classList.add("opacity-100","translate-y-0")},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer transform group border-2 border-blue-100 flex flex-col h-full",onClick:()=>l(`/hotel/${d.id}`),children:[v.jsx("div",{className:"relative",children:v.jsx("img",{src:d.images[0],alt:d.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"})}),v.jsxs("div",{className:"p-6 flex flex-col flex-1 justify-between",children:[v.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-1 font-serif",children:d.name}),v.jsx("p",{className:"text-gray-500 text-sm mb-3",children:d.location}),v.jsxs("p",{className:"text-lg mb-3",children:[v.jsx("span",{className:"text-gray-600",children:"From "}),v.jsxs("span",{className:"text-blue-600 font-bold",children:["",w]}),v.jsx("span",{className:"text-gray-600",children:" per night"})]}),v.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:d.description}),v.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-500",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),v.jsx("span",{children:"WiFi"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),v.jsx("span",{children:"Parking"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),v.jsx("span",{children:"Restaurant"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),v.jsx("span",{children:"AC"})]}),v.jsx("span",{className:"text-gray-400",children:"+2 more"})]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.rooms.slice(0,3).map((b,x)=>v.jsxs("div",{className:`px-3 py-1 rounded text-sm font-medium ${x===0?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:[b.type," - ",b.price]},x))}),v.jsx("div",{className:"text-gray-500 text-sm mb-4",children:"Check-in: 2:00 PM  Check-out: 11:00 AM"}),v.jsx("div",{className:"mt-auto",children:v.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-pink-500 text-white font-semibold py-3 px-4 rounded-full shadow-lg hover:from-pink-500 hover:to-blue-600 transition-colors",onClick:b=>{b.stopPropagation(),l(`/hotel/${d.id}`)},children:"Book Now"})})]})]},d.id)})})]})}),OI={available:"bg-green-400 border-green-600",booked:"bg-red-400 border-red-600 cursor-not-allowed",selected:"bg-blue-400 border-blue-600"};function DI({rooms:n=[],selectedType:e,selected:t=[],onSelect:r,hotelId:s}){const o=n.filter(d=>d.type===e);let l=[{floor:null,units:o}];if(o.length>0&&o[0].floor){const d={};o.forEach(g=>{d[g.floor]=d[g.floor]||[],d[g.floor].push(g)}),l=Object.entries(d).map(([g,w])=>({floor:g,units:w}))}const c=d=>{if(d.status==="booked")return;const g=`/hotel/${s||"hotel"}/room/${d.id}`;window.open(g,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")};return v.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-md",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Select ",e,"(s)"]}),l.map((d,g)=>v.jsxs("div",{className:"mb-8",children:[d.floor&&v.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Floor ",d.floor]}),v.jsx("div",{className:"grid grid-cols-4 gap-4",children:d.units.map(w=>{const x=t.includes(w.id)?"selected":w.status;return v.jsxs("button",{className:`flex flex-col items-center justify-center border-2 rounded-lg p-4 text-sm font-medium transition-colors duration-150 focus:outline-none ${OI[x]}`,disabled:w.status==="booked",onClick:()=>c(w),type:"button",children:[v.jsx("span",{children:w.label||w.id}),v.jsx("span",{className:"text-xs mt-1 text-gray-600",children:w.type})]},w.id)})})]},d.floor||g)),v.jsxs("div",{className:"flex items-center gap-6 mt-8",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"inline-block w-5 h-5 bg-green-400 border-2 border-green-600 rounded"}),v.jsx("span",{children:"Available"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"inline-block w-5 h-5 bg-red-400 border-2 border-red-600 rounded"}),v.jsx("span",{children:"Occupied"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"inline-block w-5 h-5 bg-blue-400 border-2 border-blue-600 rounded"}),v.jsx("span",{children:"Selected"})]})]}),t.length>0&&v.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded",children:[v.jsx("strong",{children:"Selected:"})," ",t.join(", ")]})]})}const FI={available:"bg-green-400 text-white",occupied:"bg-red-400 text-white",booked:"bg-red-400 text-white",selected:"bg-blue-400 text-white"};function MI({rooms:n=[],selected:e=[],onSelect:t,hotelId:r}){const s=n.reduce((x,y)=>(x[y.floor]=x[y.floor]||[],x[y.floor].push(y),x),{}),[o,l]=Ui.useState(1),c=s[o]||[],d=c.filter(x=>x.status==="available").length,g=c.filter(x=>x.status!=="available").length,w=c.length;console.log("Room statuses:",c.map(x=>({id:x.id,status:x.status})));const b=x=>{if(x.status!=="available")return;const y=`/hotel/${r||"niwas"}/room/${x.id}`;window.open(y,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")};return v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:"flex border-b mb-4",children:Object.keys(s).map(x=>v.jsxs("button",{className:`px-8 py-3 font-semibold text-lg focus:outline-none transition-colors duration-150 ${Number(x)===o?"border-b-4 border-blue-500 text-blue-700":"text-gray-500"}`,onClick:()=>l(Number(x)),children:["Floor ",x]},x))}),v.jsxs("div",{className:"flex items-center gap-8 mb-6 text-lg",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-green-400 rounded mr-2 inline-block"}),"Available (",d,")"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-red-400 rounded mr-2 inline-block"}),"Occupied (",g,")"]}),v.jsxs("span",{children:["Total: ",w," rooms"]})]}),v.jsx("div",{className:"grid grid-cols-5 gap-8 p-8 bg-gray-50 rounded-xl min-h-[300px]",children:c.map(x=>{let L=e.includes(x.id)?"selected":x.status||"available";L!=="available"&&L!=="occupied"&&L!=="selected"&&(L="available");const O=FI[L];return v.jsxs("button",{type:"button",className:`flex flex-col items-center justify-center w-28 h-28 rounded-xl shadow-lg text-2xl font-bold focus:outline-none transition-colors duration-150 ${O} ${x.status==="available"?"cursor-pointer":"cursor-not-allowed opacity-70"}`,disabled:x.status!=="available",onClick:()=>b(x),children:[x.number,v.jsx("span",{className:"text-base font-normal mt-1",children:x.type==="Dorm"?"Dorm":"Room"})]},x.id)})}),v.jsxs("div",{className:"flex gap-8 mt-8 text-base",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-green-400 rounded mr-2 inline-block"}),"Available"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-red-400 rounded mr-2 inline-block"}),"Occupied"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-blue-400 rounded mr-2 inline-block"}),"Selected"]})]})]})}const VI={available:"bg-green-400 text-white",occupied:"bg-red-400 text-white",booked:"bg-red-400 text-white",selected:"bg-blue-400 text-white"};function BI({rooms:n=[],selected:e=[],onSelect:t,hotelId:r}){const s=n.reduce((x,y)=>(x[y.floor]=x[y.floor]||[],x[y.floor].push(y),x),{}),[o,l]=Ui.useState(1),c=s[o]||[],d=c.filter(x=>x.status==="available").length,g=c.filter(x=>x.status==="occupied").length,w=c.length,b=x=>{if(x.status!=="available")return;const y=`/hotel/${r||"sadan"}/room/${x.id}`;window.open(y,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")};return v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:"flex border-b mb-4",children:Object.keys(s).map(x=>v.jsxs("button",{className:`px-8 py-3 font-semibold text-lg focus:outline-none transition-colors duration-150 ${Number(x)===o?"border-b-4 border-blue-500 text-blue-700":"text-gray-500"}`,onClick:()=>l(Number(x)),children:["Floor ",x]},x))}),v.jsxs("div",{className:"flex items-center gap-8 mb-6 text-lg",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-green-400 rounded mr-2 inline-block"}),"Available (",d,")"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-red-400 rounded mr-2 inline-block"}),"Occupied (",g,")"]}),v.jsxs("span",{children:["Total: ",w," rooms"]})]}),v.jsx("div",{className:"grid grid-cols-5 gap-8 p-8 bg-gray-50 rounded-xl min-h-[300px]",children:c.map(x=>{let L=e.includes(x.id)?"selected":x.status||"available";L!=="available"&&L!=="occupied"&&L!=="selected"&&(L="available");const O=VI[L];return v.jsxs("button",{type:"button",className:`flex flex-col items-center justify-center w-28 h-28 rounded-xl shadow-lg text-2xl font-bold focus:outline-none transition-colors duration-150 ${O} ${x.status==="available"?"cursor-pointer":"cursor-not-allowed opacity-70"}`,disabled:x.status!=="available",onClick:()=>b(x),children:[x.number,v.jsx("span",{className:"text-base font-normal mt-1",children:x.type==="Dorm"?"Dorm":"Room"})]},x.id)})}),v.jsxs("div",{className:"flex gap-8 mt-8 text-base",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-green-400 rounded mr-2 inline-block"}),"Available"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-red-400 rounded mr-2 inline-block"}),"Occupied"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-blue-400 rounded mr-2 inline-block"}),"Selected"]})]})]})}const UI={available:"bg-green-400 text-white",occupied:"bg-red-400 text-white",booked:"bg-red-400 text-white",selected:"bg-blue-400 text-white"};function zI({rooms:n=[],selected:e=[],onSelect:t,hotelId:r}){const s=n.reduce((x,y)=>(x[y.floor]=x[y.floor]||[],x[y.floor].push(y),x),{}),[o,l]=Ui.useState(1),c=s[o]||[],d=c.filter(x=>x.status==="available").length,g=c.filter(x=>x.status==="occupied").length,w=c.length,b=x=>{if(x.status!=="available")return;const y=`/hotel/${r||"bhavan"}/room/${x.id}`;window.open(y,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")};return v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:"flex border-b mb-4",children:Object.keys(s).map(x=>v.jsxs("button",{className:`px-8 py-3 font-semibold text-lg focus:outline-none transition-colors duration-150 ${Number(x)===o?"border-b-4 border-blue-500 text-blue-700":"text-gray-500"}`,onClick:()=>l(Number(x)),children:["Floor ",x]},x))}),v.jsxs("div",{className:"flex items-center gap-8 mb-6 text-lg",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-green-400 rounded mr-2 inline-block"}),"Available (",d,")"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-red-400 rounded mr-2 inline-block"}),"Occupied (",g,")"]}),v.jsxs("span",{children:["Total: ",w," rooms"]})]}),v.jsx("div",{className:"grid grid-cols-5 gap-8 p-8 bg-gray-50 rounded-xl min-h-[300px]",children:c.map(x=>{let L=e.includes(x.id)?"selected":x.status||"available";L!=="available"&&L!=="occupied"&&L!=="selected"&&(L="available");const O=UI[L];return v.jsxs("button",{type:"button",className:`flex flex-col items-center justify-center w-28 h-28 rounded-xl shadow-lg text-2xl font-bold focus:outline-none transition-colors duration-150 ${O} ${x.status==="available"?"cursor-pointer":"cursor-not-allowed opacity-70"}`,disabled:x.status!=="available",onClick:()=>b(x),children:[x.number,v.jsx("span",{className:"text-base font-normal mt-1",children:x.type==="Dorm"?"Dorm":"Room"})]},x.id)})}),v.jsxs("div",{className:"flex gap-8 mt-8 text-base",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-green-400 rounded mr-2 inline-block"}),"Available"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-red-400 rounded mr-2 inline-block"}),"Occupied"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("span",{className:"w-5 h-5 bg-blue-400 rounded mr-2 inline-block"}),"Selected"]})]})]})}function kn(n){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(n)}var Bi=Uint8Array,Ks=Uint16Array,H0=Int32Array,Mp=new Bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vp=new Bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tg=new Bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v_=function(n,e){for(var t=new Ks(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new H0(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},y_=v_(Mp,2),w_=y_.b,Pg=y_.r;w_[28]=258,Pg[258]=28;var __=v_(Vp,0),qI=__.b,Qv=__.r,kg=new Ks(32768);for(var Hn=0;Hn<32768;++Hn){var su=(Hn&43690)>>1|(Hn&21845)<<1;su=(su&52428)>>2|(su&13107)<<2,su=(su&61680)>>4|(su&3855)<<4,kg[Hn]=((su&65280)>>8|(su&255)<<8)>>1}var La=function(n,e,t){for(var r=n.length,s=0,o=new Ks(e);s<r;++s)n[s]&&++o[n[s]-1];var l=new Ks(e);for(s=1;s<e;++s)l[s]=l[s-1]+o[s-1]<<1;var c;if(t){c=new Ks(1<<e);var d=15-e;for(s=0;s<r;++s)if(n[s])for(var g=s<<4|n[s],w=e-n[s],b=l[n[s]-1]++<<w,x=b|(1<<w)-1;b<=x;++b)c[kg[b]>>d]=g}else for(c=new Ks(r),s=0;s<r;++s)n[s]&&(c[s]=kg[l[n[s]-1]++]>>15-n[s]);return c},Iu=new Bi(288);for(var Hn=0;Hn<144;++Hn)Iu[Hn]=8;for(var Hn=144;Hn<256;++Hn)Iu[Hn]=9;for(var Hn=256;Hn<280;++Hn)Iu[Hn]=7;for(var Hn=280;Hn<288;++Hn)Iu[Hn]=8;var fd=new Bi(32);for(var Hn=0;Hn<32;++Hn)fd[Hn]=5;var HI=La(Iu,9,0),$I=La(Iu,9,1),WI=La(fd,5,0),GI=La(fd,5,1),Hm=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Jo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},$m=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},$0=function(n){return(n+7)/8|0},x_=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Bi(n.subarray(e,t))},KI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zo=function(n,e,t){var r=new Error(e||KI[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Zo),!t)throw r;return r},QI=function(n,e,t,r){var s=n.length,o=0;if(!s||e.f&&!e.l)return t||new Bi(0);var l=!t,c=l||e.i!=2,d=e.i;l&&(t=new Bi(s*3));var g=function(We){var it=t.length;if(We>it){var et=new Bi(Math.max(it*2,We));et.set(t),t=et}},w=e.f||0,b=e.p||0,x=e.b||0,y=e.l,L=e.d,O=e.m,C=e.n,V=s*8;do{if(!y){w=Jo(n,b,1);var Y=Jo(n,b+1,3);if(b+=3,Y)if(Y==1)y=$I,L=GI,O=9,C=5;else if(Y==2){var Re=Jo(n,b,31)+257,W=Jo(n,b+10,15)+4,R=Re+Jo(n,b+5,31)+1;b+=14;for(var B=new Bi(R),U=new Bi(19),T=0;T<W;++T)U[Tg[T]]=Jo(n,b+T*3,7);b+=W*3;for(var j=Hm(U),D=(1<<j)-1,oe=La(U,j,1),T=0;T<R;){var Te=oe[Jo(n,b,D)];b+=Te&15;var Z=Te>>4;if(Z<16)B[T++]=Z;else{var Ae=0,Pe=0;for(Z==16?(Pe=3+Jo(n,b,3),b+=2,Ae=B[T-1]):Z==17?(Pe=3+Jo(n,b,7),b+=3):Z==18&&(Pe=11+Jo(n,b,127),b+=7);Pe--;)B[T++]=Ae}}var se=B.subarray(0,Re),_e=B.subarray(Re);O=Hm(se),C=Hm(_e),y=La(se,O,1),L=La(_e,C,1)}else Zo(1);else{var Z=$0(b)+4,ce=n[Z-4]|n[Z-3]<<8,be=Z+ce;if(be>s){d&&Zo(0);break}c&&g(x+ce),t.set(n.subarray(Z,be),x),e.b=x+=ce,e.p=b=be*8,e.f=w;continue}if(b>V){d&&Zo(0);break}}c&&g(x+131072);for(var pe=(1<<O)-1,re=(1<<C)-1,k=b;;k=b){var Ae=y[$m(n,b)&pe],K=Ae>>4;if(b+=Ae&15,b>V){d&&Zo(0);break}if(Ae||Zo(2),K<256)t[x++]=K;else if(K==256){k=b,y=null;break}else{var X=K-254;if(K>264){var T=K-257,te=Mp[T];X=Jo(n,b,(1<<te)-1)+w_[T],b+=te}var ae=L[$m(n,b)&re],we=ae>>4;ae||Zo(3),b+=ae&15;var _e=qI[we];if(we>3){var te=Vp[we];_e+=$m(n,b)&(1<<te)-1,b+=te}if(b>V){d&&Zo(0);break}c&&g(x+131072);var xe=x+X;if(x<_e){var Ne=o-_e,qe=Math.min(_e,xe);for(Ne+x<0&&Zo(3);x<qe;++x)t[x]=r[Ne+x]}for(;x<xe;++x)t[x]=t[x-_e]}}e.l=y,e.p=k,e.b=x,e.f=w,y&&(w=1,e.m=O,e.d=L,e.n=C)}while(!w);return x!=t.length&&l?x_(t,0,x):t.subarray(0,x)},hl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Vh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Wm=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:N_,l:0};if(s==1){var l=new Bi(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(be,Re){return be.f-Re.f}),t.push({s:-1,f:25001});var c=t[0],d=t[1],g=0,w=1,b=2;for(t[0]={s:-1,f:c.f+d.f,l:c,r:d};w!=s-1;)c=t[t[g].f<t[b].f?g++:b++],d=t[g!=w&&t[g].f<t[b].f?g++:b++],t[w++]={s:-1,f:c.f+d.f,l:c,r:d};for(var x=o[0].s,r=1;r<s;++r)o[r].s>x&&(x=o[r].s);var y=new Ks(x+1),L=Cg(t[w-1],y,0);if(L>e){var r=0,O=0,C=L-e,V=1<<C;for(o.sort(function(Re,W){return y[W.s]-y[Re.s]||Re.f-W.f});r<s;++r){var Y=o[r].s;if(y[Y]>e)O+=V-(1<<L-y[Y]),y[Y]=e;else break}for(O>>=C;O>0;){var Z=o[r].s;y[Z]<e?O-=1<<e-y[Z]++-1:++r}for(;r>=0&&O;--r){var ce=o[r].s;y[ce]==e&&(--y[ce],++O)}L=e}return{t:new Bi(y),l:L}},Cg=function(n,e,t){return n.s==-1?Math.max(Cg(n.l,e,t+1),Cg(n.r,e,t+1)):e[n.s]=t},Yv=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ks(++e),r=0,s=n[0],o=1,l=function(d){t[r++]=d},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(s),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},Bh=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},b_=function(n,e,t){var r=t.length,s=$0(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Jv=function(n,e,t,r,s,o,l,c,d,g,w){hl(e,w++,t),++s[256];for(var b=Wm(s,15),x=b.t,y=b.l,L=Wm(o,15),O=L.t,C=L.l,V=Yv(x),Y=V.c,Z=V.n,ce=Yv(O),be=ce.c,Re=ce.n,W=new Ks(19),R=0;R<Y.length;++R)++W[Y[R]&31];for(var R=0;R<be.length;++R)++W[be[R]&31];for(var B=Wm(W,7),U=B.t,T=B.l,j=19;j>4&&!U[Tg[j-1]];--j);var D=g+5<<3,oe=Bh(s,Iu)+Bh(o,fd)+l,Te=Bh(s,x)+Bh(o,O)+l+14+3*j+Bh(W,U)+2*W[16]+3*W[17]+7*W[18];if(d>=0&&D<=oe&&D<=Te)return b_(e,w,n.subarray(d,d+g));var Ae,Pe,se,_e;if(hl(e,w,1+(Te<oe)),w+=2,Te<oe){Ae=La(x,y,0),Pe=x,se=La(O,C,0),_e=O;var pe=La(U,T,0);hl(e,w,Z-257),hl(e,w+5,Re-1),hl(e,w+10,j-4),w+=14;for(var R=0;R<j;++R)hl(e,w+3*R,U[Tg[R]]);w+=3*j;for(var re=[Y,be],k=0;k<2;++k)for(var K=re[k],R=0;R<K.length;++R){var X=K[R]&31;hl(e,w,pe[X]),w+=U[X],X>15&&(hl(e,w,K[R]>>5&127),w+=K[R]>>12)}}else Ae=HI,Pe=Iu,se=WI,_e=fd;for(var R=0;R<c;++R){var te=r[R];if(te>255){var X=te>>18&31;Vh(e,w,Ae[X+257]),w+=Pe[X+257],X>7&&(hl(e,w,te>>23&31),w+=Mp[X]);var ae=te&31;Vh(e,w,se[ae]),w+=_e[ae],ae>3&&(Vh(e,w,te>>5&8191),w+=Vp[ae])}else Vh(e,w,Ae[te]),w+=Pe[te]}return Vh(e,w,Ae[256]),w+Pe[256]},YI=new H0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N_=new Bi(0),JI=function(n,e,t,r,s,o){var l=o.z||n.length,c=new Bi(r+l+5*(1+Math.ceil(l/7e3))+s),d=c.subarray(r,c.length-s),g=o.l,w=(o.r||0)&7;if(e){w&&(d[0]=o.r>>3);for(var b=YI[e-1],x=b>>13,y=b&8191,L=(1<<t)-1,O=o.p||new Ks(32768),C=o.h||new Ks(L+1),V=Math.ceil(t/3),Y=2*V,Z=function(xt){return(n[xt]^n[xt+1]<<V^n[xt+2]<<Y)&L},ce=new H0(25e3),be=new Ks(288),Re=new Ks(32),W=0,R=0,B=o.i||0,U=0,T=o.w||0,j=0;B+2<l;++B){var D=Z(B),oe=B&32767,Te=C[D];if(O[oe]=Te,C[D]=oe,T<=B){var Ae=l-B;if((W>7e3||U>24576)&&(Ae>423||!g)){w=Jv(n,d,0,ce,be,Re,R,U,j,B-j,w),U=W=R=0,j=B;for(var Pe=0;Pe<286;++Pe)be[Pe]=0;for(var Pe=0;Pe<30;++Pe)Re[Pe]=0}var se=2,_e=0,pe=y,re=oe-Te&32767;if(Ae>2&&D==Z(B-re))for(var k=Math.min(x,Ae)-1,K=Math.min(32767,B),X=Math.min(258,Ae);re<=K&&--pe&&oe!=Te;){if(n[B+se]==n[B+se-re]){for(var te=0;te<X&&n[B+te]==n[B+te-re];++te);if(te>se){if(se=te,_e=re,te>k)break;for(var ae=Math.min(re,te-2),we=0,Pe=0;Pe<ae;++Pe){var xe=B-re+Pe&32767,Ne=O[xe],qe=xe-Ne&32767;qe>we&&(we=qe,Te=xe)}}}oe=Te,Te=O[oe],re+=oe-Te&32767}if(_e){ce[U++]=268435456|Pg[se]<<18|Qv[_e];var We=Pg[se]&31,it=Qv[_e]&31;R+=Mp[We]+Vp[it],++be[257+We],++Re[it],T=B+se,++W}else ce[U++]=n[B],++be[n[B]]}}for(B=Math.max(B,T);B<l;++B)ce[U++]=n[B],++be[n[B]];w=Jv(n,d,g,ce,be,Re,R,U,j,B-j,w),g||(o.r=w&7|d[w/8|0]<<3,w-=7,o.h=C,o.p=O,o.i=B,o.w=T)}else{for(var B=o.w||0;B<l+g;B+=65535){var et=B+65535;et>=l&&(d[w/8|0]=g,et=l),w=b_(d,w+1,n.subarray(B,et))}o.i=l}return x_(c,0,r+$0(w)+s)},S_=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)s+=r+=t[l];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},XI=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Bi(o.length+n.length);l.set(o),l.set(n,o.length),n=l,s.w=o.length}return JI(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},E_=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},ZI=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=S_();s.p(e.dictionary),E_(n,2,s.d())}},e8=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Zo(6,"invalid zlib data"),(n[1]>>5&1)==1&&Zo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Rg(n,e){e||(e={});var t=S_();t.p(n);var r=XI(n,e,e.dictionary?6:2,4);return ZI(r,e),E_(r,r.length-4,t.d()),r}function t8(n,e){return QI(n.subarray(e8(n),-4),{i:2},e,e)}var n8=typeof TextDecoder<"u"&&new TextDecoder,r8=0;try{n8.decode(N_,{stream:!0}),r8=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Gm(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Dn={log:Gm,warn:function(n){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):Gm.call(null,arguments))},error:function(n){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):Gm(n))}};function Km(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ec(r.response,e,t)},r.onerror=function(){Dn.error("could not download file")},r.send()}function Xv(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function wf(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ed,Lg,ec=jt.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=jt.URL||jt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Xv(s.href)?Km(n,e,t):wf(s,s.target="_blank"):wf(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){wf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Xv(n))Km(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){wf(r)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:kn(o)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Km(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(jt.HTMLElement)||jt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var w=c.result;w=l?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=w:location=w,r=null},c.readAsDataURL(n)}else{var d=jt.URL||jt.webkitURL,g=d.createObjectURL(n);r?r.location=g:location.href=g,r=null,setTimeout(function(){d.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function A_(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,l=s.exec(n);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),g=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),g.length==1&&(g="0"+g),"#"+c+d+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Qm(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=ji(t,r,s,o,e[0],7,-680876936),o=ji(o,t,r,s,e[1],12,-389564586),s=ji(s,o,t,r,e[2],17,606105819),r=ji(r,s,o,t,e[3],22,-1044525330),t=ji(t,r,s,o,e[4],7,-176418897),o=ji(o,t,r,s,e[5],12,1200080426),s=ji(s,o,t,r,e[6],17,-1473231341),r=ji(r,s,o,t,e[7],22,-45705983),t=ji(t,r,s,o,e[8],7,1770035416),o=ji(o,t,r,s,e[9],12,-1958414417),s=ji(s,o,t,r,e[10],17,-42063),r=ji(r,s,o,t,e[11],22,-1990404162),t=ji(t,r,s,o,e[12],7,1804603682),o=ji(o,t,r,s,e[13],12,-40341101),s=ji(s,o,t,r,e[14],17,-1502002290),t=Oi(t,r=ji(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Oi(o,t,r,s,e[6],9,-1069501632),s=Oi(s,o,t,r,e[11],14,643717713),r=Oi(r,s,o,t,e[0],20,-373897302),t=Oi(t,r,s,o,e[5],5,-701558691),o=Oi(o,t,r,s,e[10],9,38016083),s=Oi(s,o,t,r,e[15],14,-660478335),r=Oi(r,s,o,t,e[4],20,-405537848),t=Oi(t,r,s,o,e[9],5,568446438),o=Oi(o,t,r,s,e[14],9,-1019803690),s=Oi(s,o,t,r,e[3],14,-187363961),r=Oi(r,s,o,t,e[8],20,1163531501),t=Oi(t,r,s,o,e[13],5,-1444681467),o=Oi(o,t,r,s,e[2],9,-51403784),s=Oi(s,o,t,r,e[7],14,1735328473),t=Di(t,r=Oi(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Di(o,t,r,s,e[8],11,-2022574463),s=Di(s,o,t,r,e[11],16,1839030562),r=Di(r,s,o,t,e[14],23,-35309556),t=Di(t,r,s,o,e[1],4,-1530992060),o=Di(o,t,r,s,e[4],11,1272893353),s=Di(s,o,t,r,e[7],16,-155497632),r=Di(r,s,o,t,e[10],23,-1094730640),t=Di(t,r,s,o,e[13],4,681279174),o=Di(o,t,r,s,e[0],11,-358537222),s=Di(s,o,t,r,e[3],16,-722521979),r=Di(r,s,o,t,e[6],23,76029189),t=Di(t,r,s,o,e[9],4,-640364487),o=Di(o,t,r,s,e[12],11,-421815835),s=Di(s,o,t,r,e[15],16,530742520),t=Fi(t,r=Di(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Fi(o,t,r,s,e[7],10,1126891415),s=Fi(s,o,t,r,e[14],15,-1416354905),r=Fi(r,s,o,t,e[5],21,-57434055),t=Fi(t,r,s,o,e[12],6,1700485571),o=Fi(o,t,r,s,e[3],10,-1894986606),s=Fi(s,o,t,r,e[10],15,-1051523),r=Fi(r,s,o,t,e[1],21,-2054922799),t=Fi(t,r,s,o,e[8],6,1873313359),o=Fi(o,t,r,s,e[15],10,-30611744),s=Fi(s,o,t,r,e[6],15,-1560198380),r=Fi(r,s,o,t,e[13],21,1309151649),t=Fi(t,r,s,o,e[4],6,-145523070),o=Fi(o,t,r,s,e[11],10,-1120210379),s=Fi(s,o,t,r,e[2],15,718787259),r=Fi(r,s,o,t,e[9],21,-343485551),n[0]=du(t,n[0]),n[1]=du(r,n[1]),n[2]=du(s,n[2]),n[3]=du(o,n[3])}function Bp(n,e,t,r,s,o){return e=du(du(e,n),du(r,o)),du(e<<s|e>>>32-s,t)}function ji(n,e,t,r,s,o,l){return Bp(e&t|~e&r,n,e,s,o,l)}function Oi(n,e,t,r,s,o,l){return Bp(e&r|t&~r,n,e,s,o,l)}function Di(n,e,t,r,s,o,l){return Bp(e^t^r,n,e,s,o,l)}function Fi(n,e,t,r,s,o,l){return Bp(t^(e|~r),n,e,s,o,l)}function I_(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Qm(r,i8(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Qm(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Qm(r,s),r}function i8(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}ed=jt.atob.bind(jt),Lg=jt.btoa.bind(jt);var Zv="0123456789abcdef".split("");function s8(n){for(var e="",t=0;t<4;t++)e+=Zv[n>>8*t+4&15]+Zv[n>>8*t&15];return e}function o8(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function jg(n){return I_(n).map(o8).join("")}var a8=function(n){for(var e=0;e<n.length;e++)n[e]=s8(n[e]);return n.join("")}(I_("hello"))!="5d41402abc4b2a76b9719d911017c592";function du(n,e){if(a8){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Og(n,e){var t,r,s,o;if(n!==t){for(var l=(s=n,o=1+(256/n.length>>0),new Array(o+1).join(s)),c=[],d=0;d<256;d++)c[d]=d;var g=0;for(d=0;d<256;d++){var w=c[d];g=(g+w+l.charCodeAt(d))%256,c[d]=c[g],c[g]=w}t=n,r=c}else c=r;var b=e.length,x=0,y=0,L="";for(d=0;d<b;d++)y=(y+(w=c[x=(x+1)%256]))%256,c[x]=c[y],c[y]=w,l=c[(c[x]+c[y])%256],L+=String.fromCharCode(e.charCodeAt(d)^l);return L}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e5={print:4,modify:8,copy:16,"annot-forms":32};function Kc(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(e5.perm!==void 0)throw new Error("Invalid permission: "+c);s+=e5[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^s)),this.encryptionKey=jg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Og(this.encryptionKey,this.padding)}function Qc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=n[r]}return e}function t5(n){if(kn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(n,r)}catch(c){jt.console&&Dn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ap(n){if(!(this instanceof ap))return new ap(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function T_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function tc(n,e,t,r,s){if(!(this instanceof tc))return new tc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,T_.call(this,r,s)}function Jc(n,e,t,r,s){if(!(this instanceof Jc))return new Jc(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,T_.call(this,r,s)}function Rt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],l=[],c=1,d=16,g="S",w=null;kn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(w=n.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),g=n.defaultPathOperation||"S"),l=n.filters||(o===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,x={},y={internal:{},__private__:{}};y.__private__.PubSub=t5;var L="1.3",O=y.__private__.getPdfVersion=function(){return L};y.__private__.setPdfVersion=function(_){L=_};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return C};var V=y.__private__.getPageFormat=function(_){return C[_]};s=s||"a4";var Y={COMPAT:"compat",ADVANCED:"advanced"},Z=Y.COMPAT;function ce(){this.saveGraphicsState(),ie(new ct(ot,0,0,-ot,0,Hr()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),g="n",Z=Y.ADVANCED}function be(){this.restoreGraphicsState(),g="S",Z=Y.COMPAT}var Re=y.__private__.combineFontStyleAndFontWeight=function(_,M){if(_=="bold"&&M=="normal"||_=="bold"&&M==400||_=="normal"&&M=="italic"||_=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(_=M==400||M==="normal"?_==="italic"?"italic":"normal":M!=700&&M!=="bold"||_!=="normal"?(M==700?"bold":M)+""+_:"bold"),_};y.advancedAPI=function(_){var M=Z===Y.COMPAT;return M&&ce.call(this),typeof _!="function"||(_(this),M&&be.call(this)),this},y.compatAPI=function(_){var M=Z===Y.ADVANCED;return M&&be.call(this),typeof _!="function"||(_(this),M&&ce.call(this)),this},y.isAdvancedAPI=function(){return Z===Y.ADVANCED};var W,R=function(_){if(Z!==Y.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=y.roundToPrecision=y.__private__.roundToPrecision=function(_,M){var ee=e||M;if(isNaN(_)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ee).replace(/0+$/,"")};W=y.hpf=y.__private__.hpf=typeof d=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,d)}:d==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,16)};var U=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return B(_,2)},T=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return B(_,3)},j=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return Z===Y.COMPAT?_*ot:Z===Y.ADVANCED?_:void 0},D=function(_){return Z===Y.COMPAT?Hr()-_:Z===Y.ADVANCED?_:void 0},oe=function(_){return j(D(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var Te,Ae="00000000000000000000000000000000",Pe=y.__private__.getFileId=function(){return Ae},se=y.__private__.setFileId=function(_){return Ae=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(rn=new Kc(w.userPermissions,w.userPassword,w.ownerPassword,Ae)),Ae};y.setFileId=function(_){return se(_),this},y.getFileId=function(){return Pe()};var _e=y.__private__.convertDateToPDFDate=function(_){var M=_.getTimezoneOffset(),ee=M<0?"+":"-",le=Math.floor(Math.abs(M/60)),ye=Math.abs(M%60),De=[ee,X(le),"'",X(ye),"'"].join("");return["D:",_.getFullYear(),X(_.getMonth()+1),X(_.getDate()),X(_.getHours()),X(_.getMinutes()),X(_.getSeconds()),De].join("")},pe=y.__private__.convertPDFDateToDate=function(_){var M=parseInt(_.substr(2,4),10),ee=parseInt(_.substr(6,2),10)-1,le=parseInt(_.substr(8,2),10),ye=parseInt(_.substr(10,2),10),De=parseInt(_.substr(12,2),10),$e=parseInt(_.substr(14,2),10);return new Date(M,ee,le,ye,De,$e,0)},re=y.__private__.setCreationDate=function(_){var M;if(_===void 0&&(_=new Date),_ instanceof Date)M=_e(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=_}return Te=M},k=y.__private__.getCreationDate=function(_){var M=Te;return _==="jsDate"&&(M=pe(Te)),M};y.setCreationDate=function(_){return re(_),this},y.getCreationDate=function(_){return k(_)};var K,X=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},te=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ae=0,we=[],xe=[],Ne=0,qe=[],We=[],it=!1,et=xe,xt=function(){ae=0,Ne=0,xe=[],we=[],qe=[],Ts=Ln(),Br=Ln()};y.__private__.setCustomOutputDestination=function(_){it=!0,et=_};var Fe=function(_){it||(et=_)};y.__private__.resetCustomOutputDestination=function(){it=!1,et=xe};var ie=y.__private__.out=function(_){return _=_.toString(),Ne+=_.length+1,et.push(_),et},Lt=y.__private__.write=function(_){return ie(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},pt=y.__private__.getArrayBuffer=function(_){for(var M=_.length,ee=new ArrayBuffer(M),le=new Uint8Array(ee);M--;)le[M]=_.charCodeAt(M);return ee},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ye};var Xe=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Xe=Z===Y.ADVANCED?_/ot:_,this};var tt,st=y.__private__.getFontSize=y.getFontSize=function(){return Z===Y.COMPAT?Xe:Xe*ot},vt=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return vt=_,this},y.__private__.getR2L=y.getR2L=function(){return vt};var Ct,Mt=y.__private__.setZoomMode=function(_){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))tt=_;else if(isNaN(_)){if(M.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');tt=_}else tt=parseInt(_,10)};y.__private__.getZoomMode=function(){return tt};var _t,At=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ct=_};y.__private__.getPageMode=function(){return Ct};var Kt=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');_t=_};y.__private__.getLayoutMode=function(){return _t},y.__private__.setDisplayMode=y.setDisplayMode=function(_,M,ee){return Mt(_),Kt(M),At(ee),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(It).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[_]},y.__private__.getDocumentProperties=function(){return It},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var M in It)It.hasOwnProperty(M)&&_[M]&&(It[M]=_[M]);return this},y.__private__.setDocumentProperty=function(_,M){if(Object.keys(It).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[_]=M};var Bt,ot,$n,Qt,ti,un={},bn={},wi=[],Yt={},ss={},An={},Wn={},xr=null,In=0,St=[],Zt=new t5(y),qi=n.hotfixes||[],Xn={},br={},_i=[],ct=function _(M,ee,le,ye,De,$e){if(!(this instanceof _))return new _(M,ee,le,ye,De,$e);isNaN(M)&&(M=1),isNaN(ee)&&(ee=0),isNaN(le)&&(le=0),isNaN(ye)&&(ye=1),isNaN(De)&&(De=0),isNaN($e)&&($e=0),this._matrix=[M,ee,le,ye,De,$e]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(_)},ct.prototype.multiply=function(_){var M=_.sx*this.sx+_.shy*this.shx,ee=_.sx*this.shy+_.shy*this.sy,le=_.shx*this.sx+_.sy*this.shx,ye=_.shx*this.shy+_.sy*this.sy,De=_.tx*this.sx+_.ty*this.shx+this.tx,$e=_.tx*this.shy+_.ty*this.sy+this.ty;return new ct(M,ee,le,ye,De,$e)},ct.prototype.decompose=function(){var _=this.sx,M=this.shy,ee=this.shx,le=this.sy,ye=this.tx,De=this.ty,$e=Math.sqrt(_*_+M*M),nt=(_/=$e)*ee+(M/=$e)*le;ee-=_*nt,le-=M*nt;var f=Math.sqrt(ee*ee+le*le);return nt/=f,_*(le/=f)<M*(ee/=f)&&(_=-_,M=-M,nt=-nt,$e=-$e),{scale:new ct($e,0,0,f,0,0),translate:new ct(1,0,0,1,ye,De),rotate:new ct(_,M,-M,_,0,0),skew:new ct(1,0,nt,1,0,0)}},ct.prototype.toString=function(_){return this.join(" ")},ct.prototype.inversed=function(){var _=this.sx,M=this.shy,ee=this.shx,le=this.sy,ye=this.tx,De=this.ty,$e=1/(_*le-M*ee),nt=le*$e,f=-M*$e,E=-ee*$e,P=_*$e;return new ct(nt,f,E,P,-nt*ye-E*De,-f*ye-P*De)},ct.prototype.applyToPoint=function(_){var M=_.x*this.sx+_.y*this.shx+this.tx,ee=_.x*this.shy+_.y*this.sy+this.ty;return new Qi(M,ee)},ct.prototype.applyToRectangle=function(_){var M=this.applyToPoint(_),ee=this.applyToPoint(new Qi(_.x+_.w,_.y+_.h));return new Fs(M.x,M.y,ee.x-M.x,ee.y-M.y)},ct.prototype.clone=function(){var _=this.sx,M=this.shy,ee=this.shx,le=this.sy,ye=this.tx,De=this.ty;return new ct(_,M,ee,le,ye,De)},y.Matrix=ct;var Vr=y.matrixMult=function(_,M){return M.multiply(_)},rr=new ct(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=rr;var ir=function(_,M){if(!ss[_]){var ee=(M instanceof tc?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);M.id=ee,ss[_]=ee,Yt[ee]=M,Zt.publish("addPattern",M)}};y.ShadingPattern=tc,y.TilingPattern=Jc,y.addShadingPattern=function(_,M){return R("addShadingPattern()"),ir(_,M),this},y.beginTilingPattern=function(_){R("beginTilingPattern()"),ha(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,M){R("endTilingPattern()"),M.stream=We[K].join(`
`),ir(_,M),Zt.publish("endTilingPattern",M),_i.pop().restore()};var Rn=y.__private__.newObject=function(){var _=Ln();return Mn(_,!0),_},Ln=y.__private__.newObjectDeferred=function(){return ae++,we[ae]=function(){return Ne},ae},Mn=function(_,M){return M=typeof M=="boolean"&&M,we[_]=Ne,M&&ie(_+" 0 obj"),_},Ys=y.__private__.newAdditionalObject=function(){var _={objId:Ln(),content:""};return qe.push(_),_},Ts=Ln(),Br=Ln(),xi=y.__private__.decodeColorString=function(_){var M=_.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ee=parseFloat(M[0]);M=[ee,ee,ee,"r"]}for(var le="#",ye=0;ye<3;ye++)le+=("0"+Math.floor(255*parseFloat(M[ye])).toString(16)).slice(-2);return le},Zn=y.__private__.encodeColorString=function(_){var M;typeof _=="string"&&(_={ch1:_});var ee=_.ch1,le=_.ch2,ye=_.ch3,De=_.ch4,$e=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var nt=new A_(ee);if(nt.ok)ee=nt.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var f=parseInt(ee.substr(1),16);ee=f>>16&255,le=f>>8&255,ye=255&f}if(le===void 0||De===void 0&&ee===le&&le===ye)if(typeof ee=="string")M=ee+" "+$e[0];else switch(_.precision){case 2:M=U(ee/255)+" "+$e[0];break;case 3:default:M=T(ee/255)+" "+$e[0]}else if(De===void 0||kn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return M=["1.","1.","1.",$e[1]].join(" ");if(typeof ee=="string")M=[ee,le,ye,$e[1]].join(" ");else switch(_.precision){case 2:M=[U(ee/255),U(le/255),U(ye/255),$e[1]].join(" ");break;default:case 3:M=[T(ee/255),T(le/255),T(ye/255),$e[1]].join(" ")}}else if(typeof ee=="string")M=[ee,le,ye,De,$e[2]].join(" ");else switch(_.precision){case 2:M=[U(ee),U(le),U(ye),U(De),$e[2]].join(" ");break;case 3:default:M=[T(ee),T(le),T(ye),T(De),$e[2]].join(" ")}return M},Ur=y.__private__.getFilters=function(){return l},Gn=y.__private__.putStream=function(_){var M=(_=_||{}).data||"",ee=_.filters||Ur(),le=_.alreadyAppliedFilters||[],ye=_.addLength1||!1,De=M.length,$e=_.objectId,nt=function(Ut){return Ut};if(w!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(nt=rn.encryptor($e,0));var f={};ee===!0&&(ee=["FlateEncode"]);var E=_.additionalKeyValues||[],P=(f=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(M,ee):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(f.data.length!==0&&(E.push({key:"Length",value:f.data.length}),ye===!0&&E.push({key:"Length1",value:De})),P.length!=0)if(P.split("/").length-1==1)E.push({key:"Filter",value:P});else{E.push({key:"Filter",value:"["+P+"]"});for(var G=0;G<E.length;G+=1)if(E[G].key==="DecodeParms"){for(var ge=[],ke=0;ke<f.reverseChain.split("/").length-1;ke+=1)ge.push("null");ge.push(E[G].value),E[G].value="["+ge.join(" ")+"]"}}ie("<<");for(var Ge=0;Ge<E.length;Ge++)ie("/"+E[Ge].key+" "+E[Ge].value);ie(">>"),f.data.length!==0&&(ie("stream"),ie(nt(f.data)),ie("endstream"))},Hi=y.__private__.putPage=function(_){var M=_.number,ee=_.data,le=_.objId,ye=_.contentsObjId;Mn(le,!0),ie("<</Type /Page"),ie("/Parent "+_.rootDictionaryObjId+" 0 R"),ie("/Resources "+_.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(W(_.mediaBox.bottomLeftX))+" "+parseFloat(W(_.mediaBox.bottomLeftY))+" "+W(_.mediaBox.topRightX)+" "+W(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ie("/CropBox ["+W(_.cropBox.bottomLeftX)+" "+W(_.cropBox.bottomLeftY)+" "+W(_.cropBox.topRightX)+" "+W(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ie("/BleedBox ["+W(_.bleedBox.bottomLeftX)+" "+W(_.bleedBox.bottomLeftY)+" "+W(_.bleedBox.topRightX)+" "+W(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ie("/TrimBox ["+W(_.trimBox.bottomLeftX)+" "+W(_.trimBox.bottomLeftY)+" "+W(_.trimBox.topRightX)+" "+W(_.trimBox.topRightY)+"]"),_.artBox!==null&&ie("/ArtBox ["+W(_.artBox.bottomLeftX)+" "+W(_.artBox.bottomLeftY)+" "+W(_.artBox.topRightX)+" "+W(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ie("/UserUnit "+_.userUnit),Zt.publish("putPage",{objId:le,pageContext:St[M],pageNumber:M,page:ee}),ie("/Contents "+ye+" 0 R"),ie(">>"),ie("endobj");var De=ee.join(`
`);return Z===Y.ADVANCED&&(De+=`
Q`),Mn(ye,!0),Gn({data:De,filters:Ur(),objectId:ye}),ie("endobj"),le},Ps=y.__private__.putPages=function(){var _,M,ee=[];for(_=1;_<=In;_++)St[_].objId=Ln(),St[_].contentsObjId=Ln();for(_=1;_<=In;_++)ee.push(Hi({number:_,data:We[_],objId:St[_].objId,contentsObjId:St[_].contentsObjId,mediaBox:St[_].mediaBox,cropBox:St[_].cropBox,bleedBox:St[_].bleedBox,trimBox:St[_].trimBox,artBox:St[_].artBox,userUnit:St[_].userUnit,rootDictionaryObjId:Ts,resourceDictionaryObjId:Br}));Mn(Ts,!0),ie("<</Type /Pages");var le="/Kids [";for(M=0;M<In;M++)le+=ee[M]+" 0 R ";ie(le+"]"),ie("/Count "+In),ie(">>"),ie("endobj"),Zt.publish("postPutPages")},ks=function(_){Zt.publish("putFont",{font:_,out:ie,newObject:Rn,putStream:Gn}),_.isAlreadyPutted!==!0&&(_.objectNumber=Rn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Qc(_.postScriptName)),ie("/Subtype /Type1"),typeof _.encoding=="string"&&ie("/Encoding /"+_.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Cs=function(){for(var _ in un)un.hasOwnProperty(_)&&(b===!1||b===!0&&x.hasOwnProperty(_))&&ks(un[_])},Js=function(_){_.objectNumber=Rn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[W(_.x),W(_.y),W(_.x+_.width),W(_.y+_.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ee=_.pages[1].join(`
`);Gn({data:ee,additionalKeyValues:M,objectId:_.objectNumber}),ie("endobj")},So=function(){for(var _ in Xn)Xn.hasOwnProperty(_)&&Js(Xn[_])},bl=function(_,M){var ee,le=[],ye=1/(M-1);for(ee=0;ee<1;ee+=ye)le.push(ee);if(le.push(1),_[0].offset!=0){var De={offset:0,color:_[0].color};_.unshift(De)}if(_[_.length-1].offset!=1){var $e={offset:1,color:_[_.length-1].color};_.push($e)}for(var nt="",f=0,E=0;E<le.length;E++){for(ee=le[E];ee>_[f+1].offset;)f++;var P=_[f].offset,G=(ee-P)/(_[f+1].offset-P),ge=_[f].color,ke=_[f+1].color;nt+=te(Math.round((1-G)*ge[0]+G*ke[0]).toString(16))+te(Math.round((1-G)*ge[1]+G*ke[1]).toString(16))+te(Math.round((1-G)*ge[2]+G*ke[2]).toString(16))}return nt.trim()},Nn=function(_,M){M||(M=21);var ee=Rn(),le=bl(_.colors,M),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+M+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gn({data:le,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),ie("endobj"),_.objectNumber=Rn(),ie("<< /ShadingType "+_.type),ie("/ColorSpace /DeviceRGB");var De="/Coords ["+W(parseFloat(_.coords[0]))+" "+W(parseFloat(_.coords[1]))+" ";_.type===2?De+=W(parseFloat(_.coords[2]))+" "+W(parseFloat(_.coords[3])):De+=W(parseFloat(_.coords[2]))+" "+W(parseFloat(_.coords[3]))+" "+W(parseFloat(_.coords[4]))+" "+W(parseFloat(_.coords[5])),ie(De+="]"),_.matrix&&ie("/Matrix ["+_.matrix.toString()+"]"),ie("/Function "+ee+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Nl=function(_,M){var ee=Ln(),le=Rn();M.push({resourcesOid:ee,objectOid:le}),_.objectNumber=le;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+_.boundingBox.map(W).join(" ")+"]"}),ye.push({key:"XStep",value:W(_.xStep)}),ye.push({key:"YStep",value:W(_.yStep)}),ye.push({key:"Resources",value:ee+" 0 R"}),_.matrix&&ye.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Gn({data:_.stream,additionalKeyValues:ye,objectId:_.objectNumber}),ie("endobj")},os=function(_){var M;for(M in Yt)Yt.hasOwnProperty(M)&&(Yt[M]instanceof tc?Nn(Yt[M]):Yt[M]instanceof Jc&&Nl(Yt[M],_))},Rs=function(_){for(var M in _.objectNumber=Rn(),ie("<<"),_)switch(M){case"opacity":ie("/ca "+U(_[M]));break;case"stroke-opacity":ie("/CA "+U(_[M]))}ie(">>"),ie("endobj")},bi=function(){var _;for(_ in An)An.hasOwnProperty(_)&&Rs(An[_])},Eo=function(){for(var _ in ie("/XObject <<"),Xn)Xn.hasOwnProperty(_)&&Xn[_].objectNumber>=0&&ie("/"+_+" "+Xn[_].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ie(">>")},Sl=function(){rn.oid=Rn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+rn.v),ie("/R "+rn.r),ie("/U <"+rn.toHexString(rn.U)+">"),ie("/O <"+rn.toHexString(rn.O)+">"),ie("/P "+rn.P),ie(">>"),ie("endobj")},Xs=function(){for(var _ in ie("/Font <<"),un)un.hasOwnProperty(_)&&(b===!1||b===!0&&x.hasOwnProperty(_))&&ie("/"+_+" "+un[_].objectNumber+" 0 R");ie(">>")},ni=function(){if(Object.keys(Yt).length>0){for(var _ in ie("/Shading <<"),Yt)Yt.hasOwnProperty(_)&&Yt[_]instanceof tc&&Yt[_].objectNumber>=0&&ie("/"+_+" "+Yt[_].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ie(">>")}},Ao=function(_){if(Object.keys(Yt).length>0){for(var M in ie("/Pattern <<"),Yt)Yt.hasOwnProperty(M)&&Yt[M]instanceof y.TilingPattern&&Yt[M].objectNumber>=0&&Yt[M].objectNumber<_&&ie("/"+M+" "+Yt[M].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ie(">>")}},Tr=function(){if(Object.keys(An).length>0){var _;for(_ in ie("/ExtGState <<"),An)An.hasOwnProperty(_)&&An[_].objectNumber>=0&&ie("/"+_+" "+An[_].objectNumber+" 0 R");Zt.publish("putGStateDict"),ie(">>")}},jn=function(_){Mn(_.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Xs(),ni(),Ao(_.objectOid),Tr(),Eo(),ie(">>"),ie("endobj")},Ua=function(){var _=[];Cs(),bi(),So(),os(_),Zt.publish("putResources"),_.forEach(jn),jn({resourcesOid:Br,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},za=function(){Zt.publish("putAdditionalObjects");for(var _=0;_<qe.length;_++){var M=qe[_];Mn(M.objId,!0),ie(M.content),ie("endobj")}Zt.publish("postPutAdditionalObjects")},Io=function(_){bn[_.fontName]=bn[_.fontName]||{},bn[_.fontName][_.fontStyle]=_.id},Zs=function(_,M,ee,le,ye){var De={id:"F"+(Object.keys(un).length+1).toString(10),postScriptName:_,fontName:M,fontStyle:ee,encoding:le,isStandardFont:ye||!1,metadata:{}};return Zt.publish("addFont",{font:De,instance:this}),un[De.id]=De,Io(De),De.id},eo=function(_){for(var M=0,ee=Ye.length;M<ee;M++){var le=Zs.call(this,_[M][0],_[M][1],_[M][2],Ye[M][3],!0);b===!1&&(x[le]=!0);var ye=_[M][0].split("-");Io({id:le,fontName:ye[0],fontStyle:ye[1]||""})}Zt.publish("addFonts",{fonts:un,dictionary:bn})},Pr=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(le){var M=le.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ee="Error in function "+M.split(`
`)[0].split("<")[0]+": "+le.message;if(!jt.console)throw new Error(ee);jt.console.error(ee,le),jt.alert&&alert(ee)}},_.foo.bar=_,_.foo},oa=function(_,M){var ee,le,ye,De,$e,nt,f,E,P;if(ye=(M=M||{}).sourceEncoding||"Unicode",$e=M.outputEncoding,(M.autoencode||$e)&&un[Bt].metadata&&un[Bt].metadata[ye]&&un[Bt].metadata[ye].encoding&&(De=un[Bt].metadata[ye].encoding,!$e&&un[Bt].encoding&&($e=un[Bt].encoding),!$e&&De.codePages&&($e=De.codePages[0]),typeof $e=="string"&&($e=De[$e]),$e)){for(f=!1,nt=[],ee=0,le=_.length;ee<le;ee++)(E=$e[_.charCodeAt(ee)])?nt.push(String.fromCharCode(E)):nt.push(_[ee]),nt[ee].charCodeAt(0)>>8&&(f=!0);_=nt.join("")}for(ee=_.length;f===void 0&&ee!==0;)_.charCodeAt(ee-1)>>8&&(f=!0),ee--;if(!f)return _;for(nt=M.noBOM?[]:[254,255],ee=0,le=_.length;ee<le;ee++){if((P=(E=_.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nt.push(P),nt.push(E-(P<<8))}return String.fromCharCode.apply(void 0,nt)},Kn=y.__private__.pdfEscape=y.pdfEscape=function(_,M){return oa(_,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kr=y.__private__.beginPage=function(_){We[++In]=[],St[In]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ls(In),Fe(We[K])},to=function(_,M){var ee,le,ye;switch(t=M||t,typeof _=="string"&&(ee=V(_.toLowerCase()),Array.isArray(ee)&&(le=ee[0],ye=ee[1])),Array.isArray(_)&&(le=_[0]*ot,ye=_[1]*ot),isNaN(le)&&(le=s[0],ye=s[1]),(le>14400||ye>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ye=Math.min(14400,ye)),s=[le,ye],t.substr(0,1)){case"l":ye>le&&(s=[ye,le]);break;case"p":le>ye&&(s=[ye,le])}kr(s),oo(Ha),ie(sr),Wa!==0&&ie(Wa+" J"),ao!==0&&ie(ao+" j"),Zt.publish("addPage",{pageNumber:In})},no=function(_){_>0&&_<=In&&(We.splice(_,1),St.splice(_,1),In--,K>In&&(K=In),this.setPage(K))},Ls=function(_){_>0&&_<=In&&(K=_)},vn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return We.length-1},js=function(_,M,ee){var le,ye=void 0;return ee=ee||{},_=_!==void 0?_:un[Bt].fontName,M=M!==void 0?M:un[Bt].fontStyle,le=_.toLowerCase(),bn[le]!==void 0&&bn[le][M]!==void 0?ye=bn[le][M]:bn[_]!==void 0&&bn[_][M]!==void 0?ye=bn[_][M]:ee.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+_+"', '"+M+"'. Refer to getFontList() for available fonts."),ye||ee.noFallback||(ye=bn.times[M])==null&&(ye=bn.times.normal),ye},Wt=y.__private__.putInfo=function(){var _=Rn(),M=function(le){return le};for(var ee in w!==null&&(M=rn.encryptor(_,0)),ie("<<"),ie("/Producer ("+Kn(M("jsPDF "+Rt.version))+")"),It)It.hasOwnProperty(ee)&&It[ee]&&ie("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+Kn(M(It[ee]))+")");ie("/CreationDate ("+Kn(M(Te))+")"),ie(">>"),ie("endobj")},as=y.__private__.putCatalog=function(_){var M=(_=_||{}).rootDictionaryObjId||Ts;switch(Rn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+M+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+tt;ee.substr(ee.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+U(tt)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Ct&&ie("/PageMode /"+Ct),Zt.publish("putCatalog"),ie(">>"),ie("endobj")},El=y.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(ae+1)),ie("/Root "+ae+" 0 R"),ie("/Info "+(ae-1)+" 0 R"),w!==null&&ie("/Encrypt "+rn.oid+" 0 R"),ie("/ID [ <"+Ae+"> <"+Ae+"> ]"),ie(">>")},aa=y.__private__.putHeader=function(){ie("%PDF-"+L),ie("%")},Al=y.__private__.putXRef=function(){var _="0000000000";ie("xref"),ie("0 "+(ae+1)),ie("0000000000 65535 f ");for(var M=1;M<=ae;M++)typeof we[M]=="function"?ie((_+we[M]()).slice(-10)+" 00000 n "):we[M]!==void 0?ie((_+we[M]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},ls=y.__private__.buildDocument=function(){xt(),Fe(xe),Zt.publish("buildDocument"),aa(),Ps(),za(),Ua(),w!==null&&Sl(),Wt(),as();var _=Ne;return Al(),El(),ie("startxref"),ie(""+_),ie("%%EOF"),Fe(We[K]),xe.join(`
`)},To=y.__private__.getBlob=function(_){return new Blob([pt(_)],{type:"application/pdf"})},ro=y.output=y.__private__.output=Pr(function(_,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",_){case void 0:return ls();case"save":y.save(M.filename);break;case"arraybuffer":return pt(ls());case"blob":return To(ls());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(To(ls()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",le=ls();try{ee=Lg(le)}catch{ee=Lg(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+M.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(ye=M.pdfObjectUrl,De="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",nt=jt.open();return nt!==null&&nt.document.write($e),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',E=jt.open();if(E!==null){E.document.write(f);var P=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=M.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(P.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',ge=jt.open();if(ge!==null&&(ge.document.write(G),ge.document.title=M.filename),ge||typeof safari>"u")return ge;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",M);default:return null}}),$i=function(_){return Array.isArray(qi)===!0&&qi.indexOf(_)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var rn=null;re(),se();var Wi=function(_){return w!==null?rn.encryptor(_,0):function(M){return M}},Ni=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[_].objId,pageNumber:_,pageContext:St[_]}},Et=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in St)if(St[M].objId===_)break;return Ni(M)},Si=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:St[K].objId,pageNumber:K,pageContext:St[K]}};y.addPage=function(){return to.apply(this,arguments),this},y.setPage=function(){return Ls.apply(this,arguments),Fe.call(this,We[K]),this},y.insertPage=function(_){return this.addPage(),this.movePage(K,_),this},y.movePage=function(_,M){var ee,le;if(_>M){ee=We[_],le=St[_];for(var ye=_;ye>M;ye--)We[ye]=We[ye-1],St[ye]=St[ye-1];We[M]=ee,St[M]=le,this.setPage(M)}else if(_<M){ee=We[_],le=St[_];for(var De=_;De<M;De++)We[De]=We[De+1],St[De]=St[De+1];We[M]=ee,St[M]=le,this.setPage(M)}return this},y.deletePage=function(){return no.apply(this,arguments),this},y.__private__.text=y.text=function(_,M,ee,le,ye){var De,$e,nt,f,E,P,G,ge,ke,Ge=(le=le||{}).scope||this;if(typeof _=="number"&&typeof M=="number"&&(typeof ee=="string"||Array.isArray(ee))){var Ut=ee;ee=M,M=_,_=Ut}if(arguments[3]instanceof ct?(R("The transform parameter of text() with a Matrix value"),ke=ye):(nt=arguments[4],f=arguments[5],kn(G=arguments[3])==="object"&&G!==null||(typeof nt=="string"&&(f=nt,nt=null),typeof G=="string"&&(f=G,G=null),typeof G=="number"&&(nt=G,G=null),le={flags:G,angle:nt,align:f})),isNaN(M)||isNaN(ee)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Ge;var Jt="",zt=!1,fn=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:dn,yn=Ge.internal.scaleFactor;function si(Tn){return Tn=Tn.split("	").join(Array(le.TabLen||9).join(" ")),Kn(Tn,G)}function Lr(Tn){for(var wn,Jn=Tn.concat(),or=[],ho=Jn.length;ho--;)typeof(wn=Jn.shift())=="string"?or.push(wn):Array.isArray(Tn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?or.push(wn[0]):or.push([wn[0],wn[1],wn[2]]);return or}function Vs(Tn,wn){var Jn;if(typeof Tn=="string")Jn=wn(Tn)[0];else if(Array.isArray(Tn)){for(var or,ho,Ml=Tn.concat(),Za=[],Du=Ml.length;Du--;)typeof(or=Ml.shift())=="string"?Za.push(wn(or)[0]):Array.isArray(or)&&typeof or[0]=="string"&&(ho=wn(or[0],or[1],or[2]),Za.push([ho[0],ho[1],ho[2]]));Jn=Za}return Jn}var Bs=!1,Pl=!0;if(typeof _=="string")Bs=!0;else if(Array.isArray(_)){var kl=_.concat();$e=[];for(var Ga,Yn=kl.length;Yn--;)(typeof(Ga=kl.shift())!="string"||Array.isArray(Ga)&&typeof Ga[0]!="string")&&(Pl=!1);Bs=Pl}if(Bs===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Cl=Xe/Ge.internal.scaleFactor,Rl=Cl*(fn-1);switch(le.baseline){case"bottom":ee-=Rl;break;case"top":ee+=Cl-Rl;break;case"hanging":ee+=Cl-2*Rl;break;case"middle":ee+=Cl/2-Rl}if((P=le.maxWidth||0)>0&&(typeof _=="string"?_=Ge.splitTextToSize(_,P):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Tn,wn){return Tn.concat(Ge.splitTextToSize(wn,P))},[]))),De={text:_,x:M,y:ee,options:le,mutex:{pdfEscape:Kn,activeFontKey:Bt,fonts:un,activeFontSize:Xe}},Zt.publish("preProcessText",De),_=De.text,nt=(le=De.options).angle,!(ke instanceof ct)&&nt&&typeof nt=="number"){nt*=Math.PI/180,le.rotationDirection===0&&(nt=-nt),Z===Y.ADVANCED&&(nt=-nt);var Ll=Math.cos(nt),jl=Math.sin(nt);ke=new ct(Ll,jl,-jl,Ll,0,0)}else nt&&nt instanceof ct&&(ke=nt);Z!==Y.ADVANCED||ke||(ke=rr),(E=le.charSpace||Ds)!==void 0&&(Jt+=W(j(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ge=le.horizontalScale)!==void 0&&(Jt+=W(100*ge)+` Tz
`),le.lang;var oi=-1,Ka=le.renderingMode!==void 0?le.renderingMode:le.stroke,Ro=Ge.internal.getCurrentPageInfo().pageContext;switch(Ka){case 0:case!1:case"fill":oi=0;break;case 1:case!0:case"stroke":oi=1;break;case 2:case"fillThenStroke":oi=2;break;case 3:case"invisible":oi=3;break;case 4:case"fillAndAddForClipping":oi=4;break;case 5:case"strokeAndAddPathForClipping":oi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oi=6;break;case 7:case"addToPathForClipping":oi=7}var xc=Ro.usedRenderingMode!==void 0?Ro.usedRenderingMode:-1;oi!==-1?Jt+=oi+` Tr
`:xc!==-1&&(Jt+=`0 Tr
`),oi!==-1&&(Ro.usedRenderingMode=oi),f=le.align||"left";var ai,Ol=Xe*fn,ju=Ge.internal.pageSize.getWidth(),Dl=un[Bt];E=le.charSpace||Ds,P=le.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},le.flags);var uo=[],pa=function(Tn){return Ge.getStringUnitWidth(Tn,{font:Dl,charSpace:E,fontSize:Xe,doKerning:!1})*Xe/yn};if(Object.prototype.toString.call(_)==="[object Array]"){var li;$e=Lr(_),f!=="left"&&(ai=$e.map(pa));var $r,ma=0;if(f==="right"){M-=ai[0],_=[],Yn=$e.length;for(var Lo=0;Lo<Yn;Lo++)Lo===0?($r=ii(M),li=Qn(ee)):($r=j(ma-ai[Lo]),li=-Ol),_.push([$e[Lo],$r,li]),ma=ai[Lo]}else if(f==="center"){M-=ai[0]/2,_=[],Yn=$e.length;for(var jo=0;jo<Yn;jo++)jo===0?($r=ii(M),li=Qn(ee)):($r=j((ma-ai[jo])/2),li=-Ol),_.push([$e[jo],$r,li]),ma=ai[jo]}else if(f==="left"){_=[],Yn=$e.length;for(var Fl=0;Fl<Yn;Fl++)_.push($e[Fl])}else if(f==="justify"&&Dl.encoding==="Identity-H"){_=[],Yn=$e.length,P=P!==0?P:ju;for(var Oo=0,cn=0;cn<Yn;cn++)if(li=cn===0?Qn(ee):-Ol,$r=cn===0?ii(M):Oo,cn<Yn-1){var Do=j((P-ai[cn])/($e[cn].split(" ").length-1)),Wr=$e[cn].split(" ");_.push([Wr[0]+" ",$r,li]),Oo=0;for(var Yi=1;Yi<Wr.length;Yi++){var Qa=(pa(Wr[Yi-1]+" "+Wr[Yi])-pa(Wr[Yi]))*yn+Do;Yi==Wr.length-1?_.push([Wr[Yi],Qa,0]):_.push([Wr[Yi]+" ",Qa,0]),Oo-=Qa}}else _.push([$e[cn],$r,li]);_.push(["",Oo,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Yn=$e.length,P=P!==0?P:ju,cn=0;cn<Yn;cn++)li=cn===0?Qn(ee):-Ol,$r=cn===0?ii(M):0,cn<Yn-1?uo.push(W(j((P-ai[cn])/($e[cn].split(" ").length-1)))):uo.push(0),_.push([$e[cn],$r,li])}}var Ou=typeof le.R2L=="boolean"?le.R2L:vt;Ou===!0&&(_=Vs(_,function(Tn,wn,Jn){return[Tn.split("").reverse().join(""),wn,Jn]})),De={text:_,x:M,y:ee,options:le,mutex:{pdfEscape:Kn,activeFontKey:Bt,fonts:un,activeFontSize:Xe}},Zt.publish("postProcessText",De),_=De.text,zt=De.mutex.isHex||!1;var Ya=un[Bt].encoding;Ya!=="WinAnsiEncoding"&&Ya!=="StandardEncoding"||(_=Vs(_,function(Tn,wn,Jn){return[si(Tn),wn,Jn]})),$e=Lr(_),_=[];for(var Ja,Xa,Ji,Fo=0,co=1,Mo=Array.isArray($e[0])?co:Fo,Vo="",ga=function(Tn,wn,Jn){var or="";return Jn instanceof ct?(Jn=typeof le.angle=="number"?Vr(Jn,new ct(1,0,0,1,Tn,wn)):Vr(new ct(1,0,0,1,Tn,wn),Jn),Z===Y.ADVANCED&&(Jn=Vr(new ct(1,0,0,-1,0,0),Jn)),or=Jn.join(" ")+` Tm
`):or=W(Tn)+" "+W(wn)+` Td
`,or},jr=0;jr<$e.length;jr++){switch(Vo="",Mo){case co:Ji=(zt?"<":"(")+$e[jr][0]+(zt?">":")"),Ja=parseFloat($e[jr][1]),Xa=parseFloat($e[jr][2]);break;case Fo:Ji=(zt?"<":"(")+$e[jr]+(zt?">":")"),Ja=ii(M),Xa=Qn(ee)}uo!==void 0&&uo[jr]!==void 0&&(Vo=uo[jr]+` Tw
`),jr===0?_.push(Vo+ga(Ja,Xa,ke)+Ji):Mo===Fo?_.push(Vo+Ji):Mo===co&&_.push(Vo+ga(Ja,Xa,ke)+Ji)}_=Mo===Fo?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ei=`BT
/`;return Ei+=Bt+" "+Xe+` Tf
`,Ei+=W(Xe*fn)+` TL
`,Ei+=Vn+`
`,Ei+=Jt,Ei+=_,ie(Ei+="ET"),x[Bt]=!0,Ge};var us=y.__private__.clip=y.clip=function(_){return ie(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return us("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ie("n"),this};var cs=y.__private__.isValidStyle=function(_){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(M=!0),M};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return cs(_)&&(g=_),this};var qa=y.__private__.getStyle=y.getStyle=function(_){var M=g;switch(_){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=_}return M},Cr=y.close=function(){return ie("h"),this};y.stroke=function(){return ie("S"),this},y.fill=function(_){return la("f",_),this},y.fillEvenOdd=function(_){return la("f*",_),this},y.fillStroke=function(_){return la("B",_),this},y.fillStrokeEvenOdd=function(_){return la("B*",_),this};var la=function(_,M){kn(M)==="object"?Po(M,_):ie(_)},ua=function(_){_===null||Z===Y.ADVANCED&&_===void 0||(_=qa(_),ie(_))};function Os(_,M,ee,le,ye){var De=new Jc(M||this.boundingBox,ee||this.xStep,le||this.yStep,this.gState,ye||this.matrix);De.stream=this.stream;var $e=_+"$$"+this.cloneIndex+++"$$";return ir($e,De),De}var Po=function(_,M){var ee=ss[_.key],le=Yt[ee];if(le instanceof tc)ie("q"),ie(Il(M)),le.gState&&y.setGState(le.gState),ie(_.matrix.toString()+" cm"),ie("/"+ee+" sh"),ie("Q");else if(le instanceof Jc){var ye=new ct(1,0,0,-1,0,Hr());_.matrix&&(ye=ye.multiply(_.matrix||rr),ee=Os.call(le,_.key,_.boundingBox,_.xStep,_.yStep,ye).id),ie("q"),ie("/Pattern cs"),ie("/"+ee+" scn"),le.gState&&y.setGState(le.gState),ie(M),ie("Q")}},Il=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ri=y.moveTo=function(_,M){return ie(W(j(_))+" "+W(oe(M))+" m"),this},Rr=y.lineTo=function(_,M){return ie(W(j(_))+" "+W(oe(M))+" l"),this},zr=y.curveTo=function(_,M,ee,le,ye,De){return ie([W(j(_)),W(oe(M)),W(j(ee)),W(oe(le)),W(j(ye)),W(oe(De)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,M,ee,le,ye){if(isNaN(_)||isNaN(M)||isNaN(ee)||isNaN(le)||!cs(ye))throw new Error("Invalid arguments passed to jsPDF.line");return Z===Y.COMPAT?this.lines([[ee-_,le-M]],_,M,[1,1],ye||"S"):this.lines([[ee-_,le-M]],_,M,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,M,ee,le,ye,De){var $e,nt,f,E,P,G,ge,ke,Ge,Ut,Jt,zt;if(typeof _=="number"&&(zt=ee,ee=M,M=_,_=zt),le=le||[1,1],De=De||!1,isNaN(M)||isNaN(ee)||!Array.isArray(_)||!Array.isArray(le)||!cs(ye)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ri(M,ee),$e=le[0],nt=le[1],E=_.length,Ut=M,Jt=ee,f=0;f<E;f++)(P=_[f]).length===2?(Ut=P[0]*$e+Ut,Jt=P[1]*nt+Jt,Rr(Ut,Jt)):(G=P[0]*$e+Ut,ge=P[1]*nt+Jt,ke=P[2]*$e+Ut,Ge=P[3]*nt+Jt,Ut=P[4]*$e+Ut,Jt=P[5]*nt+Jt,zr(G,ge,ke,Ge,Ut,Jt));return De&&Cr(),ua(ye),this},y.path=function(_){for(var M=0;M<_.length;M++){var ee=_[M],le=ee.c;switch(ee.op){case"m":ri(le[0],le[1]);break;case"l":Rr(le[0],le[1]);break;case"c":zr.apply(this,le);break;case"h":Cr()}}return this},y.__private__.rect=y.rect=function(_,M,ee,le,ye){if(isNaN(_)||isNaN(M)||isNaN(ee)||isNaN(le)||!cs(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===Y.COMPAT&&(le=-le),ie([W(j(_)),W(oe(M)),W(j(ee)),W(j(le)),"re"].join(" ")),ua(ye),this},y.__private__.triangle=y.triangle=function(_,M,ee,le,ye,De,$e){if(isNaN(_)||isNaN(M)||isNaN(ee)||isNaN(le)||isNaN(ye)||isNaN(De)||!cs($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-_,le-M],[ye-ee,De-le],[_-ye,M-De]],_,M,[1,1],$e,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,M,ee,le,ye,De,$e){if(isNaN(_)||isNaN(M)||isNaN(ee)||isNaN(le)||isNaN(ye)||isNaN(De)||!cs($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ee),De=Math.min(De,.5*le),this.lines([[ee-2*ye,0],[ye*nt,0,ye,De-De*nt,ye,De],[0,le-2*De],[0,De*nt,-ye*nt,De,-ye,De],[2*ye-ee,0],[-ye*nt,0,-ye,-De*nt,-ye,-De],[0,2*De-le],[0,-De*nt,ye*nt,-De,ye,-De]],_+ye,M,[1,1],$e,!0),this},y.__private__.ellipse=y.ellipse=function(_,M,ee,le,ye){if(isNaN(_)||isNaN(M)||isNaN(ee)||isNaN(le)||!cs(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*ee,$e=4/3*(Math.SQRT2-1)*le;return ri(_+ee,M),zr(_+ee,M-$e,_+De,M-le,_,M-le),zr(_-De,M-le,_-ee,M-$e,_-ee,M),zr(_-ee,M+$e,_-De,M+le,_,M+le),zr(_+De,M+le,_+ee,M+$e,_+ee,M),ua(ye),this},y.__private__.circle=y.circle=function(_,M,ee,le){if(isNaN(_)||isNaN(M)||isNaN(ee)||!cs(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,M,ee,ee,le)},y.setFont=function(_,M,ee){return ee&&(M=Re(M,ee)),Bt=js(_,M,{disableWarning:!1}),this};var io=y.__private__.getFont=y.getFont=function(){return un[js.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,M,ee={};for(_ in bn)if(bn.hasOwnProperty(_))for(M in ee[_]=[],bn[_])bn[_].hasOwnProperty(M)&&ee[_].push(M);return ee},y.addFont=function(_,M,ee,le,ye){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(ee=Re(ee,le)),ye=ye||"Identity-H",Zs.call(this,_,M,ee,ye)};var dn,Ha=n.lineWidth||.200025,so=y.__private__.getLineWidth=y.getLineWidth=function(){return Ha},oo=y.__private__.setLineWidth=y.setLineWidth=function(_){return Ha=_,ie(W(j(_))+" w"),this};y.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(_,M){if(_=_||[],M=M||0,isNaN(M)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ee){return W(j(ee))}).join(" "),M=W(j(M)),ie("["+_+"] "+M+" d"),this};var ko=y.__private__.getLineHeight=y.getLineHeight=function(){return Xe*dn};y.__private__.getLineHeight=y.getLineHeight=function(){return Xe*dn};var ca=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(dn=_),this},qr=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return dn};ca(n.lineHeight);var ii=y.__private__.getHorizontalCoordinate=function(_){return j(_)},Qn=y.__private__.getVerticalCoordinate=function(_){return Z===Y.ADVANCED?_:St[K].mediaBox.topRightY-St[K].mediaBox.bottomLeftY-j(_)},$a=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return W(ii(_))},Gi=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return W(Qn(_))},sr=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return xi(sr)},y.__private__.setStrokeColor=y.setDrawColor=function(_,M,ee,le){return sr=Zn({ch1:_,ch2:M,ch3:ee,ch4:le,pdfColorType:"draw",precision:2}),ie(sr),this};var Co=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return xi(Co)},y.__private__.setFillColor=y.setFillColor=function(_,M,ee,le){return Co=Zn({ch1:_,ch2:M,ch3:ee,ch4:le,pdfColorType:"fill",precision:2}),ie(Co),this};var Vn=n.textColor||"0 g",Ki=y.__private__.getTextColor=y.getTextColor=function(){return xi(Vn)};y.__private__.setTextColor=y.setTextColor=function(_,M,ee,le){return Vn=Zn({ch1:_,ch2:M,ch3:ee,ch4:le,pdfColorType:"text",precision:3}),this};var Ds=n.charSpace,hs=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ds||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ds=_,this};var Wa=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var M=y.CapJoinStyles[_];if(M===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wa=M,ie(M+" J"),this};var ao=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var M=y.CapJoinStyles[_];if(M===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ao=M,ie(M+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(W(j(_))+" M"),this},y.GState=ap,y.setGState=function(_){(_=typeof _=="string"?An[Wn[_]]:ds(null,_)).equals(xr)||(ie("/"+_.id+" gs"),xr=_)};var ds=function(_,M){if(!_||!Wn[_]){var ee=!1;for(var le in An)if(An.hasOwnProperty(le)&&An[le].equals(M)){ee=!0;break}if(ee)M=An[le];else{var ye="GS"+(Object.keys(An).length+1).toString(10);An[ye]=M,M.id=ye}return _&&(Wn[_]=M.id),Zt.publish("addGState",M),M}};y.addGState=function(_,M){return ds(_,M),this},y.saveGraphicsState=function(){return ie("q"),wi.push({key:Bt,size:Xe,color:Vn}),this},y.restoreGraphicsState=function(){ie("Q");var _=wi.pop();return Bt=_.key,Xe=_.size,Vn=_.color,xr=null,this},y.setCurrentTransformationMatrix=function(_){return ie(_.toString()+" cm"),this},y.comment=function(_){return ie("#"+_),this};var Qi=function(_,M){var ee=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(De){isNaN(De)||(ee=parseFloat(De))}});var le=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(De){isNaN(De)||(le=parseFloat(De))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(De){ye=De.toString()}}),this},Fs=function(_,M,ee,le){Qi.call(this,_,M),this.type="rect";var ye=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function($e){isNaN($e)||(ye=parseFloat($e))}});var De=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function($e){isNaN($e)||(De=parseFloat($e))}}),this},lo=function(){this.page=In,this.currentPage=K,this.pages=We.slice(0),this.pagesContext=St.slice(0),this.x=$n,this.y=Qt,this.matrix=ti,this.width=fs(K),this.height=Hr(K),this.outputDestination=et,this.id="",this.objectNumber=-1};lo.prototype.restore=function(){In=this.page,K=this.currentPage,St=this.pagesContext,We=this.pages,$n=this.x,Qt=this.y,ti=this.matrix,da(K,this.width),fa(K,this.height),et=this.outputDestination};var ha=function(_,M,ee,le,ye){_i.push(new lo),In=K=0,We=[],$n=_,Qt=M,ti=ye,kr([ee,le])},Tl=function(_){if(br[_])_i.pop().restore();else{var M=new lo,ee="Xo"+(Object.keys(Xn).length+1).toString(10);M.id=ee,br[_]=ee,Xn[ee]=M,Zt.publish("addFormObject",M),_i.pop().restore()}};for(var Ms in y.beginFormObject=function(_,M,ee,le,ye){return ha(_,M,ee,le,ye),this},y.endFormObject=function(_){return Tl(_),this},y.doFormObject=function(_,M){var ee=Xn[br[_]];return ie("q"),ie(M.toString()+" cm"),ie("/"+ee.id+" Do"),ie("Q"),this},y.getFormObject=function(_){var M=Xn[br[_]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},y.save=function(_,M){return _=_||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(ec(To(ls()),_),typeof ec.unload=="function"&&jt.setTimeout&&setTimeout(ec.unload,911),this):new Promise(function(ee,le){try{var ye=ec(To(ls()),_);typeof ec.unload=="function"&&jt.setTimeout&&setTimeout(ec.unload,911),ee(ye)}catch(De){le(De.message)}})},Rt.API)Rt.API.hasOwnProperty(Ms)&&(Ms==="events"&&Rt.API.events.length?function(_,M){var ee,le,ye;for(ye=M.length-1;ye!==-1;ye--)ee=M[ye][0],le=M[ye][1],_.subscribe.apply(_,[ee].concat(typeof le=="function"?[le]:le))}(Zt,Rt.API.events):y[Ms]=Rt.API[Ms]);var fs=y.getPageWidth=function(_){return(St[_=_||K].mediaBox.topRightX-St[_].mediaBox.bottomLeftX)/ot},da=y.setPageWidth=function(_,M){St[_].mediaBox.topRightX=M*ot+St[_].mediaBox.bottomLeftX},Hr=y.getPageHeight=function(_){return(St[_=_||K].mediaBox.topRightY-St[_].mediaBox.bottomLeftY)/ot},fa=y.setPageHeight=function(_,M){St[_].mediaBox.topRightY=M*ot+St[_].mediaBox.bottomLeftY};return y.internal={pdfEscape:Kn,getStyle:qa,getFont:io,getFontSize:st,getCharSpace:hs,getTextColor:Ki,getLineHeight:ko,getLineHeightFactor:qr,getLineWidth:so,write:Lt,getHorizontalCoordinate:ii,getVerticalCoordinate:Qn,getCoordinateString:$a,getVerticalCoordinateString:Gi,collections:{},newObject:Rn,newAdditionalObject:Ys,newObjectDeferred:Ln,newObjectDeferredBegin:Mn,getFilters:Ur,putStream:Gn,events:Zt,scaleFactor:ot,pageSize:{getWidth:function(){return fs(K)},setWidth:function(_){da(K,_)},getHeight:function(){return Hr(K)},setHeight:function(_){fa(K,_)}},encryptionOptions:w,encryption:rn,getEncryptor:Wi,output:ro,getNumberOfPages:vn,pages:We,out:ie,f2:U,f3:T,getPageInfo:Ni,getPageInfoByObjId:Et,getCurrentPageInfo:Si,getPDFVersion:O,Point:Qi,Rectangle:Fs,Matrix:ct,hasHotfix:$i},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return fs(K)},set:function(_){da(K,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Hr(K)},set:function(_){fa(K,_)},enumerable:!0,configurable:!0}),eo.call(y,Ye),Bt="F1",to(s,t),Zt.publish("initialized"),y}Kc.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Kc.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kc.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Kc.prototype.processOwnerPassword=function(n,e){return Og(jg(e).substr(0,5),n)},Kc.prototype.encryptor=function(n,e){var t=jg(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Og(t,r)}},ap.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||kn(n)!==kn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="3.0.1";var cr=Rt.API,W0=1,_c=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(n){return n.toFixed(2)},ou=function(n){return n.toFixed(5)};cr.__acroform__={};var Is=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},n5=function(n){return n*W0},Sa=function(n){var e=new k_,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Ht(r)),Number(Ht(t))],e},l8=cr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},u8=cr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},c8=cr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},vr=cr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return c8(n,e-1)},yr=cr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return l8(n,e-1)},wr=cr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return u8(n,e-1)},h8=cr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],l=n[2],c=n[3],d={};return d.lowerLeft_X=t(s)||0,d.lowerLeft_Y=r(o+c)||0,d.upperRight_X=t(s+l)||0,d.upperRight_Y=r(o)||0,[Number(Ht(d.lowerLeft_X)),Number(Ht(d.lowerLeft_Y)),Number(Ht(d.upperRight_X)),Number(Ht(d.upperRight_Y))]},d8=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Dg(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Ht(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Sa(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Dg=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=t,l=gt.internal.getHeight(n)||0;l=l<0?-l:l;var c=gt.internal.getWidth(n)||0;c=c<0?-c:c;var d=function(T,j,D){if(T+1<s.length){var oe=j+" "+s[T+1][0];return _f(oe,n,D).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var g,w,b=_f("3",n,o).height,x=n.multiline?l-o:(l-b)/2,y=x+=2,L=0,O=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+_f(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var V="",Y=0,Z=0;Z<s.length;Z++)if(s.hasOwnProperty(Z)){var ce=!1;if(s[Z].length!==1&&C!==s[Z].length-1){if((b+2)*(Y+2)+2>l)continue e;V+=s[Z][C],ce=!0,O=Z,Z--}else{V=(V+=s[Z][C]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var be=parseInt(Z),Re=d(be,V,o),W=Z>=s.length-1;if(Re&&!W){V+=" ",C=0;continue}if(Re||W){if(W)O=be;else if(n.multiline&&(b+2)*(Y+2)+2>l)continue e}else{if(!n.multiline||(b+2)*(Y+2)+2>l)continue e;O=be}}for(var R="",B=L;B<=O;B++){var U=s[B];if(n.multiline){if(B===O){R+=U[C]+" ",C=(C+1)%U.length;continue}if(B===L){R+=U[U.length-1]+" ";continue}}R+=U[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,w=_f(R,n,o).width,n.textAlign){case"right":g=c-w-2;break;case"center":g=(c-w)/2;break;case"left":default:g=2}e+=Ht(g)+" "+Ht(y)+` Td
`,e+="("+_c(R)+`) Tj
`,e+=-Ht(g)+` 0 Td
`,y=-(o+2),w=0,L=ce?O:O+1,Y++,V=""}break}return r.text=e,r.fontSize=o,r},_f=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},f8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},p8=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},m8=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,s=n[t];e.internal.newObjectDeferredBegin(s.objId,!0),kn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[r]}},g8=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ia.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(f8)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new C_,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&p8(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var l in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],d=[],g=c.Rect;if(c.Rect&&(c.Rect=h8(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),kn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=g,c.hasAppearanceStream&&!c.appearanceStreamContent){var w=d8(c);d.push({key:"AP",value:"<</N "+w+">>"}),s.internal.acroformPlugin.xForms.push(w)}if(c.appearanceStreamContent){var b="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var y=c.appearanceStreamContent[x];if(b+="/"+x+" ",b+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var L=y[l];typeof L=="function"&&(L=L.call(s,c)),b+="/"+l+" "+L+" ",s.internal.acroformPlugin.xForms.indexOf(L)>=0||s.internal.acroformPlugin.xForms.push(L)}}else typeof(L=y)=="function"&&(L=L.call(s,c)),b+="/"+l+" "+L,s.internal.acroformPlugin.xForms.indexOf(L)>=0||s.internal.acroformPlugin.xForms.push(L);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:c.objId}),s.internal.out("endobj")}o&&m8(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},P_=cr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),kn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+_c(r(n[o].toString()))+")"):s+=n[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ym=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+_c(r(n))+")"},Aa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Aa.prototype.toString=function(){return this.objId+" 0 R"},Aa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Aa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:P_(s,this.objId,this.scope)}):s instanceof Aa?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var k_=function(){Aa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Is(k_,Aa);var C_=function(){Aa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_c(t(n))+")"}},set:function(t){n=t}})};Is(C_,Aa);var ia=function n(){Aa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');e=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vr(e,3)},set:function(V){V?this.F=yr(e,3):this.F=wr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');t=V}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(V){r=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(V){r[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(V){r[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(V){r[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(V){r[3]=V}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof lp)return;o="FieldObject"+n.FieldNum++}var V=function(Y){return Y};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+_c(V(o))+")"},set:function(V){o=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(V){o=V}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(V){l=V}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(V){c=V}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(V){d=V}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/W0:g},set:function(V){g=V}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(V){w=V}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof lp||this instanceof sc))return Ym(b,this.objId,this.scope)},set:function(V){V=V.toString(),b=V}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Zr?x:Ym(x,this.objId,this.scope)},set:function(V){V=V.toString(),x=this instanceof Zr?V:V.substr(0,1)==="("?zc(V.substr(1,V.length-2)):zc(V)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zr?zc(x.substr(1,x.length-1)):x},set:function(V){V=V.toString(),x=this instanceof Zr?"/"+V:V}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Zr?y:Ym(y,this.objId,this.scope)},set:function(V){V=V.toString(),y=this instanceof Zr?V:V.substr(0,1)==="("?zc(V.substr(1,V.length-2)):zc(V)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zr?zc(y.substr(1,y.length-1)):y},set:function(V){V=V.toString(),y=this instanceof Zr?"/"+V:V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(V){V=!!V,O=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(V){L=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,1)},set:function(V){V?this.Ff=yr(this.Ff,1):this.Ff=wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,2)},set:function(V){V?this.Ff=yr(this.Ff,2):this.Ff=wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,3)},set:function(V){V?this.Ff=yr(this.Ff,3):this.Ff=wr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');C=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch(C){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Is(ia,Aa);var rh=function(){ia.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P_(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=function(o,l,c){c||(c=1);for(var d,g=[];d=l.exec(o);)g.push(d[c]);return g}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,18)},set:function(t){t?this.Ff=yr(this.Ff,18):this.Ff=wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=yr(this.Ff,19):this.Ff=wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,20)},set:function(t){t?(this.Ff=yr(this.Ff,20),e.sort()):this.Ff=wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,22)},set:function(t){t?this.Ff=yr(this.Ff,22):this.Ff=wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(t){t?this.Ff=yr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,27)},set:function(t){t?this.Ff=yr(this.Ff,27):this.Ff=wr(this.Ff,27)}}),this.hasAppearanceStream=!1};Is(rh,ia);var ih=function(){rh.call(this),this.fontName="helvetica",this.combo=!1};Is(ih,rh);var sh=function(){ih.call(this),this.combo=!0};Is(sh,ih);var Lf=function(){sh.call(this),this.edit=!0};Is(Lf,sh);var Zr=function(){ia.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,15)},set:function(t){t?this.Ff=yr(this.Ff,15):this.Ff=wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,16)},set:function(t){t?this.Ff=yr(this.Ff,16):this.Ff=wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,17)},set:function(t){t?this.Ff=yr(this.Ff,17):this.Ff=wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(t){t?this.Ff=yr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+_c(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){kn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Is(Zr,ia);var jf=function(){Zr.call(this),this.pushButton=!0};Is(jf,Zr);var oh=function(){Zr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Is(oh,Zr);var lp=function(){var n,e;ia.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),r)l.push("/"+o+" ("+_c(s(r[o]))+")");return l.push(">>"),l.join(`
`)},set:function(s){kn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Is(lp,ia),oh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},oh.prototype.createOption=function(n){var e=new lp;return e.Parent=this,e.optionName=n,this.Kids.push(e),v8.call(this.scope,e),e};var Of=function(){Zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Is(Of,Zr);var sc=function(){ia.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,13)},set:function(e){e?this.Ff=yr(this.Ff,13):this.Ff=wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,21)},set:function(e){e?this.Ff=yr(this.Ff,21):this.Ff=wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(e){e?this.Ff=yr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,24)},set:function(e){e?this.Ff=yr(this.Ff,24):this.Ff=wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,25)},set:function(e){e?this.Ff=yr(this.Ff,25):this.Ff=wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(e){e?this.Ff=yr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Is(sc,ia);var Df=function(){sc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,14)},set:function(n){n?this.Ff=yr(this.Ff,14):this.Ff=wr(this.Ff,14)}}),this.password=!0};Is(Df,sc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Sa(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=Dg(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Ht(gt.internal.getWidth(n))+" "+Ht(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Ht(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Sa(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=gt.internal.getHeight(n),l=gt.internal.getWidth(n),c=Dg(n,n.caption);return s.push("1 g"),s.push("0 0 "+Ht(l)+" "+Ht(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ht(l-1)+" "+Ht(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Ht(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Sa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(gt.internal.getWidth(n))+" "+Ht(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Sa(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ou(gt.internal.getWidth(n)/2)+" "+ou(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sa(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5)),l=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ou(gt.internal.getWidth(n)/2)+" "+ou(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ou(gt.internal.getWidth(n)/2)+" "+ou(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Sa(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ou(gt.internal.getWidth(n)/2)+" "+ou(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Sa(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Ht(gt.internal.getWidth(n)-2)+" "+Ht(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Ht(r.x1.x)+" "+Ht(r.x1.y)+" m"),t.push(Ht(r.x2.x)+" "+Ht(r.x2.y)+" l"),t.push(Ht(r.x4.x)+" "+Ht(r.x4.y)+" m"),t.push(Ht(r.x3.x)+" "+Ht(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sa(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ht(gt.internal.getWidth(n))+" "+Ht(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ht(gt.internal.getWidth(n)-2)+" "+Ht(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Ht(t.x1.x)+" "+Ht(t.x1.y)+" m"),r.push(Ht(t.x2.x)+" "+Ht(t.x2.y)+" l"),r.push(Ht(t.x4.x)+" "+Ht(t.x4.y)+" m"),r.push(Ht(t.x3.x)+" "+Ht(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Sa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(gt.internal.getWidth(n))+" "+Ht(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return kn(n)==="object"&&(e=n5(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return kn(n)==="object"&&(e=n5(n.Rect[3])),e};var v8=cr.addField=function(n){if(g8(this,n),!(n instanceof ia))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};cr.AcroFormChoiceField=rh,cr.AcroFormListBox=ih,cr.AcroFormComboBox=sh,cr.AcroFormEditBox=Lf,cr.AcroFormButton=Zr,cr.AcroFormPushButton=jf,cr.AcroFormRadioButton=oh,cr.AcroFormCheckBox=Of,cr.AcroFormTextField=sc,cr.AcroFormPasswordField=Df,cr.AcroFormAppearance=gt,cr.AcroForm={ChoiceField:rh,ListBox:ih,ComboBox:sh,EditBox:Lf,Button:Zr,PushButton:jf,RadioButton:oh,CheckBox:Of,TextField:sc,PasswordField:Df,Appearance:gt},Rt.AcroForm={ChoiceField:rh,ListBox:ih,ComboBox:sh,EditBox:Lf,Button:Zr,PushButton:jf,RadioButton:oh,CheckBox:Of,TextField:sc,PasswordField:Df,Appearance:gt};Rt.AcroForm;function R_(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(T,j){var D,oe,Te,Ae,Pe,se=e;if((j=j||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Re(T))for(Pe in t)for(Te=t[Pe],D=0;D<Te.length;D+=1){for(Ae=!0,oe=0;oe<Te[D].length;oe+=1)if(Te[D][oe]!==void 0&&Te[D][oe]!==T[oe]){Ae=!1;break}if(Ae===!0){se=Pe;break}}else for(Pe in t)for(Te=t[Pe],D=0;D<Te.length;D+=1){for(Ae=!0,oe=0;oe<Te[D].length;oe+=1)if(Te[D][oe]!==void 0&&Te[D][oe]!==T.charCodeAt(oe)){Ae=!1;break}if(Ae===!0){se=Pe;break}}return se===e&&j!==e&&(se=j),se},s=function T(j){for(var D=this.internal.write,oe=this.internal.putStream,Te=(0,this.internal.getFilters)();Te.indexOf("FlateEncode")!==-1;)Te.splice(Te.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:j.width}),Ae.push({key:"Height",value:j.height}),j.colorSpace===C.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===C.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var Pe="",se=0,_e=j.transparency.length;se<_e;se++)Pe+=j.transparency[se]+" "+j.transparency[se]+" ";Ae.push({key:"Mask",value:"["+Pe+"]"})}j.sMask!==void 0&&Ae.push({key:"SMask",value:j.objectId+1+" 0 R"});var pe=j.filter!==void 0?["/"+j.filter]:void 0;if(oe({data:j.data,additionalKeyValues:Ae,alreadyAppliedFilters:pe,objectId:j.objectId}),D("endobj"),"sMask"in j&&j.sMask!==void 0){var re="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,k={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:re,data:j.sMask};"filter"in j&&(k.filter=j.filter),T.call(this,k)}if(j.colorSpace===C.INDEXED){var K=this.internal.newObject();oe({data:R(new Uint8Array(j.palette)),objectId:K}),D("endobj")}},o=function(){var T=this.internal.collections.addImage_images;for(var j in T)s.call(this,T[j])},l=function(){var T,j=this.internal.collections.addImage_images,D=this.internal.write;for(var oe in j)D("/I"+(T=j[oe]).index,T.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var T=this.internal.collections.addImage_images;return c.call(this),T},g=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(T){return typeof n["process"+T.toUpperCase()]=="function"},b=function(T){return kn(T)==="object"&&T.nodeType===1},x=function(T,j){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return ed(unescape(D).split("base64,").pop());var oe=n.loadFile(D,!0);if(oe!==void 0)return oe}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Te;switch(j){case"PNG":Te="image/png";break;case"WEBP":Te="image/webp";break;case"JPEG":case"JPG":default:Te="image/jpeg"}return ed(T.toDataURL(Te,1).split("base64,").pop())}},y=function(T){var j=this.internal.collections.addImage_images;if(j){for(var D in j)if(T===j[D].alias)return j[D]}},L=function(T,j,D){return T||j||(T=-96,j=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),j<0&&(j=-1*D.height*72/j/this.internal.scaleFactor),T===0&&(T=j*D.width/D.height),j===0&&(j=T*D.height/D.width),[T,j]},O=function(T,j,D,oe,Te,Ae){var Pe=L.call(this,D,oe,Te),se=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,pe=d.call(this);if(D=Pe[0],oe=Pe[1],pe[Te.index]=Te,Ae){Ae*=Math.PI/180;var re=Math.cos(Ae),k=Math.sin(Ae),K=function(te){return te.toFixed(4)},X=[K(re),K(k),K(-1*k),K(re),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,se(T),_e(j+oe),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([se(D),"0","0",se(oe),"0","0","cm"].join(" "))):this.internal.write([se(D),"0","0",se(oe),se(T),_e(j+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Te.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Y=n.__addimage__.sHashCode=function(T){var j,D,oe=0;if(typeof T=="string")for(D=T.length,j=0;j<D;j++)oe=(oe<<5)-oe+T.charCodeAt(j),oe|=0;else if(Re(T))for(D=T.byteLength/2,j=0;j<D;j++)oe=(oe<<5)-oe+T[j],oe|=0;return oe},Z=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var j=!0;return T.length===0&&(j=!1),T.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(j=!1),j},ce=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var j=T.indexOf(",");return j<0?null:T.substring(0,j).trim().endsWith("base64")?T.substring(j+1):null},be=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(T){return be()&&T instanceof ArrayBuffer};var Re=n.__addimage__.isArrayBufferView=function(T){return be()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},W=n.__addimage__.binaryStringToUint8Array=function(T){for(var j=T.length,D=new Uint8Array(j),oe=0;oe<j;oe++)D[oe]=T.charCodeAt(oe);return D},R=n.__addimage__.arrayBufferToBinaryString=function(T){for(var j="",D=Re(T)?T:new Uint8Array(T),oe=0;oe<D.length;oe+=8192)j+=String.fromCharCode.apply(null,D.subarray(oe,oe+8192));return j};n.addImage=function(){var T,j,D,oe,Te,Ae,Pe,se,_e;if(typeof arguments[1]=="number"?(j=e,D=arguments[1],oe=arguments[2],Te=arguments[3],Ae=arguments[4],Pe=arguments[5],se=arguments[6],_e=arguments[7]):(j=arguments[1],D=arguments[2],oe=arguments[3],Te=arguments[4],Ae=arguments[5],Pe=arguments[6],se=arguments[7],_e=arguments[8]),kn(T=arguments[0])==="object"&&!b(T)&&"imageData"in T){var pe=T;T=pe.imageData,j=pe.format||j||e,D=pe.x||D||0,oe=pe.y||oe||0,Te=pe.w||pe.width||Te,Ae=pe.h||pe.height||Ae,Pe=pe.alias||Pe,se=pe.compression||se,_e=pe.rotation||pe.angle||_e}var re=this.internal.getFilters();if(se===void 0&&re.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(D)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var k=B.call(this,T,j,Pe,se);return O.call(this,D,oe,Te,Ae,k,_e),this};var B=function(T,j,D,oe){var Te,Ae,Pe;if(typeof T=="string"&&r(T)===e){T=unescape(T);var se=U(T,!1);(se!==""||(se=n.loadFile(T,!0))!==void 0)&&(T=se)}if(b(T)&&(T=x(T,j)),j=r(T,j),!w(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Pe=D)==null||Pe.length===0)&&(D=function(_e){return typeof _e=="string"||Re(_e)?Y(_e):Re(_e.data)?Y(_e.data):null}(T)),(Te=y.call(this,D))||(be()&&(T instanceof Uint8Array||j==="RGBA"||(Ae=T,T=W(T))),Te=this["process"+j.toUpperCase()](T,g.call(this),D,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:V.NONE}(oe),Ae)),!Te)throw new Error("An unknown error occurred whilst processing the image.");return Te},U=n.__addimage__.convertBase64ToBinaryString=function(T,j){j=typeof j!="boolean"||j;var D,oe="";if(typeof T=="string"){var Te;D=(Te=ce(T))!==null&&Te!==void 0?Te:T;try{oe=ed(D)}catch(Ae){if(j)throw Z(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(T){var j,D,oe="";if(b(T)&&(T=x(T)),typeof T=="string"&&r(T)===e&&((oe=U(T,!1))===""&&(oe=n.loadFile(T)||""),T=oe),D=r(T),!w(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!be()||T instanceof Uint8Array||(T=W(T)),!(j=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=D,j}})(Rt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),g=t.pageContext.annotations,w=!1,b=0;b<g.length&&!w;b++)switch((r=g[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var x=0;x<g.length;x++){r=g[x];var y=this.internal.pdfEscape,L=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(O.objId),Y=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(V(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+y(V(Y))+") >>",O.content=o;var Z=O.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+Z,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(O.objId,"0 R",C.objId,"0 R");break;case"freetext":s="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var ce=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(L(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ce+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var be=this.annotations._nameMap[r.options.name];r.options.pageNumber=be.page,r.options.top=be.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(L(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Re=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Re+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(t),y:g(r),w:d(t+s),h:g(r+o)},options:l,type:"link"})},n.textWithLink=function(t,r,s,o){var l,c,d=this.getTextWidth(t),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var w=this.splitTextToSize(t,c).length;l=Math.ceil(g*w)}else c=d,l=g;return this.text(t,r,s,o),s+=.2*g,o.align==="center"&&(r-=d/2),o.align==="right"&&(r-=d),this.link(r,s-g,c,l,o),d},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Rt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(O){return e[O.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(O){return typeof O=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},c=n.__arabicParser__.isArabicEndLetter=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(O){return l(O)&&s.indexOf(O.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length>=1};var g=n.__arabicParser__.arabicLetterHasFinalForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length>=3};var w=n.__arabicParser__.arabicLetterHasMedialForm=function(O){return l(O)&&o(O)&&e[O.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(O){var C=0,V=t,Y="",Z=0;for(C=0;C<O.length;C+=1)V[O.charCodeAt(C)]!==void 0?(Z++,typeof(V=V[O.charCodeAt(C)])=="number"&&(Y+=String.fromCharCode(V),V=t,Z=0),C===O.length-1&&(V=t,Y+=O.charAt(C-(Z-1)),C-=Z-1,Z=0)):(V=t,Y+=O.charAt(C-Z),C-=Z,Z=0);return Y};n.__arabicParser__.isArabicDiacritic=function(O){return O!==void 0&&r[O.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(O,C,V){return l(O)?o(O)===!1?-1:!g(O)||!l(C)&&!l(V)||!l(V)&&c(C)||c(O)&&!l(C)||c(O)&&d(C)||c(O)&&c(C)?0:w(O)&&l(C)&&!c(C)&&l(V)&&g(V)?3:c(O)||!l(V)?1:2:-1},y=function(O){var C=0,V=0,Y=0,Z="",ce="",be="",Re=(O=O||"").split("\\s+"),W=[];for(C=0;C<Re.length;C+=1){for(W.push(""),V=0;V<Re[C].length;V+=1)Z=Re[C][V],ce=Re[C][V-1],be=Re[C][V+1],l(Z)?(Y=x(Z,ce,be),W[C]+=Y!==-1?String.fromCharCode(e[Z.charCodeAt(0)][Y]):Z):W[C]+=Z;W[C]=b(W[C])}return W.join(" ")},L=n.__arabicParser__.processArabic=n.processArabic=function(){var O,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray(C)){var Y=0;for(V=[],Y=0;Y<C.length;Y+=1)Array.isArray(C[Y])?V.push([y(C[Y][0]),C[Y][1],C[Y][2]]):V.push([y(C[Y])]);O=V}else O=y(C);return typeof arguments[0]=="string"?O:(arguments[0].text=O,arguments[0])};n.events.push(["preProcessText",L])}(Rt.API),Rt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Rt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(O){d=O}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(O){g=O}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(O){w=O}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(O){b=O}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(O){x=O}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(O){y=O}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(O){L=O}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,g){r.call(this);var w=(g=g||{}).fontSize||this.getFontSize(),b=g.font||this.getFont(),x=g.scaleFactor||this.internal.scaleFactor,y=0,L=0,O=0,C=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var V=g.maxWidth;V>0?typeof d=="string"?d=this.splitTextToSize(d,V):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Z,ce){return Z.concat(C.splitTextToSize(ce,V))},[])):d=Array.isArray(d)?d:[d];for(var Y=0;Y<d.length;Y++)y<(O=this.getStringUnitWidth(d[Y],{font:b})*w)&&(y=O);return y!==0&&(L=d.length),{w:y/=x,h:Math.max((L*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var g=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===d.lineNumber?(d.x=(g.x||0)+(g.width||0),d.y=g.y||0):g.y+g.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,y&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=g.y+g.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-w,d.y+w,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+w,{align:"center",baseline:"top",maxWidth:d.width-w-w}):this.text(d.text,d.x+w,d.y+w,{align:"left",baseline:"top",maxWidth:d.width-w-w})),this.internal.__cell__.lastCell=d,this};n.table=function(d,g,w,b,x){if(r.call(this),!w)throw new Error("No data for PDF table.");var y,L,O,C,V=[],Y=[],Z=[],ce={},be={},Re=[],W=[],R=(x=x||{}).autoSize||!1,B=x.printHeaders!==!1,U=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,T=x.margins||Object.assign({width:this.getPageWidth()},e),j=typeof x.padding=="number"?x.padding:3,D=x.headerBackgroundColor||"#c8c8c8",oe=x.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=oe,this.setFontSize(U),b==null)Y=V=Object.keys(w[0]),Z=V.map(function(){return"left"});else if(Array.isArray(b)&&kn(b[0])==="object")for(V=b.map(function(pe){return pe.name}),Y=b.map(function(pe){return pe.prompt||pe.name||""}),Z=b.map(function(pe){return pe.align||"left"}),y=0;y<b.length;y+=1)be[b[y].name]=b[y].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(Y=V=b,Z=V.map(function(){return"left"}));if(R||Array.isArray(b)&&typeof b[0]=="string")for(y=0;y<V.length;y+=1){for(ce[C=V[y]]=w.map(function(pe){return pe[C]}),this.setFont(void 0,"bold"),Re.push(this.getTextDimensions(Y[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=ce[C],this.setFont(void 0,"normal"),O=0;O<L.length;O+=1)Re.push(this.getTextDimensions(L[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);be[C]=Math.max.apply(null,Re)+j+j,Re=[]}if(B){var Te={};for(y=0;y<V.length;y+=1)Te[V[y]]={},Te[V[y]].text=Y[y],Te[V[y]].align=Z[y];var Ae=c.call(this,Te,be);W=V.map(function(pe){return new o(d,g,be[pe],Ae,Te[pe].text,void 0,Te[pe].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var Pe=b.reduce(function(pe,re){return pe[re.name]=re.align,pe},{});for(y=0;y<w.length;y+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:y,data:w[y]},this);var se=c.call(this,w[y],be);for(O=0;O<V.length;O+=1){var _e=w[y][V[O]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:y,col:O,data:_e},this),l.call(this,new o(d,g,be[V[O]],se,_e,y+2,Pe[V[O]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=g,this};var c=function(d,g){var w=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(y){var L=d[y];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,g[y]-w-w)},this).map(function(y){return this.getLineHeightFactor()*y.length*b/x+w+w},this).reduce(function(y,L){return Math.max(y,L)},0)};n.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,g){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){w=this.internal.__cell__.tableHeaderRow[y].clone(),g&&(w.y=this.internal.__cell__.margins.top||0,x.push(w)),w.lineNumber=d;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,w),this.setTextColor(L)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}}(Rt.API);var L_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fg=R_(j_),O_=[100,200,300,400,500,600,700,800,900],y8=R_(O_);function Mg(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return L_[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(o){return typeof Fg[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function r5(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var w8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s5(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function _8(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},w8,t.genericFontFamilies||{}),o=null,l=null,c=0;c<e.length;++c)if(s[(o=Mg(e[c])).family]&&(o.family=s[o.family]),n.hasOwnProperty(o.family)){l=n[o.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+s5(o)+"' and default family '"+r+"'.");if(l=function(d,g){if(g[d])return g[d];var w=Fg[d],b=w<=Fg.normal?-1:1,x=r5(g,j_,w,b);if(!x)throw new Error("Could not find a matching font-stretch value for "+d);return x}(o.stretch,l),l=function(d,g){if(g[d])return g[d];for(var w=L_[d],b=0;b<w.length;++b)if(g[w[b]])return g[w[b]];throw new Error("Could not find a matching font-style for "+d)}(o.style,l),!(l=function(d,g){if(g[d])return g[d];if(d===400&&g[500])return g[500];if(d===500&&g[400])return g[400];var w=y8[d],b=r5(g,O_,w,d<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+d);return b}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+s5(o)+"'.");return l}function o5(n){return n.trimLeft()}function x8(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function b8(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var xf,a5,l5,Jm=["times"];(function(n){var e,t,r,s,o,l,c,d,g,w=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new d,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new l,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new l,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,g=new w}]);var b=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=k;Object.defineProperty(this,"pdf",{get:function(){return K}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Fe){X=!!Fe}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Fe){te=!!Fe}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Fe){isNaN(Fe)||(ae=Fe)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Fe){isNaN(Fe)||(we=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Fe){var ie;typeof Fe=="number"?ie=[Fe,Fe,Fe,Fe]:((ie=new Array(4))[0]=Fe[0],ie[1]=Fe.length>=2?Fe[1]:ie[0],ie[2]=Fe.length>=3?Fe[2]:ie[0],ie[3]=Fe.length>=4?Fe[3]:ie[1]),g.margin=ie}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Fe){xe=Fe}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Fe){Ne=Fe}});var qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qe},set:function(Fe){qe=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Fe){Fe instanceof w&&(g=Fe)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Fe){g.path=Fe}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(Fe){We=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ie;ie=x(Fe),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ie=x(Fe);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var it=null;function et(Fe,ie){if(it===null){var Lt=function(pt){var Ye=[];return Object.keys(pt).forEach(function(Xe){pt[Xe].forEach(function(tt){var st=null;switch(tt){case"bold":st={family:Xe,weight:"bold"};break;case"italic":st={family:Xe,style:"italic"};break;case"bolditalic":st={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":st={family:Xe}}st!==null&&(st.ref={name:Xe,style:tt},Ye.push(st))})}),Ye}(Fe.getFontList());it=function(pt){for(var Ye={},Xe=0;Xe<pt.length;++Xe){var tt=Mg(pt[Xe]),st=tt.family,vt=tt.stretch,Ct=tt.style,Mt=tt.weight;Ye[st]=Ye[st]||{},Ye[st][vt]=Ye[st][vt]||{},Ye[st][vt][Ct]=Ye[st][vt][Ct]||{},Ye[st][vt][Ct][Mt]=tt}return Ye}(Lt.concat(ie))}return it}var xt=null;Object.defineProperty(this,"fontFaces",{get:function(){return xt},set:function(Fe){it=null,xt=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ie;if(this.ctx.font=Fe,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var Lt=ie[1];ie[2];var pt=ie[3],Ye=ie[4];ie[5];var Xe=ie[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(tt==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var st=function(It){var Bt,ot,$n=[],Qt=It.trim();if(Qt==="")return Jm;if(Qt in i5)return[i5[Qt]];for(;Qt!=="";){switch(ot=null,Bt=(Qt=o5(Qt)).charAt(0)){case'"':case"'":ot=x8(Qt.substring(1),Bt);break;default:ot=b8(Qt)}if(ot===null||($n.push(ot[0]),(Qt=o5(ot[1]))!==""&&Qt.charAt(0)!==","))return Jm;Qt=Qt.replace(/^,/,"")}return $n}(Xe);if(this.fontFaces){var vt=_8(et(this.pdf,this.fontFaces),st.map(function(It){return{family:It,stretch:"normal",weight:pt,style:Lt}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var Ct="";(pt==="bold"||parseInt(pt,10)>=700||Lt==="bold")&&(Ct="bold"),Lt==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Mt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<st.length;At++){if(this.pdf.internal.getFont(st[At],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Mt=st[At];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(st[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=st[At],Ct="bold";else if(this.pdf.internal.getFont(st[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=st[At],Ct="normal";break}}if(Mt===""){for(var Kt=0;Kt<st.length;Kt++)if(_t[st[Kt]]){Mt=_t[st[Kt]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};b.prototype.setLineDash=function(k){this.lineDash=k},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){ce.call(this,"fill",!1)},b.prototype.stroke=function(){ce.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(k,K){if(isNaN(k)||isNaN(K))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new l(k,K));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(k,K)},b.prototype.closePath=function(){var k=new l(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&kn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){k=new l(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(k.x,k.y)},b.prototype.lineTo=function(k,K){if(isNaN(k)||isNaN(K))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new l(k,K));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(X.x,X.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ce.call(this,null,!0)},b.prototype.quadraticCurveTo=function(k,K,X,te){if(isNaN(X)||isNaN(te)||isNaN(k)||isNaN(K))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new l(X,te)),we=this.ctx.transform.applyToPoint(new l(k,K));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},b.prototype.bezierCurveTo=function(k,K,X,te,ae,we){if(isNaN(ae)||isNaN(we)||isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new l(ae,we)),Ne=this.ctx.transform.applyToPoint(new l(k,K)),qe=this.ctx.transform.applyToPoint(new l(X,te));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:qe.x,y2:qe.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new l(xe.x,xe.y)},b.prototype.arc=function(k,K,X,te,ae,we){if(isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te)||isNaN(ae))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new l(k,K));k=xe.x,K=xe.y;var Ne=this.ctx.transform.applyToPoint(new l(0,X)),qe=this.ctx.transform.applyToPoint(new l(0,0));X=Math.sqrt(Math.pow(Ne.x-qe.x,2)+Math.pow(Ne.y-qe.y,2))}Math.abs(ae-te)>=2*Math.PI&&(te=0,ae=2*Math.PI),this.path.push({type:"arc",x:k,y:K,radius:X,startAngle:te,endAngle:ae,counterclockwise:we})},b.prototype.arcTo=function(k,K,X,te,ae){throw new Error("arcTo not implemented.")},b.prototype.rect=function(k,K,X,te){if(isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,K),this.lineTo(k+X,K),this.lineTo(k+X,K+te),this.lineTo(k,K+te),this.lineTo(k,K),this.lineTo(k+X,K),this.lineTo(k,K)},b.prototype.fillRect=function(k,K,X,te){if(isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,K,X,te),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},b.prototype.strokeRect=function(k,K,X,te){if(isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(k,K,X,te),this.stroke())},b.prototype.clearRect=function(k,K,X,te){if(isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,K,X,te))},b.prototype.save=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},b.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(K),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(k){var K,X,te,ae;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))K=0,X=0,te=0,ae=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(we!==null)K=parseInt(we[1]),X=parseInt(we[2]),te=parseInt(we[3]),ae=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)K=parseInt(we[1]),X=parseInt(we[2]),te=parseInt(we[3]),ae=parseFloat(we[4]);else{if(ae=1,typeof k=="string"&&k.charAt(0)!=="#"){var xe=new A_(k);k=xe.ok?xe.toHex():"#000000"}k.length===4?(K=k.substring(1,2),K+=K,X=k.substring(2,3),X+=X,te=k.substring(3,4),te+=te):(K=k.substring(1,3),X=k.substring(3,5),te=k.substring(5,7)),K=parseInt(K,16),X=parseInt(X,16),te=parseInt(te,16)}}return{r:K,g:X,b:te,a:ae,style:k}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(k,K,X,te){if(isNaN(K)||isNaN(X)||typeof k!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!y.call(this)){var ae=se(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:k,x:K,y:X,scale:we,angle:ae,align:this.textAlign,maxWidth:te})}},b.prototype.strokeText=function(k,K,X,te){if(isNaN(K)||isNaN(X)||typeof k!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){te=isNaN(te)?void 0:te;var ae=se(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:k,x:K,y:X,scale:we,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:te})}},b.prototype.measureText=function(k){if(typeof k!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,X=this.pdf.internal.scaleFactor,te=K.internal.getFontSize(),ae=K.getStringUnitWidth(k)*te/K.internal.scaleFactor,we=function(xe){var Ne=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this};return new we({width:ae*=Math.round(96*X/72*1e4)/1e4})},b.prototype.scale=function(k,K){if(isNaN(k)||isNaN(K))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new d(k,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.rotate=function(k){if(isNaN(k))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new d(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},b.prototype.translate=function(k,K){if(isNaN(k)||isNaN(K))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new d(1,0,0,1,k,K);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.transform=function(k,K,X,te,ae,we){if(isNaN(k)||isNaN(K)||isNaN(X)||isNaN(te)||isNaN(ae)||isNaN(we))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new d(k,K,X,te,ae,we);this.ctx.transform=this.ctx.transform.multiply(xe)},b.prototype.setTransform=function(k,K,X,te,ae,we){k=isNaN(k)?1:k,K=isNaN(K)?0:K,X=isNaN(X)?0:X,te=isNaN(te)?1:te,ae=isNaN(ae)?0:ae,we=isNaN(we)?0:we,this.ctx.transform=new d(k,K,X,te,ae,we)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(k,K,X,te,ae,we,xe,Ne,qe){var We=this.pdf.getImageProperties(k),it=1,et=1,xt=1,Fe=1;te!==void 0&&Ne!==void 0&&(xt=Ne/te,Fe=qe/ae,it=We.width/te*Ne/te,et=We.height/ae*qe/ae),we===void 0&&(we=K,xe=X,K=0,X=0),te!==void 0&&Ne===void 0&&(Ne=te,qe=ae),te===void 0&&Ne===void 0&&(Ne=We.width,qe=We.height);for(var ie,Lt=this.ctx.transform.decompose(),pt=se(Lt.rotate.shx),Ye=new d,Xe=(Ye=(Ye=(Ye=Ye.multiply(Lt.translate)).multiply(Lt.skew)).multiply(Lt.scale)).applyToRectangle(new c(we-K*xt,xe-X*Fe,te*it,ae*et)),tt=C.call(this,Xe),st=[],vt=0;vt<tt.length;vt+=1)st.indexOf(tt[vt])===-1&&st.push(tt[vt]);if(Z(st),this.autoPaging)for(var Ct=st[0],Mt=st[st.length-1],_t=Ct;_t<Mt+1;_t++){this.pdf.setPage(_t);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=_t===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=_t===1?0:It+(_t-2)*Bt;if(this.ctx.clip_path.length!==0){var $n=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(ie,this.posX+this.margin[3],-ot+Kt+this.ctx.prevPageLastElemOffset),be.call(this,"fill",!0),this.path=$n}var Qt=JSON.parse(JSON.stringify(Xe));Qt=Y([Qt],this.posX+this.margin[3],-ot+Kt+this.ctx.prevPageLastElemOffset)[0];var ti=(_t>Ct||_t<Mt)&&O.call(this);ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Bt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,pt),ti&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,pt)};var C=function(k,K,X){var te=[];K=K||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":te.push(Math.floor((k.y+ae)/X)+1);break;case"arc":te.push(Math.floor((k.y+ae-k.radius)/X)+1),te.push(Math.floor((k.y+ae+k.radius)/X)+1);break;case"qct":var we=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);te.push(Math.floor((we.y+ae)/X)+1),te.push(Math.floor((we.y+we.h+ae)/X)+1);break;case"bct":var xe=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);te.push(Math.floor((xe.y+ae)/X)+1),te.push(Math.floor((xe.y+xe.h+ae)/X)+1);break;case"rect":te.push(Math.floor((k.y+ae)/X)+1),te.push(Math.floor((k.y+k.h+ae)/X)+1)}for(var Ne=0;Ne<te.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<te[Ne];)V.call(this);return te},V=function(){var k=this.fillStyle,K=this.strokeStyle,X=this.font,te=this.lineCap,ae=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=K,this.font=X,this.lineCap=te,this.lineWidth=ae,this.lineJoin=we},Y=function(k,K,X){for(var te=0;te<k.length;te++)switch(k[te].type){case"bct":k[te].x2+=K,k[te].y2+=X;case"qct":k[te].x1+=K,k[te].y1+=X;case"mt":case"lt":case"arc":default:k[te].x+=K,k[te].y+=X}return k},Z=function(k){return k.sort(function(K,X){return K-X})},ce=function(k,K){for(var X,te,ae=this.fillStyle,we=this.strokeStyle,xe=this.lineCap,Ne=this.lineWidth,qe=Math.abs(Ne*this.ctx.transform.scaleX),We=this.lineJoin,it=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),xt=[],Fe=0;Fe<et.length;Fe++)if(et[Fe].x!==void 0)for(var ie=C.call(this,et[Fe]),Lt=0;Lt<ie.length;Lt+=1)xt.indexOf(ie[Lt])===-1&&xt.push(ie[Lt]);for(var pt=0;pt<xt.length;pt++)for(;this.pdf.internal.getNumberOfPages()<xt[pt];)V.call(this);if(Z(xt),this.autoPaging)for(var Ye=xt[0],Xe=xt[xt.length-1],tt=Ye;tt<Xe+1;tt++){this.pdf.setPage(tt),this.fillStyle=ae,this.strokeStyle=we,this.lineCap=xe,this.lineWidth=qe,this.lineJoin=We;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=tt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=tt===1?0:Ct+(tt-2)*Mt;if(this.ctx.clip_path.length!==0){var At=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(X,this.posX+this.margin[3],-_t+vt+this.ctx.prevPageLastElemOffset),be.call(this,k,!0),this.path=At}if(te=JSON.parse(JSON.stringify(it)),this.path=Y(te,this.posX+this.margin[3],-_t+vt+this.ctx.prevPageLastElemOffset),K===!1||tt===0){var Kt=(tt>Ye||tt<Xe)&&O.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Mt,null).clip().discardPath()),be.call(this,k,K),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=qe,be.call(this,k,K),this.lineWidth=Ne;this.path=it},be=function(k,K){if((k!=="stroke"||K||!L.call(this))&&(k==="stroke"||K||!y.call(this))){for(var X,te,ae=[],we=this.path,xe=0;xe<we.length;xe++){var Ne=we[xe];switch(Ne.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ne,deltas:[],abs:[]});break;case"lt":var qe=ae.length;if(we[xe-1]&&!isNaN(we[xe-1].x)&&(X=[Ne.x-we[xe-1].x,Ne.y-we[xe-1].y],qe>0)){for(;qe>=0;qe--)if(ae[qe-1].close!==!0&&ae[qe-1].begin!==!0){ae[qe-1].deltas.push(X),ae[qe-1].abs.push(Ne);break}}break;case"bct":X=[Ne.x1-we[xe-1].x,Ne.y1-we[xe-1].y,Ne.x2-we[xe-1].x,Ne.y2-we[xe-1].y,Ne.x-we[xe-1].x,Ne.y-we[xe-1].y],ae[ae.length-1].deltas.push(X);break;case"qct":var We=we[xe-1].x+2/3*(Ne.x1-we[xe-1].x),it=we[xe-1].y+2/3*(Ne.y1-we[xe-1].y),et=Ne.x+2/3*(Ne.x1-Ne.x),xt=Ne.y+2/3*(Ne.y1-Ne.y),Fe=Ne.x,ie=Ne.y;X=[We-we[xe-1].x,it-we[xe-1].y,et-we[xe-1].x,xt-we[xe-1].y,Fe-we[xe-1].x,ie-we[xe-1].y],ae[ae.length-1].deltas.push(X);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ne)}}te=K?null:k==="stroke"?"stroke":"fill";for(var Lt=!1,pt=0;pt<ae.length;pt++)if(ae[pt].arc)for(var Ye=ae[pt].abs,Xe=0;Xe<Ye.length;Xe++){var tt=Ye[Xe];tt.type==="arc"?R.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,K,!Lt):D.call(this,tt.x,tt.y),Lt=!0}else if(ae[pt].close===!0)this.pdf.internal.out("h"),Lt=!1;else if(ae[pt].begin!==!0){var st=ae[pt].start.x,vt=ae[pt].start.y;oe.call(this,ae[pt].deltas,st,vt),Lt=!0}te&&B.call(this,te),K&&U.call(this)}},Re=function(k){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-X;case"top":return k+K-X;case"hanging":return k+K-2*X;case"middle":return k+K/2-X;case"ideographic":return k;case"alphabetic":default:return k}},W=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(K,X){this.colorStops.push([K,X])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(k,K,X,te,ae,we,xe,Ne,qe){for(var We=Ae.call(this,X,te,ae,we),it=0;it<We.length;it++){var et=We[it];it===0&&(qe?T.call(this,et.x1+k,et.y1+K):D.call(this,et.x1+k,et.y1+K)),Te.call(this,k,K,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Ne?U.call(this):B.call(this,xe)},B=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(k,K){this.pdf.internal.out(t(k)+" "+r(K)+" m")},j=function(k){var K;switch(k.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var X=this.pdf.getTextDimensions(k.text),te=Re.call(this,k.y),ae=W.call(this,te)-X.h,we=this.ctx.transform.applyToPoint(new l(k.x,te)),xe=this.ctx.transform.decompose(),Ne=new d;Ne=(Ne=(Ne=Ne.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var qe,We,it,et=this.ctx.transform.applyToRectangle(new c(k.x,te,X.w,X.h)),xt=Ne.applyToRectangle(new c(k.x,ae,X.w,X.h)),Fe=C.call(this,xt),ie=[],Lt=0;Lt<Fe.length;Lt+=1)ie.indexOf(Fe[Lt])===-1&&ie.push(Fe[Lt]);if(Z(ie),this.autoPaging)for(var pt=ie[0],Ye=ie[ie.length-1],Xe=pt;Xe<Ye+1;Xe++){this.pdf.setPage(Xe);var tt=Xe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],Ct=vt-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],_t=Mt-this.margin[3],At=Xe===1?0:st+(Xe-2)*Ct;if(this.ctx.clip_path.length!==0){var Kt=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(qe,this.posX+this.margin[3],-1*At+tt),be.call(this,"fill",!0),this.path=Kt}var It=Y([JSON.parse(JSON.stringify(xt))],this.posX+this.margin[3],-At+tt+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*k.scale),it=this.lineWidth,this.lineWidth=it*k.scale);var Bt=this.autoPaging!=="text";if(Bt||It.y+It.h<=vt){if(Bt||It.y>=tt&&It.x<=Mt){var ot=Bt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Mt-It.x)[0],$n=Y([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-At+tt+this.ctx.prevPageLastElemOffset)[0],Qt=Bt&&(Xe>pt||Xe<Ye)&&O.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Ct,null).clip().discardPath()),this.pdf.text(ot,$n.x,$n.y,{angle:k.angle,align:K,renderingMode:k.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else It.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-It.y);k.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=it)}else k.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*k.scale),it=this.lineWidth,this.lineWidth=it*k.scale),this.pdf.text(k.text,we.x+this.posX,we.y+this.posY,{angle:k.angle,align:K,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=it)},D=function(k,K,X,te){X=X||0,te=te||0,this.pdf.internal.out(t(k+X)+" "+r(K+te)+" l")},oe=function(k,K,X){return this.pdf.lines(k,K,X,null,null)},Te=function(k,K,X,te,ae,we,xe,Ne){this.pdf.internal.out([e(s(X+k)),e(o(te+K)),e(s(ae+k)),e(o(we+K)),e(s(xe+k)),e(o(Ne+K)),"c"].join(" "))},Ae=function(k,K,X,te){for(var ae=2*Math.PI,we=Math.PI/2;K>X;)K-=ae;var xe=Math.abs(X-K);xe<ae&&te&&(xe=ae-xe);for(var Ne=[],qe=te?-1:1,We=K;xe>1e-5;){var it=We+qe*Math.min(xe,we);Ne.push(Pe.call(this,k,We,it)),xe-=Math.abs(it-We),We=it}return Ne},Pe=function(k,K,X){var te=(X-K)/2,ae=k*Math.cos(te),we=k*Math.sin(te),xe=ae,Ne=-we,qe=xe*xe+Ne*Ne,We=qe+xe*ae+Ne*we,it=4/3*(Math.sqrt(2*qe*We)-We)/(xe*we-Ne*ae),et=xe-it*Ne,xt=Ne+it*xe,Fe=et,ie=-xt,Lt=te+K,pt=Math.cos(Lt),Ye=Math.sin(Lt);return{x1:k*Math.cos(K),y1:k*Math.sin(K),x2:et*pt-xt*Ye,y2:et*Ye+xt*pt,x3:Fe*pt-ie*Ye,y3:Fe*Ye+ie*pt,x4:k*Math.cos(X),y4:k*Math.sin(X)}},se=function(k){return 180*k/Math.PI},_e=function(k,K,X,te,ae,we){var xe=k+.5*(X-k),Ne=K+.5*(te-K),qe=ae+.5*(X-ae),We=we+.5*(te-we),it=Math.min(k,ae,xe,qe),et=Math.max(k,ae,xe,qe),xt=Math.min(K,we,Ne,We),Fe=Math.max(K,we,Ne,We);return new c(it,xt,et-it,Fe-xt)},pe=function(k,K,X,te,ae,we,xe,Ne){var qe,We,it,et,xt,Fe,ie,Lt,pt,Ye,Xe,tt,st,vt,Ct=X-k,Mt=te-K,_t=ae-X,At=we-te,Kt=xe-ae,It=Ne-we;for(We=0;We<41;We++)pt=(ie=(it=k+(qe=We/40)*Ct)+qe*((xt=X+qe*_t)-it))+qe*(xt+qe*(ae+qe*Kt-xt)-ie),Ye=(Lt=(et=K+qe*Mt)+qe*((Fe=te+qe*At)-et))+qe*(Fe+qe*(we+qe*It-Fe)-Lt),We==0?(Xe=pt,tt=Ye,st=pt,vt=Ye):(Xe=Math.min(Xe,pt),tt=Math.min(tt,Ye),st=Math.max(st,pt),vt=Math.max(vt,Ye));return new c(Math.round(Xe),Math.round(tt),Math.round(st-Xe),Math.round(vt-tt))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,K,X=(k=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:K}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Rt.API),function(n){var e=function(o){var l,c,d,g,w,b,x,y,L,O;for(c=[],d=0,g=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;g>d;d+=4)(w=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(b=(w=((w=((w=((w=(w-(O=w%85))/85)-(L=w%85))/85)-(y=w%85))/85)-(x=w%85))/85)%85,c.push(b+33,x+33,y+33,L+33,O+33)):c.push(122);return function(C,V){for(var Y=V;Y>0;Y--)C.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var l,c,d,g,w,b=String,x="length",y=255,L="charCodeAt",O="slice",C="replace";for(o[O](-2),o=o[O](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],g=0,w=(o+=l="uuuuu"[O](o[x]%5||5))[x];w>g;g+=5)c=52200625*(o[L](g)-33)+614125*(o[L](g+1)-33)+7225*(o[L](g+2)-33)+85*(o[L](g+3)-33)+(o[L](g+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(V,Y){for(var Z=Y;Z>0;Z--)V.pop()}(d,l[x]),b.fromCharCode.apply(b,d)},r=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return o=(l=Rg(l)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(o,l){var c=0,d=o||"",g=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=r(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}}(Rt.API),function(n){n.loadFile=function(e,t,r){return function(s,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,g,w){var b=new XMLHttpRequest,x=0,y=function(L){var O=L.length,C=[],V=String.fromCharCode;for(x=0;x<O;x+=1)C.push(V(255&L.charCodeAt(x)));return C.join("")};if(b.open("GET",d,!g),b.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(b.onload=function(){b.status===200?w(y(this.responseText)):w(void 0)}),b.send(null),g&&b.status===200)return y(b.responseText)}(s,o,l)}catch{}return c}(e,t,r)},n.loadImageFile=n.loadFile}(Rt.API),function(n){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Ff(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Ff(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=kn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var d=document.createElement(l);for(var g in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[g]=c.style[g];return d},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),g=l.convert(Promise.resolve(),d);return g=(g=g.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function d(g,w){for(var b=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),x=g.firstChild;x;x=x.nextSibling)w!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||b.appendChild(d(x,w));return g.nodeType===1&&(g.nodeName==="CANVAS"?(b.width=g.width,b.height=g.height,b.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(b.value=g.value),b.addEventListener("load",function(){b.scrollTop=g.scrollTop,b.scrollLeft=g.scrollLeft},!0)),b}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var x=0;x<g.length;++x){var y=g[x],L=y.src.find(function(O){return O.format==="truetype"});L&&d.addFont(L.url,y.ref.name,y.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,d.context2d.save(!0),c(this.prop.container,b)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(l=l||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,g){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,g){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(b){return d.updateProgress(null,g),b}).then(g,w).then(function(b){return d.updateProgress(1),b})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),w=d.call(g,l,c);return o.convert(w,this.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Rt.getPageSize=function(l,c,d){if(kn(l)==="object"){var g=l;l=g.orientation,c=g.unit||c,d=g.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var w,b=(""+d).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+c}var y,L=0,O=0;if(x.hasOwnProperty(b))L=x[b][1]/w,O=x[b][0]/w;else try{L=d[1],O=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",O>L&&(y=O,O=L,L=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",L>O&&(y=O,O=L,L=y)}return{width:O,height:L,unit:c,k:w,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Mg):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Rt.API),Rt.API.addJS=function(n){return l5=n,this.internal.events.subscribe("postPutResources",function(){xf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xf!==void 0&&a5!==void 0&&this.internal.out("/Names <</JavaScript "+xf+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var l=s[o],c=r.exec(l);if(c!=null){var d=c[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,w=[];for(o=0;o<g;o++){var b=t.internal.newObject();w.push(b);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<w.length;o++)t.internal.write("(page_"+(o+1)+")"+w[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var l={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var l=r.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var g=0;g<r.children.length;g++)this.renderItems(r.children[g])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])}(Rt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,l,c){var d,g=this.decode.DCT_DECODE,w=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=function(b){for(var x,y=256*b.charCodeAt(4)+b.charCodeAt(5),L=b.length,O={width:0,height:0,numcomponents:1},C=4;C<L;C+=2){if(C+=y,e.indexOf(b.charCodeAt(C+1))!==-1){x=256*b.charCodeAt(C+5)+b.charCodeAt(C+6),O={width:256*b.charCodeAt(C+7)+b.charCodeAt(C+8),height:x,numcomponents:b.charCodeAt(C+9)};break}y=256*b.charCodeAt(C+2)+b.charCodeAt(C+3)}return O}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}w={data:t,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:g,index:r,alias:s}}return w}}(Rt.API);var qc,bf,u5,c5,h5,N8=function(){var n,e,t;function r(o){var l,c,d,g,w,b,x,y,L,O,C,V,Y,Z;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(l=this.readUInt32(),L=(function(){var ce,be;for(be=[],ce=0;ce<4;++ce)be.push(String.fromCharCode(this.data[this.pos++]));return be}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),g=this.readUInt16()||100,b.delay=1e3*w/g,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(L==="fdAT"&&(this.pos+=4,l-=4),o=b?.data||this.imgData,V=0;0<=l?V<l:V>l;0<=l?++V:--V)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((O=d-this.transparency.indexed.length)>0)for(Y=0;0<=O?Y<O:Y>O;0<=O?++Y:--Y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":x=(C=this.read(l)).indexOf(0),y=String.fromCharCode.apply(String,C.slice(0,x)),this.text[y]=String.fromCharCode.apply(String,C.slice(x+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Z=this.colorType)===4||Z===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var l,c;for(c=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),d=0,g=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function w(b,x,y,L){var O,C,V,Y,Z,ce,be,Re,W,R,B,U,T,j,D,oe,Te,Ae,Pe,se,_e,pe=Math.ceil((g.width-b)/y),re=Math.ceil((g.height-x)/L),k=g.width==pe&&g.height==re;for(j=l*pe,U=k?c:new Uint8Array(j*re),ce=o.length,T=0,C=0;T<re&&d<ce;){switch(o[d++]){case 0:for(Y=Te=0;Te<j;Y=Te+=1)U[C++]=o[d++];break;case 1:for(Y=Ae=0;Ae<j;Y=Ae+=1)O=o[d++],Z=Y<l?0:U[C-l],U[C++]=(O+Z)%256;break;case 2:for(Y=Pe=0;Pe<j;Y=Pe+=1)O=o[d++],V=(Y-Y%l)/l,D=T&&U[(T-1)*j+V*l+Y%l],U[C++]=(D+O)%256;break;case 3:for(Y=se=0;se<j;Y=se+=1)O=o[d++],V=(Y-Y%l)/l,Z=Y<l?0:U[C-l],D=T&&U[(T-1)*j+V*l+Y%l],U[C++]=(O+Math.floor((Z+D)/2))%256;break;case 4:for(Y=_e=0;_e<j;Y=_e+=1)O=o[d++],V=(Y-Y%l)/l,Z=Y<l?0:U[C-l],T===0?D=oe=0:(D=U[(T-1)*j+V*l+Y%l],oe=V&&U[(T-1)*j+(V-1)*l+Y%l]),be=Z+D-oe,Re=Math.abs(be-Z),R=Math.abs(be-D),B=Math.abs(be-oe),W=Re<=R&&Re<=B?Z:R<=B?D:oe,U[C++]=(O+W)%256;break;default:throw new Error("Invalid filter algorithm: "+o[d-1])}if(!k){var K=((x+T*L)*g.width+b)*l,X=T*j;for(Y=0;Y<pe;Y+=1){for(var te=0;te<l;te+=1)c[K++]=U[X++];K+=(y-1)*l}}T++}}return o=t8(o),g.interlaceMethod==1?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),c},r.prototype.decodePalette=function(){var o,l,c,d,g,w,b,x,y;for(c=this.palette,w=this.transparency.indexed||[],g=new Uint8Array((w.length||0)+c.length),d=0,o=0,l=b=0,x=c.length;b<x;l=b+=3)g[d++]=c[l],g[d++]=c[l+1],g[d++]=c[l+2],g[d++]=(y=w[o++])!=null?y:255;return g},r.prototype.copyToImageData=function(o,l){var c,d,g,w,b,x,y,L,O,C,V;if(d=this.colors,O=null,c=this.hasAlphaChannel,this.palette.length&&(O=(V=this._decodedPalette)!=null?V:this._decodedPalette=this.decodePalette(),d=4,c=!0),L=(g=o.data||o).length,b=O||l,w=x=0,d===1)for(;w<L;)y=O?4*l[w/4]:x,C=b[y++],g[w++]=C,g[w++]=C,g[w++]=C,g[w++]=c?b[y++]:255,x=y;else for(;w<L;)y=O?4*l[w/4]:x,g[w++]=b[y++],g[w++]=b[y++],g[w++]=b[y++],g[w++]=c?b[y++]:255,x=y},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{e=jt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(o){var l;if(s()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var l,c,d,g,w,b,x,y;if(this.animation){for(y=[],c=w=0,b=(x=this.animation.frames).length;w<b;c=++w)l=x[c],d=o.createImageData(l.width,l.height),g=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,g),l.imageData=d,y.push(l.image=n(d));return y}},r.prototype.renderFrame=function(o,l){var c,d,g;return c=(d=this.animation.frames)[l],g=d[l-1],l===0&&o.clearRect(0,0,this.width,this.height),g?.disposeOp===1?o.clearRect(g.xOffset,g.yOffset,g.width,g.height):g?.disposeOp===2&&o.putImageData(g.imageData,g.xOffset,g.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(o){var l,c,d,g,w,b,x=this;return c=0,b=this.animation,g=b.numFrames,d=b.frames,w=b.numPlays,(l=function(){var y,L;if(y=c++%g,L=d[y],x.renderFrame(o,y),g>1&&c/g<w)return x.animation._timeout=setTimeout(l,L.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var l,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function S8(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,l=1<<(7&s)+1;n[e++],n[e++];var c=null,d=null;o&&(c=e,d=l,e+=3*l);var g=!0,w=[],b=0,x=null,y=0,L=null;for(this.width=t,this.height=r;g&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,L=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var O=n[e++];b=n[e++]|n[e++]<<8,x=n[e++],(1&O)==0&&(x=null),y=O>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,Y=n[e++]|n[e++]<<8,Z=n[e++]|n[e++]<<8,ce=n[e++],be=ce>>6&1,Re=1<<(7&ce)+1,W=c,R=d,B=!1;ce>>7&&(B=!0,W=e,R=Re,e+=3*Re);var U=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}w.push({x:C,y:V,width:Y,height:Z,has_local_palette:B,palette_offset:W,palette_size:R,data_offset:U,data_length:e-U,transparent_index:x,interlaced:!!be,delay:b,disposal:y});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return L},this.frameInfo=function(j){if(j<0||j>=w.length)throw new Error("Frame index out of range.");return w[j]},this.decodeAndBlitFrameBGRA=function(j,D){var oe=this.frameInfo(j),Te=oe.width*oe.height,Ae=new Uint8Array(Te);d5(n,oe.data_offset,Ae,Te);var Pe=oe.palette_offset,se=oe.transparent_index;se===null&&(se=256);var _e=oe.width,pe=t-_e,re=_e,k=4*(oe.y*t+oe.x),K=4*((oe.y+oe.height)*t+oe.x),X=k,te=4*pe;oe.interlaced===!0&&(te+=4*t*7);for(var ae=8,we=0,xe=Ae.length;we<xe;++we){var Ne=Ae[we];if(re===0&&(re=_e,(X+=te)>=K&&(te=4*pe+4*t*(ae-1),X=k+(_e+pe)*(ae<<1),ae>>=1)),Ne===se)X+=4;else{var qe=n[Pe+3*Ne],We=n[Pe+3*Ne+1],it=n[Pe+3*Ne+2];D[X++]=it,D[X++]=We,D[X++]=qe,D[X++]=255}--re}},this.decodeAndBlitFrameRGBA=function(j,D){var oe=this.frameInfo(j),Te=oe.width*oe.height,Ae=new Uint8Array(Te);d5(n,oe.data_offset,Ae,Te);var Pe=oe.palette_offset,se=oe.transparent_index;se===null&&(se=256);var _e=oe.width,pe=t-_e,re=_e,k=4*(oe.y*t+oe.x),K=4*((oe.y+oe.height)*t+oe.x),X=k,te=4*pe;oe.interlaced===!0&&(te+=4*t*7);for(var ae=8,we=0,xe=Ae.length;we<xe;++we){var Ne=Ae[we];if(re===0&&(re=_e,(X+=te)>=K&&(te=4*pe+4*t*(ae-1),X=k+(_e+pe)*(ae<<1),ae>>=1)),Ne===se)X+=4;else{var qe=n[Pe+3*Ne],We=n[Pe+3*Ne+1],it=n[Pe+3*Ne+2];D[X++]=qe,D[X++]=We,D[X++]=it,D[X++]=255}--re}}}function d5(n,e,t,r){for(var s=n[e++],o=1<<s,l=o+1,c=l+1,d=s+1,g=(1<<d)-1,w=0,b=0,x=0,y=n[e++],L=new Int32Array(4096),O=null;;){for(;w<16&&y!==0;)b|=n[e++]<<w,w+=8,y===1?y=n[e++]:--y;if(w<d)break;var C=b&g;if(b>>=d,w-=d,C!==o){if(C===l)break;for(var V=C<c?C:O,Y=0,Z=V;Z>o;)Z=L[Z]>>8,++Y;var ce=Z;if(x+Y+(V!==C?1:0)>r)return void Dn.log("Warning, gif stream longer than expected.");t[x++]=ce;var be=x+=Y;for(V!==C&&(t[x++]=ce),Z=V;Y--;)Z=L[Z],t[--be]=255&Z,Z>>=8;O!==null&&c<4096&&(L[c++]=O<<8|ce,c>=g+1&&d<12&&(++d,g=g<<1|1)),O=C}else c=l+1,g=(1<<(d=s+1))-1,O=null}return x!==r&&Dn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xm(n){var e,t,r,s,o,l=Math.floor,c=new Array(64),d=new Array(64),g=new Array(64),w=new Array(64),b=new Array(65535),x=new Array(65535),y=new Array(64),L=new Array(64),O=[],C=0,V=7,Y=new Array(64),Z=new Array(64),ce=new Array(64),be=new Array(256),Re=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(k,K){for(var X=0,te=0,ae=new Array,we=1;we<=16;we++){for(var xe=1;xe<=k[we];xe++)ae[K[te]]=[],ae[K[te]][0]=X,ae[K[te]][1]=we,te++,X++;X*=2}return ae}function Pe(k){for(var K=k[0],X=k[1]-1;X>=0;)K&1<<X&&(C|=1<<V),X--,--V<0&&(C==255?(se(255),se(0)):se(C),V=7,C=0)}function se(k){O.push(k)}function _e(k){se(k>>8&255),se(255&k)}function pe(k,K,X,te,ae){for(var we,xe=ae[0],Ne=ae[240],qe=function(Ye,Xe){var tt,st,vt,Ct,Mt,_t,At,Kt,It,Bt,ot=0;for(It=0;It<8;++It){tt=Ye[ot],st=Ye[ot+1],vt=Ye[ot+2],Ct=Ye[ot+3],Mt=Ye[ot+4],_t=Ye[ot+5],At=Ye[ot+6];var $n=tt+(Kt=Ye[ot+7]),Qt=tt-Kt,ti=st+At,un=st-At,bn=vt+_t,wi=vt-_t,Yt=Ct+Mt,ss=Ct-Mt,An=$n+Yt,Wn=$n-Yt,xr=ti+bn,In=ti-bn;Ye[ot]=An+xr,Ye[ot+4]=An-xr;var St=.707106781*(In+Wn);Ye[ot+2]=Wn+St,Ye[ot+6]=Wn-St;var Zt=.382683433*((An=ss+wi)-(In=un+Qt)),qi=.5411961*An+Zt,Xn=1.306562965*In+Zt,br=.707106781*(xr=wi+un),_i=Qt+br,ct=Qt-br;Ye[ot+5]=ct+qi,Ye[ot+3]=ct-qi,Ye[ot+1]=_i+Xn,Ye[ot+7]=_i-Xn,ot+=8}for(ot=0,It=0;It<8;++It){tt=Ye[ot],st=Ye[ot+8],vt=Ye[ot+16],Ct=Ye[ot+24],Mt=Ye[ot+32],_t=Ye[ot+40],At=Ye[ot+48];var Vr=tt+(Kt=Ye[ot+56]),rr=tt-Kt,ir=st+At,Rn=st-At,Ln=vt+_t,Mn=vt-_t,Ys=Ct+Mt,Ts=Ct-Mt,Br=Vr+Ys,xi=Vr-Ys,Zn=ir+Ln,Ur=ir-Ln;Ye[ot]=Br+Zn,Ye[ot+32]=Br-Zn;var Gn=.707106781*(Ur+xi);Ye[ot+16]=xi+Gn,Ye[ot+48]=xi-Gn;var Hi=.382683433*((Br=Ts+Mn)-(Ur=Rn+rr)),Ps=.5411961*Br+Hi,ks=1.306562965*Ur+Hi,Cs=.707106781*(Zn=Mn+Rn),Js=rr+Cs,So=rr-Cs;Ye[ot+40]=So+Ps,Ye[ot+24]=So-Ps,Ye[ot+8]=Js+ks,Ye[ot+56]=Js-ks,ot++}for(It=0;It<64;++It)Bt=Ye[It]*Xe[It],y[It]=Bt>0?Bt+.5|0:Bt-.5|0;return y}(k,K),We=0;We<64;++We)L[W[We]]=qe[We];var it=L[0]-X;X=L[0],it==0?Pe(te[0]):(Pe(te[x[we=32767+it]]),Pe(b[we]));for(var et=63;et>0&&L[et]==0;)et--;if(et==0)return Pe(xe),X;for(var xt,Fe=1;Fe<=et;){for(var ie=Fe;L[Fe]==0&&Fe<=et;)++Fe;var Lt=Fe-ie;if(Lt>=16){xt=Lt>>4;for(var pt=1;pt<=xt;++pt)Pe(Ne);Lt&=15}we=32767+L[Fe],Pe(ae[(Lt<<4)+x[we]]),Pe(b[we]),Fe++}return et!=63&&Pe(xe),X}function re(k){k=Math.min(Math.max(k,1),100),o!=k&&(function(K){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ae=l((X[te]*K+50)/100);ae=Math.min(Math.max(ae,1),255),c[W[te]]=ae}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Ne=l((we[xe]*K+50)/100);Ne=Math.min(Math.max(Ne,1),255),d[W[xe]]=Ne}for(var qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,it=0;it<8;it++)for(var et=0;et<8;et++)g[We]=1/(c[W[We]]*qe[it]*qe[et]*8),w[We]=1/(d[W[We]]*qe[it]*qe[et]*8),We++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,K){K&&re(K),O=new Array,C=0,V=7,_e(65496),_e(65504),_e(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),_e(1),_e(1),se(0),se(0),function(){_e(65499),_e(132),se(0);for(var st=0;st<64;st++)se(c[st]);se(1);for(var vt=0;vt<64;vt++)se(d[vt])}(),function(st,vt){_e(65472),_e(17),se(8),_e(vt),_e(st),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(k.width,k.height),function(){_e(65476),_e(418),se(0);for(var st=0;st<16;st++)se(R[st+1]);for(var vt=0;vt<=11;vt++)se(B[vt]);se(16);for(var Ct=0;Ct<16;Ct++)se(U[Ct+1]);for(var Mt=0;Mt<=161;Mt++)se(T[Mt]);se(1);for(var _t=0;_t<16;_t++)se(j[_t+1]);for(var At=0;At<=11;At++)se(D[At]);se(17);for(var Kt=0;Kt<16;Kt++)se(oe[Kt+1]);for(var It=0;It<=161;It++)se(Te[It])}(),_e(65498),_e(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var X=0,te=0,ae=0;C=0,V=7,this.encode.displayName="_encode_";for(var we,xe,Ne,qe,We,it,et,xt,Fe,ie=k.data,Lt=k.width,pt=k.height,Ye=4*Lt,Xe=0;Xe<pt;){for(we=0;we<Ye;){for(We=Ye*Xe+we,et=-1,xt=0,Fe=0;Fe<64;Fe++)it=We+(xt=Fe>>3)*Ye+(et=4*(7&Fe)),Xe+xt>=pt&&(it-=Ye*(Xe+1+xt-pt)),we+et>=Ye&&(it-=we+et-Ye+4),xe=ie[it++],Ne=ie[it++],qe=ie[it++],Y[Fe]=(Re[xe]+Re[Ne+256>>0]+Re[qe+512>>0]>>16)-128,Z[Fe]=(Re[xe+768>>0]+Re[Ne+1024>>0]+Re[qe+1280>>0]>>16)-128,ce[Fe]=(Re[xe+1280>>0]+Re[Ne+1536>>0]+Re[qe+1792>>0]>>16)-128;X=pe(Y,g,X,e,r),te=pe(Z,w,te,t,s),ae=pe(ce,w,ae,t,s),we+=32}Xe+=8}if(V>=0){var tt=[];tt[1]=V+1,tt[0]=(1<<V+1)-1,Pe(tt)}return _e(65497),new Uint8Array(O)},n=n||50,function(){for(var k=String.fromCharCode,K=0;K<256;K++)be[K]=k(K)}(),e=Ae(R,B),t=Ae(j,D),r=Ae(U,T),s=Ae(oe,Te),function(){for(var k=1,K=2,X=1;X<=15;X++){for(var te=k;te<K;te++)x[32767+te]=X,b[32767+te]=[],b[32767+te][1]=X,b[32767+te][0]=te;for(var ae=-(K-1);ae<=-k;ae++)x[32767+ae]=X,b[32767+ae]=[],b[32767+ae][1]=X,b[32767+ae][0]=K-1+ae;k<<=1,K<<=1}}(),function(){for(var k=0;k<256;k++)Re[k]=19595*k,Re[k+256>>0]=38470*k,Re[k+512>>0]=7471*k+32768,Re[k+768>>0]=-11059*k,Re[k+1024>>0]=-21709*k,Re[k+1280>>0]=32768*k+8421375,Re[k+1536>>0]=-27439*k,Re[k+1792>>0]=-5329*k}(),re(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f5(n){function e(R){if(!R)throw Error("assert :P")}function t(R,B,U){for(var T=0;4>T;T++)if(R[B+T]!=U.charCodeAt(T))return!0;return!1}function r(R,B,U,T,j){for(var D=0;D<j;D++)R[B+D]=U[T+D]}function s(R,B,U,T){for(var j=0;j<T;j++)R[B+j]=U}function o(R){return new Int32Array(R)}function l(R,B){for(var U=[],T=0;T<R;T++)U.push(new B);return U}function c(R,B){var U=[];return function T(j,D,oe){for(var Te=oe[D],Ae=0;Ae<Te&&(j.push(oe.length>D+1?[]:new B),!(oe.length<D+1));Ae++)T(j[Ae],D+1,oe)}(U,0,R),U}var d=function(){var R=this;function B(h,m){for(var S=1<<m-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function U(h,m,S,I,F){e(!(I%S));do h[m+(I-=S)]=F;while(0<I)}function T(h,m,S,I,F){if(e(2328>=F),512>=F)var z=o(512);else if((z=o(F))==null)return 0;return function(H,$,Q,J,ue,Se){var Ee,ve,ze=$,Oe=1<<Q,de=o(16),fe=o(16);for(e(ue!=0),e(J!=null),e(H!=null),e(0<Q),ve=0;ve<ue;++ve){if(15<J[ve])return 0;++de[J[ve]]}if(de[0]==ue)return 0;for(fe[1]=0,Ee=1;15>Ee;++Ee){if(de[Ee]>1<<Ee)return 0;fe[Ee+1]=fe[Ee]+de[Ee]}for(ve=0;ve<ue;++ve)Ee=J[ve],0<J[ve]&&(Se[fe[Ee]++]=ve);if(fe[15]==1)return(J=new j).g=0,J.value=Se[0],U(H,ze,1,Oe,J),Oe;var Ve,Me=-1,Be=Oe-1,ut=0,rt=1,bt=1,at=1<<Q;for(ve=0,Ee=1,ue=2;Ee<=Q;++Ee,ue<<=1){if(rt+=bt<<=1,0>(bt-=de[Ee]))return 0;for(;0<de[Ee];--de[Ee])(J=new j).g=Ee,J.value=Se[ve++],U(H,ze+ut,ue,at,J),ut=B(ut,Ee)}for(Ee=Q+1,ue=2;15>=Ee;++Ee,ue<<=1){if(rt+=bt<<=1,0>(bt-=de[Ee]))return 0;for(;0<de[Ee];--de[Ee]){if(J=new j,(ut&Be)!=Me){for(ze+=at,Ve=1<<(Me=Ee)-Q;15>Me&&!(0>=(Ve-=de[Me]));)++Me,Ve<<=1;Oe+=at=1<<(Ve=Me-Q),H[$+(Me=ut&Be)].g=Ve+Q,H[$+Me].value=ze-$-Me}J.g=Ee-Q,J.value=Se[ve++],U(H,ze+(ut>>Q),ue,at,J),ut=B(ut,Ee)}}return rt!=2*fe[15]-1?0:Oe}(h,m,S,I,F,z)}function j(){this.value=this.g=0}function D(){this.value=this.g=0}function oe(){this.G=l(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Yn,D)}function Te(h,m,S,I){e(h!=null),e(m!=null),e(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=S,h.Jd=m,h.Yc=S+I,h.Zc=4<=I?S+I-4+1:S,we(h)}function Ae(h,m){for(var S=0;0<m--;)S|=Ne(h,128)<<m;return S}function Pe(h,m){var S=Ae(h,m);return xe(h)?-S:S}function se(h,m,S,I){var F,z=0;for(e(h!=null),e(m!=null),e(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),F=0;F<I;++F)z+=m[S+F]<<8*F;h.Ra=z,h.bb=I,h.oa=m,h.pa=S}function _e(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ll-8>>>0,++h.bb,h.u-=8;X(h)&&(h.h=1,h.u=0)}function pe(h,m){if(e(0<=m),!h.h&&m<=Rl){var S=K(h)&Cl[m];return h.u+=m,_e(h),S}return h.h=1,h.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(h){return h.Ra>>>(h.u&Ll-1)>>>0}function X(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ll}function te(h,m){h.u=m,h.h=X(h)}function ae(h){h.u>=jl&&(e(h.u>=jl),_e(h))}function we(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function xe(h){return Ae(h,1)}function Ne(h,m){var S=h.Ca;0>h.b&&we(h);var I=h.b,F=S*m>>>8,z=(h.I>>>I>F)+0;for(z?(S-=F,h.I-=F+1<<I>>>0):S=F+1,I=S,F=0;256<=I;)F+=8,I>>=8;return I=7^F+oi[I],h.b-=I,h.Ca=(S<<I)-1,z}function qe(h,m,S){h[m+0]=S>>24&255,h[m+1]=S>>16&255,h[m+2]=S>>8&255,h[m+3]=S>>0&255}function We(h,m){return h[m+0]<<0|h[m+1]<<8}function it(h,m){return We(h,m)|h[m+2]<<16}function et(h,m){return We(h,m)|We(h,m+2)<<16}function xt(h,m){var S=1<<m;return e(h!=null),e(0<m),h.X=o(S),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Fe(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Lt(h,m,S,I){e(S!=null),e(I!=null);var F=S[0],z=I[0];return F==0&&(F=(h*z+m/2)/m),z==0&&(z=(m*F+h/2)/h),0>=F||0>=z?0:(S[0]=F,I[0]=z,1)}function pt(h,m){return h+(1<<m)-1>>>m}function Ye(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Xe(h,m){R[m]=function(S,I,F,z,H,$,Q){var J;for(J=0;J<H;++J){var ue=R[h]($[Q+J-1],F,z+J);$[Q+J]=Ye(S[I+J],ue)}}}function tt(){this.ud=this.hd=this.jd=0}function st(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function vt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ct(h,m){return vt(h+(h-m+.5>>1))}function Mt(h,m,S){return Math.abs(m-S)-Math.abs(h-S)}function _t(h,m,S,I,F,z,H){for(I=z[H-1],S=0;S<F;++S)z[H+S]=I=Ye(h[m+S],I)}function At(h,m,S,I,F){var z;for(z=0;z<S;++z){var H=h[m+z],$=H>>8&255,Q=16711935&(Q=(Q=16711935&H)+(($<<16)+$));I[F+z]=(4278255360&H)+Q>>>0}}function Kt(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function It(h,m,S,I,F,z){var H;for(H=0;H<I;++H){var $=m[S+H],Q=$>>>8,J=$,ue=255&(ue=(ue=$>>>16)+((h.jd<<24>>24)*(Q<<24>>24)>>>5));J=255&(J=(J=J+((h.hd<<24>>24)*(Q<<24>>24)>>>5))+((h.ud<<24>>24)*(ue<<24>>24)>>>5)),F[z+H]=(4278255360&$)+(ue<<16)+J}}function Bt(h,m,S,I,F){R[m]=function(z,H,$,Q,J,ue,Se,Ee,ve){for(Q=Se;Q<Ee;++Q)for(Se=0;Se<ve;++Se)J[ue++]=F($[I(z[H++])])},R[h]=function(z,H,$,Q,J,ue,Se){var Ee=8>>z.b,ve=z.Ea,ze=z.K[0],Oe=z.w;if(8>Ee)for(z=(1<<z.b)-1,Oe=(1<<Ee)-1;H<$;++H){var de,fe=0;for(de=0;de<ve;++de)de&z||(fe=I(Q[J++])),ue[Se++]=F(ze[fe&Oe]),fe>>=Ee}else R["VP8LMapColor"+S](Q,J,ze,Oe,ue,Se,H,$,ve)}}function ot(h,m,S,I,F){for(S=m+S;m<S;){var z=h[m++];I[F++]=z>>16&255,I[F++]=z>>8&255,I[F++]=z>>0&255}}function $n(h,m,S,I,F){for(S=m+S;m<S;){var z=h[m++];I[F++]=z>>16&255,I[F++]=z>>8&255,I[F++]=z>>0&255,I[F++]=z>>24&255}}function Qt(h,m,S,I,F){for(S=m+S;m<S;){var z=(H=h[m++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;I[F++]=z,I[F++]=H}}function ti(h,m,S,I,F){for(S=m+S;m<S;){var z=(H=h[m++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;I[F++]=z,I[F++]=H}}function un(h,m,S,I,F){for(S=m+S;m<S;){var z=h[m++];I[F++]=z>>0&255,I[F++]=z>>8&255,I[F++]=z>>16&255}}function bn(h,m,S,I,F,z){if(z==0)for(S=m+S;m<S;)qe(I,((z=h[m++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),F+=32;else r(I,F,h,m,S)}function wi(h,m){R[m][0]=R[h+"0"],R[m][1]=R[h+"1"],R[m][2]=R[h+"2"],R[m][3]=R[h+"3"],R[m][4]=R[h+"4"],R[m][5]=R[h+"5"],R[m][6]=R[h+"6"],R[m][7]=R[h+"7"],R[m][8]=R[h+"8"],R[m][9]=R[h+"9"],R[m][10]=R[h+"10"],R[m][11]=R[h+"11"],R[m][12]=R[h+"12"],R[m][13]=R[h+"13"],R[m][14]=R[h+"0"],R[m][15]=R[h+"0"]}function Yt(h){return h==Bl||h==el||h==Vu||h==Bu}function ss(){this.eb=[],this.size=this.A=this.fb=0}function An(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ss,this.f.kb=new An,this.sd=null}function xr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Zt(h,m){var S=h.T,I=m.ba.f.RGBA,F=I.eb,z=I.fb+h.ka*I.A,H=Ii[m.ba.S],$=h.y,Q=h.O,J=h.f,ue=h.N,Se=h.ea,Ee=h.W,ve=m.cc,ze=m.dc,Oe=m.Mc,de=m.Nc,fe=h.ka,Ve=h.ka+h.T,Me=h.U,Be=Me+1>>1;for(fe==0?H($,Q,null,null,J,ue,Se,Ee,J,ue,Se,Ee,F,z,null,null,Me):(H(m.ec,m.fc,$,Q,ve,ze,Oe,de,J,ue,Se,Ee,F,z-I.A,F,z,Me),++S);fe+2<Ve;fe+=2)ve=J,ze=ue,Oe=Se,de=Ee,ue+=h.Rc,Ee+=h.Rc,z+=2*I.A,H($,(Q+=2*h.fa)-h.fa,$,Q,ve,ze,Oe,de,J,ue,Se,Ee,F,z-I.A,F,z,Me);return Q+=h.fa,h.j+Ve<h.o?(r(m.ec,m.fc,$,Q,Me),r(m.cc,m.dc,J,ue,Be),r(m.Mc,m.Nc,Se,Ee,Be),S--):1&Ve||H($,Q,null,null,J,ue,Se,Ee,J,ue,Se,Ee,F,z+I.A,null,null,Me),S}function qi(h,m,S){var I=h.F,F=[h.J];if(I!=null){var z=h.U,H=m.ba.S,$=H==Mu||H==Vu;m=m.ba.f.RGBA;var Q=[0],J=h.ka;Q[0]=h.T,h.Kb&&(J==0?--Q[0]:(--J,F[0]-=h.width),h.j+h.ka+h.T==h.o&&(Q[0]=h.o-h.j-J));var ue=m.eb;J=m.fb+J*m.A,h=wn(I,F[0],h.width,z,Q,ue,J+($?0:3),m.A),e(S==Q),h&&Yt(H)&&Ei(ue,J,$,z,Q,m.A)}return 0}function Xn(h){var m=h.ma,S=m.ba.S,I=11>S,F=S==va||S==Fu||S==Mu||S==Pn||S==12||Yt(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Pl(m.Oa,h,F?11:12))return 0;if(F&&Yt(S)&&$e(),h.da)alert("todo:use_scaling");else{if(I){if(m.Ib=St,h.Kb){if(S=h.U+1>>1,m.memory=o(h.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=Zt,$e()}}else alert("todo:EmitYUV");F&&(m.Jb=qi,I&&ye())}if(I&&!Or){for(h=0;256>h;++h)Ti[h]=89858*(h-128)+Us>>Bo,Pi[h]=-22014*(h-128)+Us,Hl[h]=-45773*(h-128),il[h]=113618*(h-128)+Us>>Bo;for(h=_n;h<Sn;++h)m=76283*(h-16)+Us>>Bo,Ac[h-_n]=fn(m,255),Od[h-_n]=fn(m+8>>4,15);Or=1}return 1}function br(h){var m=h.ma,S=h.U,I=h.T;return e(!(1&h.ka)),0>=S||0>=I?0:(S=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,S),m.Dc+=S,1)}function _i(h){h.ma.memory=null}function ct(h,m,S,I){return pe(h,8)!=47?0:(m[0]=pe(h,14)+1,S[0]=pe(h,14)+1,I[0]=pe(h,1),pe(h,3)!=0?0:!h.h)}function Vr(h,m){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+pe(m,S)+1}function rr(h,m){return 120<m?m-120:1<=(S=((S=zp[m-1])>>4)*h+(8-(15&S)))?S:1;var S}function ir(h,m,S){var I=K(S),F=h[m+=255&I].g-8;return 0<F&&(te(S,S.u+8),I=K(S),m+=h[m].value,m+=I&(1<<F)-1),te(S,S.u+h[m].g),h[m].value}function Rn(h,m,S){return S.g+=h.g,S.value+=h.value<<m>>>0,e(8>=S.g),h.g}function Ln(h,m,S){var I=h.xc;return e((m=I==0?0:h.vc[h.md*(S>>I)+(m>>I)])<h.Wb),h.Ya[m]}function Mn(h,m,S,I){var F=h.ab,z=h.c*m,H=h.C;m=H+m;var $=S,Q=I;for(I=h.Ta,S=h.Ua;0<F--;){var J=h.gc[F],ue=H,Se=m,Ee=$,ve=Q,ze=(Q=I,$=S,J.Ea);switch(e(ue<Se),e(Se<=J.nc),J.hc){case 2:xc(Ee,ve,(Se-ue)*ze,Q,$);break;case 0:var Oe=ue,de=Se,fe=Q,Ve=$,Me=(at=J).Ea;Oe==0&&(Ka(Ee,ve,null,null,1,fe,Ve),_t(Ee,ve+1,0,0,Me-1,fe,Ve+1),ve+=Me,Ve+=Me,++Oe);for(var Be=1<<at.b,ut=Be-1,rt=pt(Me,at.b),bt=at.K,at=at.w+(Oe>>at.b)*rt;Oe<de;){var sn=bt,on=at,en=1;for(Ro(Ee,ve,fe,Ve-Me,1,fe,Ve);en<Me;){var $t=(en&~ut)+Be;$t>Me&&($t=Me),(0,uo[sn[on++]>>8&15])(Ee,ve+ +en,fe,Ve+en-Me,$t-en,fe,Ve+en),en=$t}ve+=Me,Ve+=Me,++Oe&ut||(at+=rt)}Se!=J.nc&&r(Q,$-ze,Q,$+(Se-ue-1)*ze,ze);break;case 1:for(ze=Ee,de=ve,Me=(Ee=J.Ea)-(Ve=Ee&~(fe=(ve=1<<J.b)-1)),Oe=pt(Ee,J.b),Be=J.K,J=J.w+(ue>>J.b)*Oe;ue<Se;){for(ut=Be,rt=J,bt=new tt,at=de+Ve,sn=de+Ee;de<at;)Kt(ut[rt++],bt),pa(bt,ze,de,ve,Q,$),de+=ve,$+=ve;de<sn&&(Kt(ut[rt++],bt),pa(bt,ze,de,Me,Q,$),de+=Me,$+=Me),++ue&fe||(J+=Oe)}break;case 3:if(Ee==Q&&ve==$&&0<J.b){for(de=Q,Ee=ze=$+(Se-ue)*ze-(Ve=(Se-ue)*pt(J.Ea,J.b)),ve=Q,fe=$,Oe=[],Ve=(Me=Ve)-1;0<=Ve;--Ve)Oe[Ve]=ve[fe+Ve];for(Ve=Me-1;0<=Ve;--Ve)de[Ee+Ve]=Oe[Ve];ai(J,ue,Se,Q,ze,Q,$)}else ai(J,ue,Se,Ee,ve,Q,$)}$=I,Q=S}Q!=S&&r(I,S,$,Q,z)}function Ys(h,m){var S=h.V,I=h.Ba+h.c*h.C,F=m-h.C;if(e(m<=h.l.o),e(16>=F),0<F){var z=h.l,H=h.Ta,$=h.Ua,Q=z.width;if(Mn(h,F,S,I),F=$=[$],e((S=h.C)<(I=m)),e(z.v<z.va),I>z.o&&(I=z.o),S<z.j){var J=z.j-S;S=z.j,F[0]+=J*Q}if(S>=I?S=0:(F[0]+=4*z.v,z.ka=S-z.j,z.U=z.va-z.v,z.T=I-S,S=1),S){if($=$[0],11>(S=h.ca).S){var ue=S.f.RGBA,Se=(I=S.S,F=z.U,z=z.T,J=ue.eb,ue.A),Ee=z;for(ue=ue.fb+h.Ma*ue.A;0<Ee--;){var ve=H,ze=$,Oe=F,de=J,fe=ue;switch(I){case bc:li(ve,ze,Oe,de,fe);break;case va:$r(ve,ze,Oe,de,fe);break;case Bl:$r(ve,ze,Oe,de,fe),Ei(de,fe,0,Oe,1,0);break;case kd:jo(ve,ze,Oe,de,fe);break;case Fu:bn(ve,ze,Oe,de,fe,1);break;case el:bn(ve,ze,Oe,de,fe,1),Ei(de,fe,0,Oe,1,0);break;case Mu:bn(ve,ze,Oe,de,fe,0);break;case Vu:bn(ve,ze,Oe,de,fe,0),Ei(de,fe,1,Oe,1,0);break;case Pn:ma(ve,ze,Oe,de,fe);break;case Bu:ma(ve,ze,Oe,de,fe),Tn(de,fe,Oe,1,0);break;case Nc:Lo(ve,ze,Oe,de,fe);break;default:e(0)}$+=Q,ue+=Se}h.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=S.height)}}h.C=m,e(h.C<=h.i)}function Ts(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var S=h.Ya[m].G,I=h.Ya[m].H;if(0<S[1][I[1]+0].g||0<S[2][I[2]+0].g||0<S[3][I[3]+0].g)return 0}return 1}function Br(h,m,S,I,F,z){if(h.Z!=0){var H=h.qd,$=h.rd;for(e(Gr[h.Z]!=null);m<S;++m)Gr[h.Z](H,$,I,F,I,F,z),H=I,$=F,F+=z;h.qd=H,h.rd=$}}function xi(h,m){var S=h.l.ma,I=S.Z==0||S.Z==1?h.l.j:h.C;if(I=h.C<I?I:h.C,e(m<=h.l.o),m>I){var F=h.l.width,z=S.ca,H=S.tb+F*I,$=h.V,Q=h.Ba+h.c*I,J=h.gc;e(h.ab==1),e(J[0].hc==3),ju(J[0],I,m,$,Q,z,H),Br(S,I,m,z,H,F)}h.C=h.Ma=m}function Zn(h,m,S,I,F,z,H){var $=h.$/I,Q=h.$%I,J=h.m,ue=h.s,Se=S+h.$,Ee=Se;F=S+I*F;var ve=S+I*z,ze=280+ue.ua,Oe=h.Pb?$:16777216,de=0<ue.ua?ue.Wa:null,fe=ue.wc,Ve=Se<ve?Ln(ue,Q,$):null;e(h.C<z),e(ve<=F);var Me=!1;e:for(;;){for(;Me||Se<ve;){var Be=0;if($>=Oe){var ut=Se-S;e((Oe=h).Pb),Oe.wd=Oe.m,Oe.xd=ut,0<Oe.s.ua&&Fe(Oe.s.Wa,Oe.s.vb),Oe=$+Ec}if(Q&fe||(Ve=Ln(ue,Q,$)),e(Ve!=null),Ve.Qb&&(m[Se]=Ve.qb,Me=!0),!Me)if(ae(J),Ve.jc){Be=J,ut=m;var rt=Se,bt=Ve.pd[K(Be)&Yn-1];e(Ve.jc),256>bt.g?(te(Be,Be.u+bt.g),ut[rt]=bt.value,Be=0):(te(Be,Be.u+bt.g-256),e(256<=bt.value),Be=bt.value),Be==0&&(Me=!0)}else Be=ir(Ve.G[0],Ve.H[0],J);if(J.h)break;if(Me||256>Be){if(!Me)if(Ve.nd)m[Se]=(Ve.qb|Be<<8)>>>0;else{if(ae(J),Me=ir(Ve.G[1],Ve.H[1],J),ae(J),ut=ir(Ve.G[2],Ve.H[2],J),rt=ir(Ve.G[3],Ve.H[3],J),J.h)break;m[Se]=(rt<<24|Me<<16|Be<<8|ut)>>>0}if(Me=!1,++Se,++Q>=I&&(Q=0,++$,H!=null&&$<=z&&!($%16)&&H(h,$),de!=null))for(;Ee<Se;)Be=m[Ee++],de.X[(506832829*Be&4294967295)>>>de.Mb]=Be}else if(280>Be){if(Be=Vr(Be-256,J),ut=ir(Ve.G[4],Ve.H[4],J),ae(J),ut=rr(I,ut=Vr(ut,J)),J.h)break;if(Se-S<ut||F-Se<Be)break e;for(rt=0;rt<Be;++rt)m[Se+rt]=m[Se+rt-ut];for(Se+=Be,Q+=Be;Q>=I;)Q-=I,++$,H!=null&&$<=z&&!($%16)&&H(h,$);if(e(Se<=F),Q&fe&&(Ve=Ln(ue,Q,$)),de!=null)for(;Ee<Se;)Be=m[Ee++],de.X[(506832829*Be&4294967295)>>>de.Mb]=Be}else{if(!(Be<ze))break e;for(Me=Be-280,e(de!=null);Ee<Se;)Be=m[Ee++],de.X[(506832829*Be&4294967295)>>>de.Mb]=Be;Be=Se,e(!(Me>>>(ut=de).Xa)),m[Be]=ut.X[Me],Me=!0}Me||e(J.h==X(J))}if(h.Pb&&J.h&&Se<F)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Fe(h.s.vb,h.s.Wa);else{if(J.h)break e;H?.(h,$>z?z:$),h.a=0,h.$=Se-S}return 1}return h.a=3,0}function Ur(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Gn(){var h=new Tl;return h==null?null:(h.a=0,h.xb=zl,wi("Predictor","VP8LPredictors"),wi("Predictor","VP8LPredictors_C"),wi("PredictorAdd","VP8LPredictorsAdd"),wi("PredictorAdd","VP8LPredictorsAdd_C"),xc=At,pa=It,li=ot,$r=$n,ma=Qt,Lo=ti,jo=un,R.VP8LMapColor32b=Ol,R.VP8LMapColor8b=Dl,h)}function Hi(h,m,S,I,F){var z=1,H=[h],$=[m],Q=I.m,J=I.s,ue=null,Se=0;e:for(;;){if(S)for(;z&&pe(Q,1);){var Ee=H,ve=$,ze=I,Oe=1,de=ze.m,fe=ze.gc[ze.ab],Ve=pe(de,2);if(ze.Oc&1<<Ve)z=0;else{switch(ze.Oc|=1<<Ve,fe.hc=Ve,fe.Ea=Ee[0],fe.nc=ve[0],fe.K=[null],++ze.ab,e(4>=ze.ab),Ve){case 0:case 1:fe.b=pe(de,3)+2,Oe=Hi(pt(fe.Ea,fe.b),pt(fe.nc,fe.b),0,ze,fe.K),fe.K=fe.K[0];break;case 3:var Me,Be=pe(de,8)+1,ut=16<Be?0:4<Be?1:2<Be?2:3;if(Ee[0]=pt(fe.Ea,ut),fe.b=ut,Me=Oe=Hi(Be,1,0,ze,fe.K)){var rt,bt=Be,at=fe,sn=1<<(8>>at.b),on=o(sn);if(on==null)Me=0;else{var en=at.K[0],$t=at.w;for(on[0]=at.K[0][0],rt=1;rt<1*bt;++rt)on[rt]=Ye(en[$t+rt],on[rt-1]);for(;rt<4*sn;++rt)on[rt]=0;at.K[0]=null,at.K[0]=on,Me=1}}Oe=Me;break;case 2:break;default:e(0)}z=Oe}}if(H=H[0],$=$[0],z&&pe(Q,1)&&!(z=1<=(Se=pe(Q,4))&&11>=Se)){I.a=3;break e}var xn;if(xn=z)t:{var En,Ft,Bn,hi=I,er=H,dr=$,pn=Se,Kr=S,Qr=hi.m,Un=hi.s,fr=[null],Dr=1,ki=0,gs=Rd[pn];n:for(;;){if(Kr&&pe(Qr,1)){var zn=pe(Qr,3)+2,ar=pt(er,zn),Xi=pt(dr,zn),_a=ar*Xi;if(!Hi(ar,Xi,0,hi,fr))break n;for(fr=fr[0],Un.xc=zn,En=0;En<_a;++En){var zo=fr[En]>>8&65535;fr[En]=zo,zo>=Dr&&(Dr=zo+1)}}if(Qr.h)break n;for(Ft=0;5>Ft;++Ft){var mn=tl[Ft];!Ft&&0<pn&&(mn+=1<<pn),ki<mn&&(ki=mn)}var mo=l(Dr*gs,j),Ic=Dr,Ah=l(Ic,oe);if(Ah==null)var vs=null;else e(65536>=Ic),vs=Ah;var ys=o(ki);if(vs==null||ys==null||mo==null){hi.a=1;break n}var ol=mo;for(En=Bn=0;En<Dr;++En){var ws=vs[En],qo=ws.G,al=ws.H,$l=0,Zi=1,Wl=0;for(Ft=0;5>Ft;++Ft){mn=tl[Ft],qo[Ft]=ol,al[Ft]=Bn,!Ft&&0<pn&&(mn+=1<<pn);i:{var xa,Ho=mn,Gl=hi,go=ys,Fd=ol,Ih=Bn,On=0,zs=Gl.m,Th=pe(zs,1);if(s(go,0,0,Ho),Th){var Ph=pe(zs,1)+1,Tc=pe(zs,1),Pc=pe(zs,Tc==0?1:8);go[Pc]=1,Ph==2&&(go[Pc=pe(zs,8)]=1);var vo=1}else{var Fn=o(19),lr=pe(zs,4)+4;if(19<lr){Gl.a=3;var tr=0;break i}for(xa=0;xa<lr;++xa)Fn[Up[xa]]=pe(zs,3);var Kl=void 0,$o=void 0,Ql=Gl,Gp=Fn,pr=Ho,kc=go,$u=0,yo=Ql.m,qs=8,es=l(128,j);r:for(;T(es,0,7,Gp,19);){if(pe(yo,1)){var Wu=2+2*pe(yo,3);if((Kl=2+pe(yo,Wu))>pr)break r}else Kl=pr;for($o=0;$o<pr&&Kl--;){ae(yo);var Cc=es[0+(127&K(yo))];te(yo,yo.u+Cc.g);var ba=Cc.value;if(16>ba)kc[$o++]=ba,ba!=0&&(qs=ba);else{var Md=ba==16,kh=ba-16,Vd=Sc[kh],Ch=pe(yo,Uu[kh])+Vd;if($o+Ch>pr)break r;for(var Bd=Md?qs:0;0<Ch--;)kc[$o++]=Bd}}$u=1;break r}$u||(Ql.a=3),vo=$u}(vo=vo&&!zs.h)&&(On=T(Fd,Ih,8,go,Ho)),vo&&On!=0?tr=On:(Gl.a=3,tr=0)}if(tr==0)break n;if(Zi&&Cd[Ft]==1&&(Zi=ol[Bn].g==0),$l+=ol[Bn].g,Bn+=tr,3>=Ft){var Yl,Rc=ys[0];for(Yl=1;Yl<mn;++Yl)ys[Yl]>Rc&&(Rc=ys[Yl]);Wl+=Rc}}if(ws.nd=Zi,ws.Qb=0,Zi&&(ws.qb=(qo[3][al[3]+0].value<<24|qo[1][al[1]+0].value<<16|qo[2][al[2]+0].value)>>>0,$l==0&&256>qo[0][al[0]+0].value&&(ws.Qb=1,ws.qb+=qo[0][al[0]+0].value<<8)),ws.jc=!ws.Qb&&6>Wl,ws.jc){var Gu,ts=ws;for(Gu=0;Gu<Yn;++Gu){var Wo=Gu,Hs=ts.pd[Wo],ll=ts.G[0][ts.H[0]+Wo];256<=ll.value?(Hs.g=ll.g+256,Hs.value=ll.value):(Hs.g=0,Hs.value=0,Wo>>=Rn(ll,8,Hs),Wo>>=Rn(ts.G[1][ts.H[1]+Wo],16,Hs),Wo>>=Rn(ts.G[2][ts.H[2]+Wo],0,Hs),Rn(ts.G[3][ts.H[3]+Wo],24,Hs))}}}Un.vc=fr,Un.Wb=Dr,Un.Ya=vs,Un.yc=mo,xn=1;break t}xn=0}if(!(z=xn)){I.a=3;break e}if(0<Se){if(J.ua=1<<Se,!xt(J.Wa,Se)){I.a=1,z=0;break e}}else J.ua=0;var Lc=I,jc=H,Ud=$,Oc=Lc.s,Dc=Oc.xc;if(Lc.c=jc,Lc.i=Ud,Oc.md=pt(jc,Dc),Oc.wc=Dc==0?-1:(1<<Dc)-1,S){I.xb=po;break e}if((ue=o(H*$))==null){I.a=1,z=0;break e}z=(z=Zn(I,ue,0,H,$,$,null))&&!Q.h;break e}return z?(F!=null?F[0]=ue:(e(ue==null),e(S)),I.$=0,S||Ur(J)):Ur(J),z}function Ps(h,m){var S=h.c*h.i,I=S+m+16*m;return e(h.c<=m),h.V=o(I),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+m,1)}function ks(h,m){var S=h.C,I=m-S,F=h.V,z=h.Ba+h.c*S;for(e(m<=h.l.o);0<I;){var H=16<I?16:I,$=h.l.ma,Q=h.l.width,J=Q*H,ue=$.ca,Se=$.tb+Q*S,Ee=h.Ta,ve=h.Ua;Mn(h,H,F,z),Jn(Ee,ve,ue,Se,J),Br($,S,S+H,ue,Se,Q),I-=H,F+=H*h.c,S+=H}e(S==m),h.C=h.Ma=m}function Cs(){this.ub=this.yd=this.td=this.Rb=0}function Js(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function So(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function bl(){this.Yb=function(){var h=[];return function m(S,I,F){for(var z=F[I],H=0;H<z&&(S.push(F.length>I+1?[]:0),!(F.length<I+1));H++)m(S[H],I+1,F)}(h,0,[3,11]),h}()}function Nn(){this.jb=o(3),this.Wc=c([4,8],bl),this.Xc=c([4,17],bl)}function Nl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function os(){this.ld=this.La=this.dd=this.tc=0}function Rs(){this.Na=this.la=0}function bi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Eo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sl(){this.uc=this.M=this.Nb=0,this.wa=Array(new os),this.Y=0,this.ya=Array(new Eo),this.aa=0,this.l=new Ao}function Xs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ni(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new Cs,this.Kc=new Js,this.ed=new Nl,this.Qa=new So,this.Ic=this.$c=this.Aa=0,this.D=new Sl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,re),this.ia=0,this.pb=l(4,bi),this.Pa=new Nn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xs),this.Hd=0,this.rb=Array(new Rs),this.sb=0,this.wa=Array(new os),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Eo),this.L=this.aa=0,this.gd=c([4,2],os),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ao(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tr(){var h=new ni;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,nl||(nl=Io)),h}function jn(h,m,S){return h.a==0&&(h.a=m,h.sc=S,h.cb=0),0}function Ua(h,m,S){return 3<=S&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function za(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return jn(h,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,I=m.w,F=m.ha;if(4>F)return jn(h,7,"Truncated header.");var z=S[I+0]|S[I+1]<<8|S[I+2]<<16,H=h.Od;if(H.Rb=!(1&z),H.td=z>>1&7,H.yd=z>>4&1,H.ub=z>>5,3<H.td)return jn(h,3,"Incorrect keyframe parameters.");if(!H.yd)return jn(h,4,"Frame not displayable.");I+=3,F-=3;var $=h.Kc;if(H.Rb){if(7>F)return jn(h,7,"cannot parse picture header");if(!Ua(S,I,F))return jn(h,3,"Bad code word");$.c=16383&(S[I+4]<<8|S[I+3]),$.Td=S[I+4]>>6,$.i=16383&(S[I+6]<<8|S[I+5]),$.Ud=S[I+6]>>6,I+=7,F-=7,h.za=$.c+15>>4,h.Ub=$.i+15>>4,m.width=$.c,m.height=$.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,s((z=h.Pa).jb,0,255,z.jb.length),e((z=h.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(H.ub>F)return jn(h,7,"bad partition length");Te(z=h.m,S,I,H.ub),I+=H.ub,F-=H.ub,H.Rb&&($.Ld=xe(z),$.Kd=xe(z)),$=h.Qa;var Q,J=h.Pa;if(e(z!=null),e($!=null),$.Cb=xe(z),$.Cb){if($.Bb=xe(z),xe(z)){for($.Fb=xe(z),Q=0;4>Q;++Q)$.Zb[Q]=xe(z)?Pe(z,7):0;for(Q=0;4>Q;++Q)$.Lb[Q]=xe(z)?Pe(z,6):0}if($.Bb)for(Q=0;3>Q;++Q)J.jb[Q]=xe(z)?Ae(z,8):255}else $.Bb=0;if(z.Ka)return jn(h,3,"cannot parse segment header");if(($=h.ed).zd=xe(z),$.Tb=Ae(z,6),$.wb=Ae(z,3),$.Pc=xe(z),$.Pc&&xe(z)){for(J=0;4>J;++J)xe(z)&&($.vd[J]=Pe(z,6));for(J=0;4>J;++J)xe(z)&&($.od[J]=Pe(z,6))}if(h.L=$.Tb==0?0:$.zd?1:2,z.Ka)return jn(h,3,"cannot parse filter header");var ue=F;if(F=Q=I,I=Q+ue,$=ue,h.Xb=(1<<Ae(h.m,2))-1,ue<3*(J=h.Xb))S=7;else{for(Q+=3*J,$-=3*J,ue=0;ue<J;++ue){var Se=S[F+0]|S[F+1]<<8|S[F+2]<<16;Se>$&&(Se=$),Te(h.Jc[+ue],S,Q,Se),Q+=Se,$-=Se,F+=3}Te(h.Jc[+J],S,Q,$),S=Q<I?0:5}if(S!=0)return jn(h,S,"cannot parse partitions");for(S=Ae(Q=h.m,7),F=xe(Q)?Pe(Q,4):0,I=xe(Q)?Pe(Q,4):0,$=xe(Q)?Pe(Q,4):0,J=xe(Q)?Pe(Q,4):0,Q=xe(Q)?Pe(Q,4):0,ue=h.Qa,Se=0;4>Se;++Se){if(ue.Cb){var Ee=ue.Zb[Se];ue.Fb||(Ee+=S)}else{if(0<Se){h.pb[Se]=h.pb[0];continue}Ee=S}var ve=h.pb[Se];ve.Sc[0]=Ul[fn(Ee+F,127)],ve.Sc[1]=zu[fn(Ee+0,127)],ve.Eb[0]=2*Ul[fn(Ee+I,127)],ve.Eb[1]=101581*zu[fn(Ee+$,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Ul[fn(Ee+J,117)],ve.Qc[1]=zu[fn(Ee+Q,127)],ve.lc=Ee+Q}if(!H.Rb)return jn(h,4,"Not a key frame.");for(xe(z),H=h.Pa,S=0;4>S;++S){for(F=0;8>F;++F)for(I=0;3>I;++I)for($=0;11>$;++$)J=Ne(z,Hp[S][F][I][$])?Ae(z,8):jd[S][F][I][$],H.Wc[S][F].Yb[I][$]=J;for(F=0;17>F;++F)H.Xc[S][F]=H.Wc[S][Nh[F]]}return h.kc=xe(z),h.kc&&(h.Bd=Ae(z,8)),h.cb=1}function Io(h,m,S,I,F,z,H){var $=m[F].Yb[S];for(S=0;16>F;++F){if(!Ne(h,$[S+0]))return F;for(;!Ne(h,$[S+1]);)if($=m[++F].Yb[0],S=0,F==16)return 16;var Q=m[F+1].Yb;if(Ne(h,$[S+2])){var J=h,ue=0;if(Ne(J,(Ee=$)[(Se=S)+3]))if(Ne(J,Ee[Se+6])){for($=0,Se=2*(ue=Ne(J,Ee[Se+8]))+(Ee=Ne(J,Ee[Se+9+ue])),ue=0,Ee=xh[Se];Ee[$];++$)ue+=ue+Ne(J,Ee[$]);ue+=3+(8<<Se)}else Ne(J,Ee[Se+7])?(ue=7+2*Ne(J,165),ue+=Ne(J,145)):ue=5+Ne(J,159);else ue=Ne(J,Ee[Se+4])?3+Ne(J,Ee[Se+5]):2;$=Q[2]}else ue=1,$=Q[1];Q=H+bh[F],0>(J=h).b&&we(J);var Se,Ee=J.b,ve=(Se=J.Ca>>1)-(J.I>>Ee)>>31;--J.b,J.Ca+=ve,J.Ca|=1,J.I-=(Se+1&ve)<<Ee,z[Q]=((ue^ve)-ve)*I[(0<F)+0]}return 16}function Zs(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function eo(h,m){if(h==null)return 0;if(m==null)return jn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!za(h,m))return 0;if(e(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var S=sl[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-S>>4,h.zb=m.j-S>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+S>>4,h.Hb=m.va+15+S>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var I=h.ed;for(S=0;4>S;++S){var F;if(h.Qa.Cb){var z=h.Qa.Lb[S];h.Qa.Fb||(z+=I.Tb)}else z=I.Tb;for(F=0;1>=F;++F){var H=h.gd[S][F],$=z;if(I.Pc&&($+=I.vd[0],F&&($+=I.od[0])),0<($=0>$?0:63<$?63:$)){var Q=$;0<I.wb&&(Q=4<I.wb?Q>>2:Q>>1)>9-I.wb&&(Q=9-I.wb),1>Q&&(Q=1),H.dd=Q,H.tc=2*$+Q,H.ld=40<=$?2:15<=$?1:0}else H.tc=0;H.La=F}}}S=0}else jn(h,6,"Frame setup failed"),S=h.a;if(S=S==0){if(S){h.$c=0,0<h.Aa||(h.Ic=Uo);e:{S=h.Ic,I=4*(Q=h.za);var J=32*Q,ue=Q+1,Se=0<h.L?Q*(0<h.Aa?2:1):0,Ee=(h.Aa==2?2:1)*Q;if((H=I+832+(F=3*(16*S+sl[h.L])/2*J)+(z=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=H)S=0;else{if(H>h.Vb){if(h.Vb=0,h.Ec=o(H),h.Fc=0,h.Ec==null){S=jn(h,1,"no memory during frame initialization.");break e}h.Vb=H}H=h.Ec,$=h.Fc,h.Ac=H,h.Bc=$,$+=I,h.Gd=l(J,Xs),h.Hd=0,h.rb=l(ue+1,Rs),h.sb=1,h.wa=Se?l(Se,os):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=Q),e(!0),h.oc=H,h.pc=$,$+=832,h.ya=l(Ee,Eo),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=Q),h.R=16*Q,h.B=8*Q,Q=(J=sl[h.L])*h.R,J=J/2*h.B,h.sa=H,h.ta=$+Q,h.qa=h.sa,h.ra=h.ta+16*S*h.R+J,h.Ha=h.qa,h.Ia=h.ra+8*S*h.B+J,h.$c=0,$+=F,h.mb=z?H:null,h.nb=z?$:null,e($+z<=h.Fc+h.Vb),Zs(h),s(h.Ac,h.Bc,0,I),S=1}}if(S){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!Du){for(S=-255;255>=S;++S)or[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)ho[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)Ml[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Za[255+S]=0>S?0:255<S?255:S;Du=1}Fl=Wt,Oo=no,Do=Ls,Wr=vn,Yi=js,cn=to,Qa=Co,Ou=Vn,Ya=hs,Ja=Wa,Xa=Ki,Ji=Ds,Fo=ao,co=ds,Mo=qr,Vo=ii,ga=Qn,jr=$a,ms[0]=cs,ms[1]=El,ms[2]=Si,ms[3]=us,ms[4]=qa,ms[5]=la,ms[6]=Cr,ms[7]=ua,ms[8]=Po,ms[9]=Os,ci[0]=$i,ci[1]=Al,ci[2]=ls,ci[3]=To,ci[4]=rn,ci[5]=Wi,ci[6]=Ni,Ai[0]=zr,Ai[1]=aa,Ai[2]=Il,Ai[3]=ri,Ai[4]=dn,Ai[5]=io,Ai[6]=Ha,S=1}else S=0}S&&(S=function(ve,ze){for(ve.M=0;ve.M<ve.Va;++ve.M){var Oe,de=ve.Jc[ve.M&ve.Xb],fe=ve.m,Ve=ve;for(Oe=0;Oe<Ve.za;++Oe){var Me=fe,Be=Ve,ut=Be.Ac,rt=Be.Bc+4*Oe,bt=Be.zc,at=Be.ya[Be.aa+Oe];if(Be.Qa.Bb?at.$b=Ne(Me,Be.Pa.jb[0])?2+Ne(Me,Be.Pa.jb[2]):Ne(Me,Be.Pa.jb[1]):at.$b=0,Be.kc&&(at.Ad=Ne(Me,Be.Bd)),at.Za=!Ne(Me,145)+0,at.Za){var sn=at.Ob,on=0;for(Be=0;4>Be;++Be){var en,$t=bt[0+Be];for(en=0;4>en;++en){$t=qp[ut[rt+en]][$t];for(var xn=Ld[Ne(Me,$t[0])];0<xn;)xn=Ld[2*xn+Ne(Me,$t[xn])];$t=-xn,ut[rt+en]=$t}r(sn,on,ut,rt,4),on+=4,bt[0+Be]=$t}}else $t=Ne(Me,156)?Ne(Me,128)?1:3:Ne(Me,163)?2:0,at.Ob[0]=$t,s(ut,rt,$t,4),s(bt,0,$t,4);at.Dd=Ne(Me,142)?Ne(Me,114)?Ne(Me,183)?1:3:2:0}if(Ve.m.Ka)return jn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Ve=de,Me=(fe=ve).rb[fe.sb-1],ut=fe.rb[fe.sb+fe.ja],Oe=fe.ya[fe.aa+fe.ja],rt=fe.kc?Oe.Ad:0)Me.la=ut.la=0,Oe.Za||(Me.Na=ut.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var En,Ft;if(Me=ut,ut=Ve,rt=fe.Pa.Xc,bt=fe.ya[fe.aa+fe.ja],at=fe.pb[bt.$b],Be=bt.ad,sn=0,on=fe.rb[fe.sb-1],$t=en=0,s(Be,sn,0,384),bt.Za)var Bn=0,hi=rt[3];else{xn=o(16);var er=Me.Na+on.Na;if(er=nl(ut,rt[1],er,at.Eb,0,xn,0),Me.Na=on.Na=(0<er)+0,1<er)Fl(xn,0,Be,sn);else{var dr=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)Be[sn+xn]=dr}Bn=1,hi=rt[0]}var pn=15&Me.la,Kr=15&on.la;for(xn=0;4>xn;++xn){var Qr=1&Kr;for(dr=Ft=0;4>dr;++dr)pn=pn>>1|(Qr=(er=nl(ut,hi,er=Qr+(1&pn),at.Sc,Bn,Be,sn))>Bn)<<7,Ft=Ft<<2|(3<er?3:1<er?2:Be[sn+0]!=0),sn+=16;pn>>=4,Kr=Kr>>1|Qr<<7,en=(en<<8|Ft)>>>0}for(hi=pn,Bn=Kr>>4,En=0;4>En;En+=2){for(Ft=0,pn=Me.la>>4+En,Kr=on.la>>4+En,xn=0;2>xn;++xn){for(Qr=1&Kr,dr=0;2>dr;++dr)er=Qr+(1&pn),pn=pn>>1|(Qr=0<(er=nl(ut,rt[2],er,at.Qc,0,Be,sn)))<<3,Ft=Ft<<2|(3<er?3:1<er?2:Be[sn+0]!=0),sn+=16;pn>>=2,Kr=Kr>>1|Qr<<5}$t|=Ft<<4*En,hi|=pn<<4<<En,Bn|=(240&Kr)<<En}Me.la=hi,on.la=Bn,bt.Hc=en,bt.Gc=$t,bt.ia=43690&$t?0:at.ia,rt=!(en|$t)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[Oe.$b][Oe.Za],fe.wa[fe.Y+fe.ja].La|=!rt),Ve.Ka)return jn(ve,7,"Premature end-of-file encountered.")}if(Zs(ve),fe=ze,Ve=1,Oe=(de=ve).D,Me=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(Oe.M=de.M,Oe.uc=Me,Vs(de,Oe),Ve=1,Oe=(Ft=de.D).Nb,Me=($t=sl[de.L])*de.R,ut=$t/2*de.B,xn=16*Oe*de.R,dr=8*Oe*de.B,rt=de.sa,bt=de.ta-Me+xn,at=de.qa,Be=de.ra-ut+dr,sn=de.Ha,on=de.Ia-ut+dr,Kr=(pn=Ft.M)==0,en=pn>=de.Va-1,de.Aa==2&&Vs(de,Ft),Ft.uc)for(Qr=(er=de).D.M,e(er.D.uc),Ft=er.yb;Ft<er.Hb;++Ft){Bn=Ft,hi=Qr;var Un=(fr=(mn=er).D).Nb;En=mn.R;var fr=fr.wa[fr.Y+Bn],Dr=mn.sa,ki=mn.ta+16*Un*En+16*Bn,gs=fr.dd,zn=fr.tc;if(zn!=0)if(e(3<=zn),mn.L==1)0<Bn&&Vo(Dr,ki,En,zn+4),fr.La&&jr(Dr,ki,En,zn),0<hi&&Mo(Dr,ki,En,zn+4),fr.La&&ga(Dr,ki,En,zn);else{var ar=mn.B,Xi=mn.qa,_a=mn.ra+8*Un*ar+8*Bn,zo=mn.Ha,mn=mn.Ia+8*Un*ar+8*Bn;Un=fr.ld,0<Bn&&(Ou(Dr,ki,En,zn+4,gs,Un),Ja(Xi,_a,zo,mn,ar,zn+4,gs,Un)),fr.La&&(Ji(Dr,ki,En,zn,gs,Un),co(Xi,_a,zo,mn,ar,zn,gs,Un)),0<hi&&(Qa(Dr,ki,En,zn+4,gs,Un),Ya(Xi,_a,zo,mn,ar,zn+4,gs,Un)),fr.La&&(Xa(Dr,ki,En,zn,gs,Un),Fo(Xi,_a,zo,mn,ar,zn,gs,Un))}}if(de.ia&&alert("todo:DitherRow"),fe.put!=null){if(Ft=16*pn,pn=16*(pn+1),Kr?(fe.y=de.sa,fe.O=de.ta+xn,fe.f=de.qa,fe.N=de.ra+dr,fe.ea=de.Ha,fe.W=de.Ia+dr):(Ft-=$t,fe.y=rt,fe.O=bt,fe.f=at,fe.N=Be,fe.ea=sn,fe.W=on),en||(pn-=$t),pn>fe.o&&(pn=fe.o),fe.F=null,fe.J=null,de.Fa!=null&&0<de.Fa.length&&Ft<pn&&(fe.J=fa(de,fe,Ft,pn-Ft),fe.F=de.mb,fe.F==null&&fe.F.length==0)){Ve=jn(de,3,"Could not decode alpha data.");break e}Ft<fe.j&&($t=fe.j-Ft,Ft=fe.j,e(!(1&$t)),fe.O+=de.R*$t,fe.N+=de.B*($t>>1),fe.W+=de.B*($t>>1),fe.F!=null&&(fe.J+=fe.width*$t)),Ft<pn&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=Ft-fe.j,fe.U=fe.va-fe.v,fe.T=pn-Ft,Ve=fe.put(fe))}Oe+1!=de.Ic||en||(r(de.sa,de.ta-Me,rt,bt+16*de.R,Me),r(de.qa,de.ra-ut,at,Be+8*de.B,ut),r(de.Ha,de.Ia-ut,sn,on+8*de.B,ut))}if(!Ve)return jn(ve,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),S&=1}return S?(h.cb=0,S):0}function Pr(h,m,S,I,F){F=h[m+S+32*I]+(F>>3),h[m+S+32*I]=-256&F?0>F?0:255:F}function oa(h,m,S,I,F,z){Pr(h,m,0,S,I+F),Pr(h,m,1,S,I+z),Pr(h,m,2,S,I-z),Pr(h,m,3,S,I-F)}function Kn(h){return(20091*h>>16)+h}function kr(h,m,S,I){var F,z=0,H=o(16);for(F=0;4>F;++F){var $=h[m+0]+h[m+8],Q=h[m+0]-h[m+8],J=(35468*h[m+4]>>16)-Kn(h[m+12]),ue=Kn(h[m+4])+(35468*h[m+12]>>16);H[z+0]=$+ue,H[z+1]=Q+J,H[z+2]=Q-J,H[z+3]=$-ue,z+=4,m++}for(F=z=0;4>F;++F)$=(h=H[z+0]+4)+H[z+8],Q=h-H[z+8],J=(35468*H[z+4]>>16)-Kn(H[z+12]),Pr(S,I,0,0,$+(ue=Kn(H[z+4])+(35468*H[z+12]>>16))),Pr(S,I,1,0,Q+J),Pr(S,I,2,0,Q-J),Pr(S,I,3,0,$-ue),z++,I+=32}function to(h,m,S,I){var F=h[m+0]+4,z=35468*h[m+4]>>16,H=Kn(h[m+4]),$=35468*h[m+1]>>16;oa(S,I,0,F+H,h=Kn(h[m+1]),$),oa(S,I,1,F+z,h,$),oa(S,I,2,F-z,h,$),oa(S,I,3,F-H,h,$)}function no(h,m,S,I,F){kr(h,m,S,I),F&&kr(h,m+16,S,I+4)}function Ls(h,m,S,I){Oo(h,m+0,S,I,1),Oo(h,m+32,S,I+128,1)}function vn(h,m,S,I){var F;for(h=h[m+0]+4,F=0;4>F;++F)for(m=0;4>m;++m)Pr(S,I,m,F,h)}function js(h,m,S,I){h[m+0]&&Wr(h,m+0,S,I),h[m+16]&&Wr(h,m+16,S,I+4),h[m+32]&&Wr(h,m+32,S,I+128),h[m+48]&&Wr(h,m+48,S,I+128+4)}function Wt(h,m,S,I){var F,z=o(16);for(F=0;4>F;++F){var H=h[m+0+F]+h[m+12+F],$=h[m+4+F]+h[m+8+F],Q=h[m+4+F]-h[m+8+F],J=h[m+0+F]-h[m+12+F];z[0+F]=H+$,z[8+F]=H-$,z[4+F]=J+Q,z[12+F]=J-Q}for(F=0;4>F;++F)H=(h=z[0+4*F]+3)+z[3+4*F],$=z[1+4*F]+z[2+4*F],Q=z[1+4*F]-z[2+4*F],J=h-z[3+4*F],S[I+0]=H+$>>3,S[I+16]=J+Q>>3,S[I+32]=H-$>>3,S[I+48]=J-Q>>3,I+=64}function as(h,m,S){var I,F=m-32,z=ui,H=255-h[F-1];for(I=0;I<S;++I){var $,Q=z,J=H+h[m-1];for($=0;$<S;++$)h[m+$]=Q[J+h[F+$]];m+=32}}function El(h,m){as(h,m,4)}function aa(h,m){as(h,m,8)}function Al(h,m){as(h,m,16)}function ls(h,m){var S;for(S=0;16>S;++S)r(h,m+32*S,h,m-32,16)}function To(h,m){var S;for(S=16;0<S;--S)s(h,m,h[m-1],16),m+=32}function ro(h,m,S){var I;for(I=0;16>I;++I)s(m,S+32*I,h,16)}function $i(h,m){var S,I=16;for(S=0;16>S;++S)I+=h[m-1+32*S]+h[m+S-32];ro(I>>5,h,m)}function rn(h,m){var S,I=8;for(S=0;16>S;++S)I+=h[m-1+32*S];ro(I>>4,h,m)}function Wi(h,m){var S,I=8;for(S=0;16>S;++S)I+=h[m+S-32];ro(I>>4,h,m)}function Ni(h,m){ro(128,h,m)}function Et(h,m,S){return h+2*m+S+2>>2}function Si(h,m){var S,I=m-32;for(I=new Uint8Array([Et(h[I-1],h[I+0],h[I+1]),Et(h[I+0],h[I+1],h[I+2]),Et(h[I+1],h[I+2],h[I+3]),Et(h[I+2],h[I+3],h[I+4])]),S=0;4>S;++S)r(h,m+32*S,I,0,I.length)}function us(h,m){var S=h[m-1],I=h[m-1+32],F=h[m-1+64],z=h[m-1+96];qe(h,m+0,16843009*Et(h[m-1-32],S,I)),qe(h,m+32,16843009*Et(S,I,F)),qe(h,m+64,16843009*Et(I,F,z)),qe(h,m+96,16843009*Et(F,z,z))}function cs(h,m){var S,I=4;for(S=0;4>S;++S)I+=h[m+S-32]+h[m-1+32*S];for(I>>=3,S=0;4>S;++S)s(h,m+32*S,I,4)}function qa(h,m){var S=h[m-1+0],I=h[m-1+32],F=h[m-1+64],z=h[m-1-32],H=h[m+0-32],$=h[m+1-32],Q=h[m+2-32],J=h[m+3-32];h[m+0+96]=Et(I,F,h[m-1+96]),h[m+1+96]=h[m+0+64]=Et(S,I,F),h[m+2+96]=h[m+1+64]=h[m+0+32]=Et(z,S,I),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Et(H,z,S),h[m+3+64]=h[m+2+32]=h[m+1+0]=Et($,H,z),h[m+3+32]=h[m+2+0]=Et(Q,$,H),h[m+3+0]=Et(J,Q,$)}function Cr(h,m){var S=h[m+1-32],I=h[m+2-32],F=h[m+3-32],z=h[m+4-32],H=h[m+5-32],$=h[m+6-32],Q=h[m+7-32];h[m+0+0]=Et(h[m+0-32],S,I),h[m+1+0]=h[m+0+32]=Et(S,I,F),h[m+2+0]=h[m+1+32]=h[m+0+64]=Et(I,F,z),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Et(F,z,H),h[m+3+32]=h[m+2+64]=h[m+1+96]=Et(z,H,$),h[m+3+64]=h[m+2+96]=Et(H,$,Q),h[m+3+96]=Et($,Q,Q)}function la(h,m){var S=h[m-1+0],I=h[m-1+32],F=h[m-1+64],z=h[m-1-32],H=h[m+0-32],$=h[m+1-32],Q=h[m+2-32],J=h[m+3-32];h[m+0+0]=h[m+1+64]=z+H+1>>1,h[m+1+0]=h[m+2+64]=H+$+1>>1,h[m+2+0]=h[m+3+64]=$+Q+1>>1,h[m+3+0]=Q+J+1>>1,h[m+0+96]=Et(F,I,S),h[m+0+64]=Et(I,S,z),h[m+0+32]=h[m+1+96]=Et(S,z,H),h[m+1+32]=h[m+2+96]=Et(z,H,$),h[m+2+32]=h[m+3+96]=Et(H,$,Q),h[m+3+32]=Et($,Q,J)}function ua(h,m){var S=h[m+0-32],I=h[m+1-32],F=h[m+2-32],z=h[m+3-32],H=h[m+4-32],$=h[m+5-32],Q=h[m+6-32],J=h[m+7-32];h[m+0+0]=S+I+1>>1,h[m+1+0]=h[m+0+64]=I+F+1>>1,h[m+2+0]=h[m+1+64]=F+z+1>>1,h[m+3+0]=h[m+2+64]=z+H+1>>1,h[m+0+32]=Et(S,I,F),h[m+1+32]=h[m+0+96]=Et(I,F,z),h[m+2+32]=h[m+1+96]=Et(F,z,H),h[m+3+32]=h[m+2+96]=Et(z,H,$),h[m+3+64]=Et(H,$,Q),h[m+3+96]=Et($,Q,J)}function Os(h,m){var S=h[m-1+0],I=h[m-1+32],F=h[m-1+64],z=h[m-1+96];h[m+0+0]=S+I+1>>1,h[m+2+0]=h[m+0+32]=I+F+1>>1,h[m+2+32]=h[m+0+64]=F+z+1>>1,h[m+1+0]=Et(S,I,F),h[m+3+0]=h[m+1+32]=Et(I,F,z),h[m+3+32]=h[m+1+64]=Et(F,z,z),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=z}function Po(h,m){var S=h[m-1+0],I=h[m-1+32],F=h[m-1+64],z=h[m-1+96],H=h[m-1-32],$=h[m+0-32],Q=h[m+1-32],J=h[m+2-32];h[m+0+0]=h[m+2+32]=S+H+1>>1,h[m+0+32]=h[m+2+64]=I+S+1>>1,h[m+0+64]=h[m+2+96]=F+I+1>>1,h[m+0+96]=z+F+1>>1,h[m+3+0]=Et($,Q,J),h[m+2+0]=Et(H,$,Q),h[m+1+0]=h[m+3+32]=Et(S,H,$),h[m+1+32]=h[m+3+64]=Et(I,S,H),h[m+1+64]=h[m+3+96]=Et(F,I,S),h[m+1+96]=Et(z,F,I)}function Il(h,m){var S;for(S=0;8>S;++S)r(h,m+32*S,h,m-32,8)}function ri(h,m){var S;for(S=0;8>S;++S)s(h,m,h[m-1],8),m+=32}function Rr(h,m,S){var I;for(I=0;8>I;++I)s(m,S+32*I,h,8)}function zr(h,m){var S,I=8;for(S=0;8>S;++S)I+=h[m+S-32]+h[m-1+32*S];Rr(I>>4,h,m)}function io(h,m){var S,I=4;for(S=0;8>S;++S)I+=h[m+S-32];Rr(I>>3,h,m)}function dn(h,m){var S,I=4;for(S=0;8>S;++S)I+=h[m-1+32*S];Rr(I>>3,h,m)}function Ha(h,m){Rr(128,h,m)}function so(h,m,S){var I=h[m-S],F=h[m+0],z=3*(F-I)+fo[1020+h[m-2*S]-h[m+S]],H=Vl[112+(z+4>>3)];h[m-S]=ui[255+I+Vl[112+(z+3>>3)]],h[m+0]=ui[255+F-H]}function oo(h,m,S,I){var F=h[m+0],z=h[m+S];return ps[255+h[m-2*S]-h[m-S]]>I||ps[255+z-F]>I}function ko(h,m,S,I){return 4*ps[255+h[m-S]-h[m+0]]+ps[255+h[m-2*S]-h[m+S]]<=I}function ca(h,m,S,I,F){var z=h[m-3*S],H=h[m-2*S],$=h[m-S],Q=h[m+0],J=h[m+S],ue=h[m+2*S],Se=h[m+3*S];return 4*ps[255+$-Q]+ps[255+H-J]>I?0:ps[255+h[m-4*S]-z]<=F&&ps[255+z-H]<=F&&ps[255+H-$]<=F&&ps[255+Se-ue]<=F&&ps[255+ue-J]<=F&&ps[255+J-Q]<=F}function qr(h,m,S,I){var F=2*I+1;for(I=0;16>I;++I)ko(h,m+I,S,F)&&so(h,m+I,S)}function ii(h,m,S,I){var F=2*I+1;for(I=0;16>I;++I)ko(h,m+I*S,1,F)&&so(h,m+I*S,1)}function Qn(h,m,S,I){var F;for(F=3;0<F;--F)qr(h,m+=4*S,S,I)}function $a(h,m,S,I){var F;for(F=3;0<F;--F)ii(h,m+=4,S,I)}function Gi(h,m,S,I,F,z,H,$){for(z=2*z+1;0<F--;){if(ca(h,m,S,z,H))if(oo(h,m,S,$))so(h,m,S);else{var Q=h,J=m,ue=S,Se=Q[J-2*ue],Ee=Q[J-ue],ve=Q[J+0],ze=Q[J+ue],Oe=Q[J+2*ue],de=27*(Ve=fo[1020+3*(ve-Ee)+fo[1020+Se-ze]])+63>>7,fe=18*Ve+63>>7,Ve=9*Ve+63>>7;Q[J-3*ue]=ui[255+Q[J-3*ue]+Ve],Q[J-2*ue]=ui[255+Se+fe],Q[J-ue]=ui[255+Ee+de],Q[J+0]=ui[255+ve-de],Q[J+ue]=ui[255+ze-fe],Q[J+2*ue]=ui[255+Oe-Ve]}m+=I}}function sr(h,m,S,I,F,z,H,$){for(z=2*z+1;0<F--;){if(ca(h,m,S,z,H))if(oo(h,m,S,$))so(h,m,S);else{var Q=h,J=m,ue=S,Se=Q[J-ue],Ee=Q[J+0],ve=Q[J+ue],ze=Vl[112+((Oe=3*(Ee-Se))+4>>3)],Oe=Vl[112+(Oe+3>>3)],de=ze+1>>1;Q[J-2*ue]=ui[255+Q[J-2*ue]+de],Q[J-ue]=ui[255+Se+Oe],Q[J+0]=ui[255+Ee-ze],Q[J+ue]=ui[255+ve-de]}m+=I}}function Co(h,m,S,I,F,z){Gi(h,m,S,1,16,I,F,z)}function Vn(h,m,S,I,F,z){Gi(h,m,1,S,16,I,F,z)}function Ki(h,m,S,I,F,z){var H;for(H=3;0<H;--H)sr(h,m+=4*S,S,1,16,I,F,z)}function Ds(h,m,S,I,F,z){var H;for(H=3;0<H;--H)sr(h,m+=4,1,S,16,I,F,z)}function hs(h,m,S,I,F,z,H,$){Gi(h,m,F,1,8,z,H,$),Gi(S,I,F,1,8,z,H,$)}function Wa(h,m,S,I,F,z,H,$){Gi(h,m,1,F,8,z,H,$),Gi(S,I,1,F,8,z,H,$)}function ao(h,m,S,I,F,z,H,$){sr(h,m+4*F,F,1,8,z,H,$),sr(S,I+4*F,F,1,8,z,H,$)}function ds(h,m,S,I,F,z,H,$){sr(h,m+4,1,F,8,z,H,$),sr(S,I+4,1,F,8,z,H,$)}function Qi(){this.ba=new Wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ha(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new j}function Tl(){this.xb=this.a=0,this.l=new Ao,this.ca=new Wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ha,this.ab=0,this.gc=l(4,lo),this.Oc=0}function Ms(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ao,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fs(h,m,S,I,F,z,H){for(h=h==null?0:h[m+0],m=0;m<H;++m)F[z+m]=h+S[I+m]&255,h=F[z+m]}function da(h,m,S,I,F,z,H){var $;if(h==null)fs(null,null,S,I,F,z,H);else for($=0;$<H;++$)F[z+$]=h[m+$]+S[I+$]&255}function Hr(h,m,S,I,F,z,H){if(h==null)fs(null,null,S,I,F,z,H);else{var $,Q=h[m+0],J=Q,ue=Q;for($=0;$<H;++$)J=ue+(Q=h[m+$])-J,ue=S[I+$]+(-256&J?0>J?0:255:J)&255,J=Q,F[z+$]=ue}}function fa(h,m,S,I){var F=m.width,z=m.o;if(e(h!=null&&m!=null),0>S||0>=I||S+I>z)return null;if(!h.Cc){if(h.ga==null){var H;if(h.ga=new Ms,(H=h.ga==null)||(H=m.width*m.o,e(h.Gb.length==0),h.Gb=o(H),h.Uc=0,h.Gb==null?H=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,H=1),H=!H),!H){H=h.ga;var $=h.Fa,Q=h.P,J=h.qc,ue=h.mb,Se=h.nb,Ee=Q+1,ve=J-1,ze=H.l;if(e($!=null&&ue!=null&&m!=null),Gr[0]=null,Gr[1]=fs,Gr[2]=da,Gr[3]=Hr,H.ca=ue,H.tb=Se,H.c=m.width,H.i=m.height,e(0<H.c&&0<H.i),1>=J)m=0;else if(H.$a=$[Q+0]>>0&3,H.Z=$[Q+0]>>2&3,H.Lc=$[Q+0]>>4&3,Q=$[Q+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||Q)m=0;else if(ze.put=br,ze.ac=Xn,ze.bc=_i,ze.ma=H,ze.width=m.width,ze.height=m.height,ze.Da=m.Da,ze.v=m.v,ze.va=m.va,ze.j=m.j,ze.o=m.o,H.$a)e:{e(H.$a==1),m=Gn();t:for(;;){if(m==null){m=0;break e}if(e(H!=null),H.mc=m,m.c=H.c,m.i=H.i,m.l=H.l,m.l.ma=H,m.l.width=H.c,m.l.height=H.i,m.a=0,se(m.m,$,Ee,ve),!Hi(H.c,H.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Ts(m.s)?(H.ic=1,$=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o($),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(H.ic=0,m=Ps(m,H.c)),!m))break t;m=1;break e}H.mc=null,m=0}else m=ve>=H.c*H.i;H=!m}if(H)return null;h.ga.Lc!=1?h.Ga=0:I=z-S}e(h.ga!=null),e(S+I<=z);e:{if(m=($=h.ga).c,z=$.l.o,$.$a==0){if(Ee=h.rc,ve=h.Vc,ze=h.Fa,Q=h.P+1+S*m,J=h.mb,ue=h.nb+S*m,e(Q<=h.P+h.qc),$.Z!=0)for(e(Gr[$.Z]!=null),H=0;H<I;++H)Gr[$.Z](Ee,ve,ze,Q,J,ue,m),Ee=J,ve=ue,ue+=m,Q+=m;else for(H=0;H<I;++H)r(J,ue,ze,Q,m),Ee=J,ve=ue,ue+=m,Q+=m;h.rc=Ee,h.Vc=ve}else{if(e($.mc!=null),m=S+I,e((H=$.mc)!=null),e(m<=H.i),H.C>=m)m=1;else if($.ic||ye(),$.ic){$=H.V,Ee=H.Ba,ve=H.c;var Oe=H.i,de=(ze=1,Q=H.$/ve,J=H.$%ve,ue=H.m,Se=H.s,H.$),fe=ve*Oe,Ve=ve*m,Me=Se.wc,Be=de<Ve?Ln(Se,J,Q):null;e(de<=fe),e(m<=Oe),e(Ts(Se));t:for(;;){for(;!ue.h&&de<Ve;){if(J&Me||(Be=Ln(Se,J,Q)),e(Be!=null),ae(ue),256>(Oe=ir(Be.G[0],Be.H[0],ue)))$[Ee+de]=Oe,++de,++J>=ve&&(J=0,++Q<=m&&!(Q%16)&&xi(H,Q));else{if(!(280>Oe)){ze=0;break t}Oe=Vr(Oe-256,ue);var ut,rt=ir(Be.G[4],Be.H[4],ue);if(ae(ue),!(de>=(rt=rr(ve,rt=Vr(rt,ue)))&&fe-de>=Oe)){ze=0;break t}for(ut=0;ut<Oe;++ut)$[Ee+de+ut]=$[Ee+de+ut-rt];for(de+=Oe,J+=Oe;J>=ve;)J-=ve,++Q<=m&&!(Q%16)&&xi(H,Q);de<Ve&&J&Me&&(Be=Ln(Se,J,Q))}e(ue.h==X(ue))}xi(H,Q>m?m:Q);break t}!ze||ue.h&&de<fe?(ze=0,H.a=ue.h?5:3):H.$=de,m=ze}else m=Zn(H,H.V,H.Ba,H.c,H.i,m,ks);if(!m){I=0;break e}}S+I>=z&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&((I=h.ga)!=null&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*F}function _(h,m,S,I,F,z){for(;0<F--;){var H,$=h,Q=m+(S?1:0),J=h,ue=m+(S?0:3);for(H=0;H<I;++H){var Se=J[ue+4*H];Se!=255&&(Se*=32897,$[Q+4*H+0]=$[Q+4*H+0]*Se>>23,$[Q+4*H+1]=$[Q+4*H+1]*Se>>23,$[Q+4*H+2]=$[Q+4*H+2]*Se>>23)}m+=z}}function M(h,m,S,I,F){for(;0<I--;){var z;for(z=0;z<S;++z){var H=h[m+2*z+0],$=15&(J=h[m+2*z+1]),Q=4369*$,J=(240&J|J>>4)*Q>>16;h[m+2*z+0]=(240&H|H>>4)*Q>>16&240|(15&H|H<<4)*Q>>16>>4&15,h[m+2*z+1]=240&J|$}m+=F}}function ee(h,m,S,I,F,z,H,$){var Q,J,ue=255;for(J=0;J<F;++J){for(Q=0;Q<I;++Q){var Se=h[m+Q];z[H+4*Q]=Se,ue&=Se}m+=S,H+=$}return ue!=255}function le(h,m,S,I,F){var z;for(z=0;z<F;++z)S[I+z]=h[m+z]>>8}function ye(){Ei=_,Tn=M,wn=ee,Jn=le}function De(h,m,S){R[h]=function(I,F,z,H,$,Q,J,ue,Se,Ee,ve,ze,Oe,de,fe,Ve,Me){var Be,ut=Me-1>>1,rt=$[Q+0]|J[ue+0]<<16,bt=Se[Ee+0]|ve[ze+0]<<16;e(I!=null);var at=3*rt+bt+131074>>2;for(m(I[F+0],255&at,at>>16,Oe,de),z!=null&&(at=3*bt+rt+131074>>2,m(z[H+0],255&at,at>>16,fe,Ve)),Be=1;Be<=ut;++Be){var sn=$[Q+Be]|J[ue+Be]<<16,on=Se[Ee+Be]|ve[ze+Be]<<16,en=rt+sn+bt+on+524296,$t=en+2*(sn+bt)>>3;at=$t+rt>>1,rt=(en=en+2*(rt+on)>>3)+sn>>1,m(I[F+2*Be-1],255&at,at>>16,Oe,de+(2*Be-1)*S),m(I[F+2*Be-0],255&rt,rt>>16,Oe,de+(2*Be-0)*S),z!=null&&(at=en+bt>>1,rt=$t+on>>1,m(z[H+2*Be-1],255&at,at>>16,fe,Ve+(2*Be-1)*S),m(z[H+2*Be+0],255&rt,rt>>16,fe,Ve+(2*Be+0)*S)),rt=sn,bt=on}1&Me||(at=3*rt+bt+131074>>2,m(I[F+Me-1],255&at,at>>16,Oe,de+(Me-1)*S),z!=null&&(at=3*bt+rt+131074>>2,m(z[H+Me-1],255&at,at>>16,fe,Ve+(Me-1)*S)))}}function $e(){Ii[bc]=$p,Ii[va]=ya,Ii[kd]=Wp,Ii[Fu]=ql,Ii[Mu]=rl,Ii[Pn]=qu,Ii[Nc]=Sh,Ii[Bl]=ya,Ii[el]=ql,Ii[Vu]=rl,Ii[Bu]=qu}function nt(h){return h&-16384?0>h?0:255:h>>wa}function f(h,m){return nt((19077*h>>8)+(26149*m>>8)-14234)}function E(h,m,S){return nt((19077*h>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function P(h,m){return nt((19077*h>>8)+(33050*m>>8)-17685)}function G(h,m,S,I,F){I[F+0]=f(h,S),I[F+1]=E(h,m,S),I[F+2]=P(h,m)}function ge(h,m,S,I,F){I[F+0]=P(h,m),I[F+1]=E(h,m,S),I[F+2]=f(h,S)}function ke(h,m,S,I,F){var z=E(h,m,S);m=z<<3&224|P(h,m)>>3,I[F+0]=248&f(h,S)|z>>5,I[F+1]=m}function Ge(h,m,S,I,F){var z=240&P(h,m)|15;I[F+0]=240&f(h,S)|E(h,m,S)>>4,I[F+1]=z}function Ut(h,m,S,I,F){I[F+0]=255,G(h,m,S,I,F+1)}function Jt(h,m,S,I,F){ge(h,m,S,I,F),I[F+3]=255}function zt(h,m,S,I,F){G(h,m,S,I,F),I[F+3]=255}function fn(h,m){return 0>h?0:h>m?m:h}function yn(h,m,S){R[h]=function(I,F,z,H,$,Q,J,ue,Se){for(var Ee=ue+(-2&Se)*S;ue!=Ee;)m(I[F+0],z[H+0],$[Q+0],J,ue),m(I[F+1],z[H+0],$[Q+0],J,ue+S),F+=2,++H,++Q,ue+=2*S;1&Se&&m(I[F+0],z[H+0],$[Q+0],J,ue)}}function si(h,m,S){return S==0?h==0?m==0?6:5:m==0?4:0:S}function Lr(h,m,S,I,F){switch(h>>>30){case 3:Oo(m,S,I,F,0);break;case 2:cn(m,S,I,F);break;case 1:Wr(m,S,I,F)}}function Vs(h,m){var S,I,F=m.M,z=m.Nb,H=h.oc,$=h.pc+40,Q=h.oc,J=h.pc+584,ue=h.oc,Se=h.pc+600;for(S=0;16>S;++S)H[$+32*S-1]=129;for(S=0;8>S;++S)Q[J+32*S-1]=129,ue[Se+32*S-1]=129;for(0<F?H[$-1-32]=Q[J-1-32]=ue[Se-1-32]=129:(s(H,$-32-1,127,21),s(Q,J-32-1,127,9),s(ue,Se-32-1,127,9)),I=0;I<h.za;++I){var Ee=m.ya[m.aa+I];if(0<I){for(S=-1;16>S;++S)r(H,$+32*S-4,H,$+32*S+12,4);for(S=-1;8>S;++S)r(Q,J+32*S-4,Q,J+32*S+4,4),r(ue,Se+32*S-4,ue,Se+32*S+4,4)}var ve=h.Gd,ze=h.Hd+I,Oe=Ee.ad,de=Ee.Hc;if(0<F&&(r(H,$-32,ve[ze].y,0,16),r(Q,J-32,ve[ze].f,0,8),r(ue,Se-32,ve[ze].ea,0,8)),Ee.Za){var fe=H,Ve=$-32+16;for(0<F&&(I>=h.za-1?s(fe,Ve,ve[ze].y[15],4):r(fe,Ve,ve[ze+1].y,0,4)),S=0;4>S;S++)fe[Ve+128+S]=fe[Ve+256+S]=fe[Ve+384+S]=fe[Ve+0+S];for(S=0;16>S;++S,de<<=2)fe=H,Ve=$+Eh[S],ms[Ee.Ob[S]](fe,Ve),Lr(de,Oe,16*+S,fe,Ve)}else if(fe=si(I,F,Ee.Ob[0]),ci[fe](H,$),de!=0)for(S=0;16>S;++S,de<<=2)Lr(de,Oe,16*+S,H,$+Eh[S]);for(S=Ee.Gc,fe=si(I,F,Ee.Dd),Ai[fe](Q,J),Ai[fe](ue,Se),de=Oe,fe=Q,Ve=J,255&(Ee=S>>0)&&(170&Ee?Do(de,256,fe,Ve):Yi(de,256,fe,Ve)),Ee=ue,de=Se,255&(S>>=8)&&(170&S?Do(Oe,320,Ee,de):Yi(Oe,320,Ee,de)),F<h.Ub-1&&(r(ve[ze].y,0,H,$+480,16),r(ve[ze].f,0,Q,J+224,8),r(ve[ze].ea,0,ue,Se+224,8)),S=8*z*h.B,ve=h.sa,ze=h.ta+16*I+16*z*h.R,Oe=h.qa,Ee=h.ra+8*I+S,de=h.Ha,fe=h.Ia+8*I+S,S=0;16>S;++S)r(ve,ze+S*h.R,H,$+32*S,16);for(S=0;8>S;++S)r(Oe,Ee+S*h.B,Q,J+32*S,8),r(de,fe+S*h.B,ue,Se+32*S,8)}}function Bs(h,m,S,I,F,z,H,$,Q){var J=[0],ue=[0],Se=0,Ee=Q!=null?Q.kd:0,ve=Q??new Fs;if(h==null||12>S)return 7;ve.data=h,ve.w=m,ve.ha=S,m=[m],S=[S],ve.gb=[ve.gb];e:{var ze=m,Oe=S,de=ve.gb;if(e(h!=null),e(Oe!=null),e(de!=null),de[0]=0,12<=Oe[0]&&!t(h,ze[0],"RIFF")){if(t(h,ze[0]+8,"WEBP")){de=3;break e}var fe=et(h,ze[0]+4);if(12>fe||4294967286<fe){de=3;break e}if(Ee&&fe>Oe[0]-8){de=7;break e}de[0]=fe,ze[0]+=12,Oe[0]-=12}de=0}if(de!=0)return de;for(fe=0<ve.gb[0],S=S[0];;){e:{var Ve=h;Oe=m,de=S;var Me=J,Be=ue,ut=ze=[0];if((at=Se=[Se])[0]=0,8>de[0])de=7;else{if(!t(Ve,Oe[0],"VP8X")){if(et(Ve,Oe[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var rt=et(Ve,Oe[0]+8),bt=1+it(Ve,Oe[0]+12);if(2147483648<=bt*(Ve=1+it(Ve,Oe[0]+15))){de=3;break e}ut!=null&&(ut[0]=rt),Me!=null&&(Me[0]=bt),Be!=null&&(Be[0]=Ve),Oe[0]+=18,de[0]-=18,at[0]=1}de=0}}if(Se=Se[0],ze=ze[0],de!=0)return de;if(Oe=!!(2&ze),!fe&&Se)return 3;if(z!=null&&(z[0]=!!(16&ze)),H!=null&&(H[0]=Oe),$!=null&&($[0]=0),H=J[0],ze=ue[0],Se&&Oe&&Q==null){de=0;break}if(4>S){de=7;break}if(fe&&Se||!fe&&!Se&&!t(h,m[0],"ALPH")){S=[S],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{rt=h,de=m,fe=S;var at=ve.gb;Me=ve.na,Be=ve.P,ut=ve.Sa,bt=22,e(rt!=null),e(fe!=null),Ve=de[0];var sn=fe[0];for(e(Me!=null),e(ut!=null),Me[0]=null,Be[0]=null,ut[0]=0;;){if(de[0]=Ve,fe[0]=sn,8>sn){de=7;break e}var on=et(rt,Ve+4);if(4294967286<on){de=3;break e}var en=8+on+1&-2;if(bt+=en,0<at&&bt>at){de=3;break e}if(!t(rt,Ve,"VP8 ")||!t(rt,Ve,"VP8L")){de=0;break e}if(sn[0]<en){de=7;break e}t(rt,Ve,"ALPH")||(Me[0]=rt,Be[0]=Ve+8,ut[0]=on),Ve+=en,sn-=en}}if(S=S[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],de!=0)break}S=[S],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(at=h,de=m,fe=S,Me=ve.gb[0],Be=ve.Ja,ut=ve.xa,rt=de[0],Ve=!t(at,rt,"VP8 "),bt=!t(at,rt,"VP8L"),e(at!=null),e(fe!=null),e(Be!=null),e(ut!=null),8>fe[0])de=7;else{if(Ve||bt){if(at=et(at,rt+4),12<=Me&&at>Me-12){de=3;break e}if(Ee&&at>fe[0]-8){de=7;break e}Be[0]=at,de[0]+=8,fe[0]-=8,ut[0]=bt}else ut[0]=5<=fe[0]&&at[rt+0]==47&&!(at[rt+4]>>5),Be[0]=fe[0];de=0}if(S=S[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],m=m[0],de!=0)break;if(4294967286<ve.Ja)return 3;if($==null||Oe||($[0]=ve.xa?2:1),H=[H],ze=[ze],ve.xa){if(5>S){de=7;break}$=H,Ee=ze,Oe=z,h==null||5>S?h=0:5<=S&&h[m+0]==47&&!(h[m+4]>>5)?(fe=[0],at=[0],Me=[0],se(Be=new k,h,m,S),ct(Be,fe,at,Me)?($!=null&&($[0]=fe[0]),Ee!=null&&(Ee[0]=at[0]),Oe!=null&&(Oe[0]=Me[0]),h=1):h=0):h=0}else{if(10>S){de=7;break}$=ze,h==null||10>S||!Ua(h,m+3,S-3)?h=0:(Ee=h[m+0]|h[m+1]<<8|h[m+2]<<16,Oe=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=ve.Ja||!Oe||!h?h=0:(H&&(H[0]=Oe),$&&($[0]=h),h=1))}if(!h||(H=H[0],ze=ze[0],Se&&(J[0]!=H||ue[0]!=ze)))return 3;Q!=null&&(Q[0]=ve,Q.offset=m-Q.w,e(4294967286>m-Q.w),e(Q.offset==Q.ha-S));break}return de==0||de==7&&Se&&Q==null?(z!=null&&(z[0]|=ve.na!=null&&0<ve.na.length),I!=null&&(I[0]=H),F!=null&&(F[0]=ze),0):de}function Pl(h,m,S){var I=m.width,F=m.height,z=0,H=0,$=I,Q=F;if(m.Da=h!=null&&0<h.Da,m.Da&&($=h.cd,Q=h.bd,z=h.v,H=h.j,11>S||(z&=-2,H&=-2),0>z||0>H||0>=$||0>=Q||z+$>I||H+Q>F))return 0;if(m.v=z,m.j=H,m.va=z+$,m.o=H+Q,m.U=$,m.T=Q,m.da=h!=null&&0<h.da,m.da){if(!Lt($,Q,S=[h.ib],z=[h.hb]))return 0;m.ib=S[0],m.hb=z[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*I/4&&m.hb<3*F/4,m.Kb=0),1}function kl(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Ga(h,m,S,I){if(I==null||0>=h||0>=m)return 2;if(S!=null){if(S.Da){var F=S.cd,z=S.bd,H=-2&S.v,$=-2&S.j;if(0>H||0>$||0>=F||0>=z||H+F>h||$+z>m)return 2;h=F,m=z}if(S.da){if(!Lt(h,m,F=[S.ib],z=[S.hb]))return 2;h=F[0],m=z[0]}}I.width=h,I.height=m;e:{var Q=I.width,J=I.height;if(h=I.S,0>=Q||0>=J||!(h>=bc&&13>h))h=2;else{if(0>=I.Rd&&I.sd==null){H=z=F=m=0;var ue=($=Q*Hu[h])*J;if(11>h||(z=(J+1)/2*(m=(Q+1)/2),h==12&&(H=(F=Q)*J)),(J=o(ue+2*z+H))==null){h=1;break e}I.sd=J,11>h?((Q=I.f.RGBA).eb=J,Q.fb=0,Q.A=$,Q.size=ue):((Q=I.f.kb).y=J,Q.O=0,Q.fa=$,Q.Fd=ue,Q.f=J,Q.N=0+ue,Q.Ab=m,Q.Cd=z,Q.ea=J,Q.W=0+ue+z,Q.Db=m,Q.Ed=z,h==12&&(Q.F=J,Q.J=0+ue+2*z),Q.Tc=H,Q.lb=F)}if(m=1,F=I.S,z=I.width,H=I.height,F>=bc&&13>F)if(11>F)h=I.f.RGBA,m&=($=Math.abs(h.A))*(H-1)+z<=h.size,m&=$>=z*Hu[F],m&=h.eb!=null;else{h=I.f.kb,$=(z+1)/2,ue=(H+1)/2,Q=Math.abs(h.fa),J=Math.abs(h.Ab);var Se=Math.abs(h.Db),Ee=Math.abs(h.lb),ve=Ee*(H-1)+z;m&=Q*(H-1)+z<=h.Fd,m&=J*(ue-1)+$<=h.Cd,m=(m&=Se*(ue-1)+$<=h.Ed)&Q>=z&J>=$&Se>=$,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,F==12&&(m&=Ee>=z,m&=ve<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||S!=null&&S.fd&&(h=kl(I)),h}var Yn=64,Cl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Rl=24,Ll=32,jl=8,oi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(h){return h},R.Predictor2=function(h,m,S){return m[S+0]},R.Predictor3=function(h,m,S){return m[S+1]},R.Predictor4=function(h,m,S){return m[S-1]},R.Predictor5=function(h,m,S){return st(st(h,m[S+1]),m[S+0])},R.Predictor6=function(h,m,S){return st(h,m[S-1])},R.Predictor7=function(h,m,S){return st(h,m[S+0])},R.Predictor8=function(h,m,S){return st(m[S-1],m[S+0])},R.Predictor9=function(h,m,S){return st(m[S+0],m[S+1])},R.Predictor10=function(h,m,S){return st(st(h,m[S-1]),st(m[S+0],m[S+1]))},R.Predictor11=function(h,m,S){var I=m[S+0];return 0>=Mt(I>>24&255,h>>24&255,(m=m[S-1])>>24&255)+Mt(I>>16&255,h>>16&255,m>>16&255)+Mt(I>>8&255,h>>8&255,m>>8&255)+Mt(255&I,255&h,255&m)?I:h},R.Predictor12=function(h,m,S){var I=m[S+0];return(vt((h>>24&255)+(I>>24&255)-((m=m[S-1])>>24&255))<<24|vt((h>>16&255)+(I>>16&255)-(m>>16&255))<<16|vt((h>>8&255)+(I>>8&255)-(m>>8&255))<<8|vt((255&h)+(255&I)-(255&m)))>>>0},R.Predictor13=function(h,m,S){var I=m[S-1];return(Ct((h=st(h,m[S+0]))>>24&255,I>>24&255)<<24|Ct(h>>16&255,I>>16&255)<<16|Ct(h>>8&255,I>>8&255)<<8|Ct(h>>0&255,I>>0&255))>>>0};var Ka=R.PredictorAdd0;R.PredictorAdd1=_t,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var Ro=R.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var xc,ai=R.ColorIndexInverseTransform,Ol=R.MapARGB,ju=R.VP8LColorIndexInverseTransformAlpha,Dl=R.MapAlpha,uo=R.VP8LPredictorsAdd=[];uo.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var pa,li,$r,ma,Lo,jo,Fl,Oo,cn,Do,Wr,Yi,Qa,Ou,Ya,Ja,Xa,Ji,Fo,co,Mo,Vo,ga,jr,Ei,Tn,wn,Jn,or=o(511),ho=o(2041),Ml=o(225),Za=o(767),Du=0,fo=ho,Vl=Ml,ui=Za,ps=or,bc=0,va=1,kd=2,Fu=3,Mu=4,Pn=5,Nc=6,Bl=7,el=8,Vu=9,Bu=10,Uu=[2,3,7],Sc=[3,3,11],tl=[280,256,256,256,40],Cd=[0,1,1,1,0],Up=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ec=8,Ul=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nl=null,xh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ci=[],ms=[],Ai=[],po=1,zl=2,Gr=[],Ii=[];De("UpsampleRgbLinePair",G,3),De("UpsampleBgrLinePair",ge,3),De("UpsampleRgbaLinePair",zt,4),De("UpsampleBgraLinePair",Jt,4),De("UpsampleArgbLinePair",Ut,4),De("UpsampleRgba4444LinePair",Ge,2),De("UpsampleRgb565LinePair",ke,2);var $p=R.UpsampleRgbLinePair,Wp=R.UpsampleBgrLinePair,ya=R.UpsampleRgbaLinePair,ql=R.UpsampleBgraLinePair,rl=R.UpsampleArgbLinePair,qu=R.UpsampleRgba4444LinePair,Sh=R.UpsampleRgb565LinePair,Bo=16,Us=1<<Bo-1,_n=-227,Sn=482,wa=6,Or=0,Ti=o(256),il=o(256),Hl=o(256),Pi=o(256),Ac=o(Sn-_n),Od=o(Sn-_n);yn("YuvToRgbRow",G,3),yn("YuvToBgrRow",ge,3),yn("YuvToRgbaRow",zt,4),yn("YuvToBgraRow",Jt,4),yn("YuvToArgbRow",Ut,4),yn("YuvToRgba4444Row",Ge,2),yn("YuvToRgb565Row",ke,2);var Eh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sl=[0,2,8],Dd=[8,7,6,4,4,2,2,2,1,1,1,1],Uo=1;this.WebPDecodeRGBA=function(h,m,S,I,F){var z=va,H=new Qi,$=new Wn;H.ba=$,$.S=z,$.width=[$.width],$.height=[$.height];var Q=$.width,J=$.height,ue=new xr;if(ue==null||h==null)var Se=2;else e(ue!=null),Se=Bs(h,m,S,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Se!=0?Q=0:(Q!=null&&(Q[0]=ue.width[0]),J!=null&&(J[0]=ue.height[0]),Q=1),Q){$.width=$.width[0],$.height=$.height[0],I!=null&&(I[0]=$.width),F!=null&&(F[0]=$.height);e:{if(I=new Ao,(F=new Fs).data=h,F.w=m,F.ha=S,F.kd=1,m=[0],e(F!=null),((h=Bs(F.data,F.w,F.ha,null,null,null,m,null,F))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(H!=null),I.data=F.data,I.w=F.w+F.offset,I.ha=F.ha-F.offset,I.put=br,I.ac=Xn,I.bc=_i,I.ma=H,F.xa){if((h=Gn())==null){H=1;break e}if(function(Ee,ve){var ze=[0],Oe=[0],de=[0];t:for(;;){if(Ee==null)return 0;if(ve==null)return Ee.a=2,0;if(Ee.l=ve,Ee.a=0,se(Ee.m,ve.data,ve.w,ve.ha),!ct(Ee.m,ze,Oe,de)){Ee.a=3;break t}if(Ee.xb=zl,ve.width=ze[0],ve.height=Oe[0],!Hi(ze[0],Oe[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0}(h,I)){if(I=(m=Ga(I.width,I.height,H.Oa,H.ba))==0){t:{I=h;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((S=I.l)!=null),e((F=S.ma)!=null),I.xb!=0){if(I.ca=F.ba,I.tb=F.tb,e(I.ca!=null),!Pl(F.Oa,S,Fu)){I.a=2;break n}if(!Ps(I,S.width)||S.da)break n;if((S.da||Yt(I.ca.S))&&ye(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&ye()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!xt(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Zn(I,I.V,I.Ba,I.c,I.i,S.o,Ys))break n;F.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(m=h.a)}else m=h.a}else{if((h=new Tr)==null){H=1;break e}if(h.Fa=F.na,h.P=F.P,h.qc=F.Sa,za(h,I)){if((m=Ga(I.width,I.height,H.Oa,H.ba))==0){if(h.Aa=0,S=H.Oa,e((F=h)!=null),S!=null){if(0<(Q=0>(Q=S.Md)?0:100<Q?255:255*Q/100)){for(J=ue=0;4>J;++J)12>(Se=F.pb[J]).lc&&(Se.ia=Q*Dd[0>Se.lc?0:Se.lc]>>3),ue|=Se.ia;ue&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=S.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}eo(h,I)||(m=h.a)}}else m=h.a}m==0&&H.Oa!=null&&H.Oa.fd&&(m=kl(H.ba))}H=m}z=H!=0?null:11>z?$.f.RGBA.eb:$.f.kb.y}else z=null;return z};var Hu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(R,B){for(var U="",T=0;T<4;T++)U+=String.fromCharCode(R[B++]);return U}function w(R,B){return(R[B+0]<<0|R[B+1]<<8|R[B+2]<<16)>>>0}function b(R,B){return(R[B+0]<<0|R[B+1]<<8|R[B+2]<<16|R[B+3]<<24)>>>0}new d;var x=[0],y=[0],L=[],O=new d,C=n,V=function(R,B){var U={},T=0,j=!1,D=0,oe=0;if(U.frames=[],!function(K,X,te,ae){for(var we=0;we<ae;we++)if(K[X+we]!=te.charCodeAt(we))return!0;return!1}(R,B,"RIFF",4)){for(b(R,B+=4),B+=8;B<R.length;){var Te=g(R,B),Ae=b(R,B+=4);B+=4;var Pe=Ae+(1&Ae);switch(Te){case"VP8 ":case"VP8L":U.frames[T]===void 0&&(U.frames[T]={}),(pe=U.frames[T]).src_off=j?oe:B-8,pe.src_size=D+Ae+8,T++,j&&(j=!1,D=0,oe=0);break;case"VP8X":(pe=U.header={}).feature_flags=R[B];var se=B+4;pe.canvas_width=1+w(R,se),se+=3,pe.canvas_height=1+w(R,se),se+=3;break;case"ALPH":j=!0,D=Pe+8,oe=B-8;break;case"ANIM":(pe=U.header).bgcolor=b(R,B),se=B+4,pe.loop_count=(re=R)[(k=se)+0]<<0|re[k+1]<<8,se+=2;break;case"ANMF":var _e,pe;(pe=U.frames[T]={}).offset_x=2*w(R,B),B+=3,pe.offset_y=2*w(R,B),B+=3,pe.width=1+w(R,B),B+=3,pe.height=1+w(R,B),B+=3,pe.duration=w(R,B),B+=3,_e=R[B++],pe.dispose=1&_e,pe.blend=_e>>1&1}Te!="ANMF"&&(B+=Pe)}var re,k;return U}}(C,0);V.response=C,V.rgbaoutput=!0,V.dataurl=!1;var Y=V.header?V.header:null,Z=V.frames?V.frames:null;if(Y){Y.loop_counter=Y.loop_count,x=[Y.canvas_height],y=[Y.canvas_width];for(var ce=0;ce<Z.length&&Z[ce].blend!=0;ce++);}var be=Z[0],Re=O.WebPDecodeRGBA(C,be.src_off,be.src_size,y,x);be.rgba=Re,be.imgwidth=y[0],be.imgheight=x[0];for(var W=0;W<y[0]*x[0]*4;W++)L[W]=Re[W];return this.width=y,this.height=x,this.data=L,this}(function(n){var e=function(){return typeof Rg=="function"},t=function(x,y,L,O){var C=4,V=l;switch(O){case n.image_compression.FAST:C=1,V=o;break;case n.image_compression.MEDIUM:C=6,V=c;break;case n.image_compression.SLOW:C=9,V=d}x=r(x,y,L,V);var Y=Rg(x,{level:C});return n.__addimage__.arrayBufferToBinaryString(Y)},r=function(x,y,L,O){for(var C,V,Y,Z=x.length/y,ce=new Uint8Array(x.length+Z),be=w(),Re=0;Re<Z;Re+=1){if(Y=Re*y,C=x.subarray(Y,Y+y),O)ce.set(O(C,L,V),Y+Re);else{for(var W,R=be.length,B=[];W<R;W+=1)B[W]=be[W](C,L,V);var U=b(B.concat());ce.set(B[U],Y+Re)}V=C}return ce},s=function(x){var y=Array.apply([],x);return y.unshift(0),y},o=function(x,y){var L,O=[],C=x.length;O[0]=1;for(var V=0;V<C;V+=1)L=x[V-y]||0,O[V+1]=x[V]-L+256&255;return O},l=function(x,y,L){var O,C=[],V=x.length;C[0]=2;for(var Y=0;Y<V;Y+=1)O=L&&L[Y]||0,C[Y+1]=x[Y]-O+256&255;return C},c=function(x,y,L){var O,C,V=[],Y=x.length;V[0]=3;for(var Z=0;Z<Y;Z+=1)O=x[Z-y]||0,C=L&&L[Z]||0,V[Z+1]=x[Z]+256-(O+C>>>1)&255;return V},d=function(x,y,L){var O,C,V,Y,Z=[],ce=x.length;Z[0]=4;for(var be=0;be<ce;be+=1)O=x[be-y]||0,C=L&&L[be]||0,V=L&&L[be-y]||0,Y=g(O,C,V),Z[be+1]=x[be]-Y+256&255;return Z},g=function(x,y,L){if(x===y&&y===L)return x;var O=Math.abs(y-L),C=Math.abs(x-L),V=Math.abs(x+y-L-L);return O<=C&&O<=V?x:C<=V?y:L},w=function(){return[s,o,l,c,d]},b=function(x){var y=x.map(function(L){return L.reduce(function(O,C){return O+Math.abs(C)},0)});return y.indexOf(Math.min.apply(null,y))};n.processPNG=function(x,y,L,O){var C,V,Y,Z,ce,be,Re,W,R,B,U,T,j,D,oe,Te=this.decode.FLATE_DECODE,Ae="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(Y=new N8(x)).imgData,V=Y.bits,C=Y.colorSpace,ce=Y.colors,[4,6].indexOf(Y.colorType)!==-1){if(Y.bits===8){R=(W=Y.pixelBitlength==32?new Uint32Array(Y.decodePixels().buffer):Y.pixelBitlength==16?new Uint16Array(Y.decodePixels().buffer):new Uint8Array(Y.decodePixels().buffer)).length,U=new Uint8Array(R*Y.colors),B=new Uint8Array(R);var Pe,se=Y.pixelBitlength-Y.bits;for(D=0,oe=0;D<R;D++){for(j=W[D],Pe=0;Pe<se;)U[oe++]=j>>>Pe&255,Pe+=Y.bits;B[D]=j>>>Pe&255}}if(Y.bits===16){R=(W=new Uint32Array(Y.decodePixels().buffer)).length,U=new Uint8Array(R*(32/Y.pixelBitlength)*Y.colors),B=new Uint8Array(R*(32/Y.pixelBitlength)),T=Y.colors>1,D=0,oe=0;for(var _e=0;D<R;)j=W[D++],U[oe++]=j>>>0&255,T&&(U[oe++]=j>>>16&255,j=W[D++],U[oe++]=j>>>0&255),B[_e++]=j>>>16&255;V=8}O!==n.image_compression.NONE&&e()?(x=t(U,Y.width*Y.colors,Y.colors,O),Re=t(B,Y.width,1,O)):(x=U,Re=B,Te=void 0)}if(Y.colorType===3&&(C=this.color_spaces.INDEXED,be=Y.palette,Y.transparency.indexed)){var pe=Y.transparency.indexed,re=0;for(D=0,R=pe.length;D<R;++D)re+=pe[D];if((re/=255)===R-1&&pe.indexOf(0)!==-1)Z=[pe.indexOf(0)];else if(re!==R){for(W=Y.decodePixels(),B=new Uint8Array(W.length),D=0,R=W.length;D<R;D++)B[D]=pe[W[D]];Re=t(B,Y.width,1)}}var k=function(K){var X;switch(K){case n.image_compression.FAST:X=11;break;case n.image_compression.MEDIUM:X=13;break;case n.image_compression.SLOW:X=14;break;default:X=12}return X}(O);return Te===this.decode.FLATE_DECODE&&(Ae="/Predictor "+k+" "),Ae+="/Colors "+ce+" /BitsPerComponent "+V+" /Columns "+Y.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(Re&&this.__addimage__.isArrayBuffer(Re)||this.__addimage__.isArrayBufferView(Re))&&(Re=this.__addimage__.arrayBufferToBinaryString(Re)),{alias:L,data:x,index:y,filter:Te,decodeParameters:Ae,transparency:Z,palette:be,sMask:Re,predictor:k,width:Y.width,height:Y.height,bitsPerComponent:V,colorSpace:C}}}})(Rt.API),function(n){n.processGIF89A=function(e,t,r,s){var o=new S8(e),l=o.width,c=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var g={data:d,width:l,height:c},w=new Xm(100).encode(g,100);return n.processJPEG.call(this,w,t,r,s)},n.processGIF87A=n.processGIF89A}(Rt.API),Xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Dn.log("bit decode error:"+t)}},Xo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var d=this.palette[o>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Xo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*s*4,c=o>>4,d=15&o,g=this.palette[c];if(this.data[l]=g.blue,this.data[l+1]=g.green,this.data[l+2]=g.red,this.data[l+3]=255,2*s+1>=this.width)break;g=this.palette[d],this.data[l+4]=g.blue,this.data[l+4+1]=g.green,this.data[l+4+2]=g.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Xo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var l=this.palette[s];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Xo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,g=o>>15?255:0,w=r*this.width*4+4*s;this.data[w]=d,this.data[w+1]=c,this.data[w+2]=l,this.data[w+3]=g}this.pos+=n}},Xo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&t)/t*255|0,g=(l>>11)/e*255|0,w=s*this.width*4+4*o;this.data[w]=g,this.data[w+1]=d,this.data[w+2]=c,this.data[w+3]=255}this.pos+=n}},Xo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Xo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=l}},Xo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,s){var o=new Xo(e,!1),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},g=new Xm(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)}}(Rt.API),f5.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,s){var o=new f5(e),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},g=new Xm(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)}}(Rt.API),Rt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,d=0,g=0;g<s;g+=4){var w=r[g],b=r[g+1],x=r[g+2],y=r[g+3];o[c++]=w,o[c++]=b,o[c++]=x,l[d++]=y}var L=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:L,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Rt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qc=Rt.API,bf=qc.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,d=c.fof?c.fof:1,g=e.kerning?e.kerning:s.metadata.Unicode.kerning,w=g.fof?g.fof:1,b=e.doKerning!==!1,x=0,y=n.length,L=0,O=c[0]||d,C=[];for(t=0;t<y;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?C.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+l*(1e3/o)||0)/1e3):(x=b&&kn(g[r])==="object"&&!isNaN(parseInt(g[r][L],10))?g[r][L]/w:0,C.push((c[r]||O)/d+x)),L=r;return C},u5=qc.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return qc.processArabic&&(n=qc.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:bf.apply(this,arguments).reduce(function(o,l){return o+l},0)},c5=function(n,e,t,r){for(var s=[],o=0,l=n.length,c=0;o!==l&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var d=o;for(c=0;o!==l;)c+e[o]>r&&(s.push(n.slice(d,o)),c=0,d=o),c+=e[o],o++;return d!==o&&s.push(n.slice(d,o)),s},h5=function(n,e,t){t||(t={});var r,s,o,l,c,d,g,w=[],b=[w],x=t.textIndent||0,y=0,L=0,O=n.split(" "),C=bf.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?O[0].length+2:t.lineIndent||0){var V=Array(d).join(" "),Y=[];O.map(function(ce){(ce=ce.split(/\s*\n/)).length>1?Y=Y.concat(ce.map(function(be,Re){return(Re&&be.length?`
`:"")+be})):Y.push(ce[0])}),O=Y,d=u5.apply(this,[V,t])}for(o=0,l=O.length;o<l;o++){var Z=0;if(r=O[o],d&&r[0]==`
`&&(r=r.substr(1),Z=1),x+y+(L=(s=bf.apply(this,[r,t])).reduce(function(ce,be){return ce+be},0))>e||Z){if(L>e){for(c=c5.apply(this,[r,s,e-(x+y),e]),w.push(c.shift()),w=[c.pop()];c.length;)b.push([c.shift()]);L=s.slice(r.length-(w[0]?w[0].length:0)).reduce(function(ce,be){return ce+be},0)}else w=[r];b.push(w),x=L+d,y=C}else w.push(r),x+=y+L,y=C}return g=d?function(ce,be){return(be?V:"")+ce.join(" ")}:function(ce){return ce.join(" ")},b.map(g)},qc.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var b=this.internal.getFont(w.fontName,w.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,d,g=[];for(c=0,d=r.length;c<d;c++)g=g.concat(h5.apply(this,[r[c],l,o]));return g},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var o=function(b){return"0x"+parseInt(b,10).toString(16)},l=n.__fontmetrics__.compress=function(b){var x,y,L,O,C=["{"];for(var V in b){if(x=b[V],isNaN(parseInt(V,10))?y="'"+V+"'":(V=parseInt(V,10),y=(y=o(V).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof x=="number")x<0?(L=o(x).slice(3),O="-"):(L=o(x).slice(2),O=""),L=O+L.slice(0,-1)+r[L.slice(-1)];else{if(kn(x)!=="object")throw new Error("Don't know what to do with value type "+kn(x)+".");L=l(x)}C.push(y+L)}return C.push("}"),C.join("")},c=n.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,y,L,O,C={},V=1,Y=C,Z=[],ce="",be="",Re=b.length-1,W=1;W<Re;W+=1)(O=b[W])=="'"?x?(L=x.join(""),x=void 0):x=[]:x?x.push(O):O=="{"?(Z.push([Y,L]),Y={},L=void 0):O=="}"?((y=Z.pop())[0][y[1]]=Y,L=void 0,Y=y[0]):O=="-"?V=-1:L===void 0?t.hasOwnProperty(O)?(ce+=t[O],L=parseInt(ce,16)*V,V=1,ce=""):ce+=O:t.hasOwnProperty(O)?(be+=t[O],Y[L]=parseInt(be,16)*V,V=1,L=void 0,be=""):be+=O;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var x=b.font,y=w.Unicode[x.postScriptName];y&&(x.metadata.Unicode={},x.metadata.Unicode.widths=y.widths,x.metadata.Unicode.kerning=y.kerning);var L=g.Unicode[x.postScriptName];L&&(x.metadata.Unicode.encoding=L,x.encoding=L.codePages[0])}])}(Rt.API),function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(ed(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,r)}}])}(Rt),function(n){function e(){return(jt.canvg?Promise.resolve(jt.canvg):Ff(()=>import("./index.es-DqM_A_HR.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Rt.API.addSvgAsImage=function(t,r,s,o,l,c,d,g){if(isNaN(r)||isNaN(s))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=o,w.height=l;var b=w.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,w.width,w.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(L){return L.fromString(b,t,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(L){return L.render(x)}).then(function(){y.addImage(w.toDataURL("image/jpeg",1),r,s,o,l,d,g)})}}(),Rt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Rt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],g=0,w=0,b=0;function x(L,O){var C,V=!1;for(C=0;C<L.length;C+=1)L[C]===O&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=c.length;for(b=0;b<y;b+=1)t[c[b]].value=t[c[b]].defaultValue,t[c[b]].explicitSet=!1}if(kn(n)==="object"){for(s in n)if(o=n[s],x(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&x(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(g=0;g<o.length;g+=1)if(r=!0,o[g].length===1&&typeof o[g][0]=="number")d.push(String(o[g]-1));else if(o[g].length>1){for(w=0;w<o[g].length;w+=1)typeof o[g][w]!="number"&&(r=!1);r===!0&&d.push([o[g][0]-1,o[g][1]-1].join(" "))}t[s].value="["+d.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,O=[];for(L in t)t[L].explicitSet===!0&&(t[L].type==="name"?O.push("/"+L+" /"+t[L].value):O.push("/"+L+" "+t[L].value));O.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+O.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),g=o.length+l.length+c.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(s+o+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Rt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,l){for(var c,d=l.metadata.Unicode.widths,g=["","0","00","000","0000"],w=[""],b=0,x=o.length;b<x;++b){if(c=l.metadata.characterToGlyph(o.charCodeAt(b)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(b),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return w.join("");c=c.toString(16),w.push(g[4-c.length],c)}return w.join("")},r=function(o){var l,c,d,g,w,b,x;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,x=(c=Object.keys(o).sort(function(y,L){return y-L})).length;b<x;b++)l=c[b],d.length>=100&&(w+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(g=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+g+">"));return d.length&&(w+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),w+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,g=l.newObject,w=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",L=0;L<x.length;L++)y+=String.fromCharCode(x[L]);var O=g();w({data:y,addLength1:!0,objectId:O}),d("endobj");var C=g();w({data:r(c.metadata.toUnicode),addLength1:!0,objectId:C}),d("endobj");var V=g();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Qc(c.fontName)),d("/FontFile2 "+O+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var Y=g();d("<<"),d("/Type /Font"),d("/BaseFont /"+Qc(c.fontName)),d("/FontDescriptor "+V+" 0 R"),d("/W "+n.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=g(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+C+" 0 R"),d("/BaseFont /"+Qc(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+Y+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,g=l.newObject,w=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,x="",y=0;y<b.length;y++)x+=String.fromCharCode(b[y]);var L=g();w({data:x,addLength1:!0,objectId:L}),d("endobj");var O=g();w({data:r(c.metadata.toUnicode),addLength1:!0,objectId:O}),d("endobj");var C=g();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+L+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Qc(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=g();for(var V=0;V<c.metadata.hmtx.widths.length;V++)c.metadata.hmtx.widths[V]=parseInt(c.metadata.hmtx.widths[V]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+Qc(c.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var l,c=o.text||"",d=o.x,g=o.y,w=o.options||{},b=o.mutex||{},x=b.pdfEscape,y=b.activeFontKey,L=b.fonts,O=y,C="",V=0,Y="",Z=L[O].encoding;if(L[O].encoding!=="Identity-H")return{text:c,x:d,y:g,options:w,mutex:b};for(Y=c,O=y,Array.isArray(c)&&(Y=c[0]),V=0;V<Y.length;V+=1)L[O].metadata.hasOwnProperty("cmap")&&(l=L[O].metadata.cmap.unicode.codeMap[Y[V].charCodeAt(0)]),l||Y[V].charCodeAt(0)<256&&L[O].metadata.hasOwnProperty("Unicode")?C+=Y[V]:C+="";var ce="";return parseInt(O.slice(1))<14||Z==="WinAnsiEncoding"?ce=x(C,O).split("").map(function(be){return be.charCodeAt(0).toString(16)}).join(""):Z==="Identity-H"&&(ce=t(C,L[O])),b.isHex=!0,{text:ce,x:d,y:g,options:w,mutex:b}};e.events.push(["postProcessText",function(o){var l=o.text||"",c=[],d={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var g=0;for(g=0;g<l.length;g+=1)Array.isArray(l[g])&&l[g].length===3?c.push([s(Object.assign({},d,{text:l[g][0]})).text,l[g][1],l[g][2]]):c.push(s(Object.assign({},d,{text:l[g]})).text);o.text=c}else o.text=s(Object.assign({},d,{text:l})).text}])}(Rt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Rt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,l,c,d,g,w,b=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Y=!1,Z=0;this.__bidiEngine__={};var ce=function(T){var j=T.charCodeAt(),D=j>>8,oe=O[D];return oe!==void 0?b[256*oe+(255&j)]:D===252||D===253?"AL":V.test(D)?"L":D===8?"R":"N"},be=function(T){for(var j,D=0;D<T.length;D++){if((j=ce(T.charAt(D)))==="L")return!1;if(j==="R")return!0}return!1},Re=function(T,j,D,oe){var Te,Ae,Pe,se,_e=j[oe];switch(_e){case"L":case"R":Y=!1;break;case"N":case"AN":break;case"EN":Y&&(_e="AN");break;case"AL":Y=!0,_e="R";break;case"WS":_e="N";break;case"CS":oe<1||oe+1>=j.length||(Te=D[oe-1])!=="EN"&&Te!=="AN"||(Ae=j[oe+1])!=="EN"&&Ae!=="AN"?_e="N":Y&&(Ae="AN"),_e=Ae===Te?Ae:"N";break;case"ES":_e=(Te=oe>0?D[oe-1]:"B")==="EN"&&oe+1<j.length&&j[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&D[oe-1]==="EN"){_e="EN";break}if(Y){_e="N";break}for(Pe=oe+1,se=j.length;Pe<se&&j[Pe]==="ET";)Pe++;_e=Pe<se&&j[Pe]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(se=j.length,Pe=oe+1;Pe<se&&j[Pe]==="NSM";)Pe++;if(Pe<se){var pe=T[oe],re=pe>=1425&&pe<=2303||pe===64286;if(Te=j[Pe],re&&(Te==="R"||Te==="AL")){_e="R";break}}}_e=oe<1||(Te=j[oe-1])==="B"?"N":D[oe-1];break;case"B":Y=!1,s=!0,_e=Z;break;case"S":o=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Y=!1;break;case"BN":_e="N"}return _e},W=function(T,j,D){var oe=T.split("");return D&&R(oe,D,{hiLevel:Z}),oe.reverse(),j&&j.reverse(),oe.join("")},R=function(T,j,D){var oe,Te,Ae,Pe,se,_e=-1,pe=T.length,re=0,k=[],K=Z?y:x,X=[];for(Y=!1,s=!1,o=!1,Te=0;Te<pe;Te++)X[Te]=ce(T[Te]);for(Ae=0;Ae<pe;Ae++){if(se=re,k[Ae]=Re(T,X,k,Ae),oe=240&(re=K[se][L[k[Ae]]]),re&=15,j[Ae]=Pe=K[re][5],oe>0)if(oe===16){for(Te=_e;Te<Ae;Te++)j[Te]=1;_e=-1}else _e=-1;if(K[re][6])_e===-1&&(_e=Ae);else if(_e>-1){for(Te=_e;Te<Ae;Te++)j[Te]=Pe;_e=-1}X[Ae]==="B"&&(j[Ae]=0),D.hiLevel|=Pe}o&&function(te,ae,we){for(var xe=0;xe<we;xe++)if(te[xe]==="S"){ae[xe]=Z;for(var Ne=xe-1;Ne>=0&&te[Ne]==="WS";Ne--)ae[Ne]=Z}}(X,j,pe)},B=function(T,j,D,oe,Te){if(!(Te.hiLevel<T)){if(T===1&&Z===1&&!s)return j.reverse(),void(D&&D.reverse());for(var Ae,Pe,se,_e,pe=j.length,re=0;re<pe;){if(oe[re]>=T){for(se=re+1;se<pe&&oe[se]>=T;)se++;for(_e=re,Pe=se-1;_e<Pe;_e++,Pe--)Ae=j[_e],j[_e]=j[Pe],j[Pe]=Ae,D&&(Ae=D[_e],D[_e]=D[Pe],D[Pe]=Ae);re=se}re++}}},U=function(T,j,D){var oe=T.split(""),Te={hiLevel:Z};return D||(D=[]),R(oe,D,Te),function(Ae,Pe,se){if(se.hiLevel!==0&&w)for(var _e,pe=0;pe<Ae.length;pe++)Pe[pe]===1&&(_e=C.indexOf(Ae[pe]))>=0&&(Ae[pe]=C[_e+1])}(oe,D,Te),B(2,oe,j,D,Te),B(1,oe,j,D,Te),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(T,j,D){if(function(Te,Ae){if(Ae)for(var Pe=0;Pe<Te.length;Pe++)Ae[Pe]=Pe;c===void 0&&(c=be(Te)),g===void 0&&(g=be(Te))}(T,j),l||!d||g)if(l&&d&&c^g)Z=c?1:0,T=W(T,j,D);else if(!l&&d&&g)Z=c?1:0,T=U(T,j,D),T=W(T,j);else if(!l||c||d||g){if(l&&!d&&c^g)T=W(T,j),c?(Z=0,T=U(T,j,D)):(Z=1,T=U(T,j,D),T=W(T,j));else if(l&&c&&!d&&g)Z=1,T=U(T,j,D),T=W(T,j);else if(!l&&!d&&c^g){var oe=w;c?(Z=1,T=U(T,j,D),Z=0,w=!1,T=U(T,j,D),w=oe):(Z=0,T=U(T,j,D),T=W(T,j),Z=1,w=!1,T=U(T,j,D),w=oe,T=W(T,j))}}else Z=0,T=U(T,j,D);else Z=c?1:0,T=U(T,j,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(l=T.isInputVisual,d=T.isOutputVisual,c=T.isInputRtl,g=T.isOutputRtl,w=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([t.doBidiReorder(s[c])]);r.text=l}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Tu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new V8(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new E8(this.contents),this.head=new I8(this),this.name=new R8(this),this.cmap=new D_(this),this.toUnicode={},this.hhea=new T8(this),this.maxp=new L8(this),this.hmtx=new j8(this),this.post=new k8(this),this.os2=new P8(this),this.loca=new M8(this),this.glyf=new O8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,g;for(g=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],g.push(Math.round(e*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,l,c;for(l=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var sa,Tu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,l,c,d;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*l+256*c+d},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),E8=function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,l,c,d,g,w,b,x,y,L,O;for(O in y=Object.keys(t).length,d=Math.log(2),b=16*Math.floor(Math.log(y)/d),l=Math.floor(b/d),w=16*y-b,(s=new Tu).writeInt(this.scalarType),s.writeShort(y),s.writeShort(b),s.writeShort(l),s.writeShort(w),o=16*y,g=s.pos+o,c=null,L=[],t)for(x=t[O],s.writeString(O),s.writeInt(n(x)),s.writeInt(g),s.writeInt(x.length),L=L.concat(x),O==="head"&&(c=g),g+=x.length;g%4;)L.push(0),g++;return s.write(L),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,l;for(t=F_.call(t);t.length%4;)t.push(0);for(o=new Tu(t),s=0,r=0,l=t.length;r<l;r=r+=4)s+=o.readUInt32();return 4294967295&s},e}(),A8={}.hasOwnProperty,Ba=function(n,e){for(var t in e)A8.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};sa=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var I8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Tu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),p5=function(){function n(e,t){var r,s,o,l,c,d,g,w,b,x,y,L,O,C,V,Y,Z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(y=e.readUInt16(),x=y/2,e.pos+=6,o=function(){var ce,be;for(be=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)be.push(e.readUInt16());return be}(),e.pos+=2,O=function(){var ce,be;for(be=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)be.push(e.readUInt16());return be}(),g=function(){var ce,be;for(be=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)be.push(e.readUInt16());return be}(),w=function(){var ce,be;for(be=[],d=ce=0;0<=x?ce<x:ce>x;d=0<=x?++ce:--ce)be.push(e.readUInt16());return be}(),s=(this.length-e.pos+this.offset)/2,c=function(){var ce,be;for(be=[],d=ce=0;0<=s?ce<s:ce>s;d=0<=s?++ce:--ce)be.push(e.readUInt16());return be}(),d=V=0,Z=o.length;V<Z;d=++V)for(C=o[d],r=Y=L=O[d];L<=C?Y<=C:Y>=C;r=L<=C?++Y:--Y)w[d]===0?l=r+g[d]:(l=c[w[d]/2+(r-L)-(x-d)]||0)!==0&&(l+=g[d]),this.codeMap[r]=65535&l}e.pos=b}return n.encode=function(e,t){var r,s,o,l,c,d,g,w,b,x,y,L,O,C,V,Y,Z,ce,be,Re,W,R,B,U,T,j,D,oe,Te,Ae,Pe,se,_e,pe,re,k,K,X,te,ae,we,xe,Ne,qe,We,it;switch(oe=new Tu,l=Object.keys(e).sort(function(et,xt){return et-xt}),t){case"macroman":for(O=0,C=function(){var et=[];for(L=0;L<256;++L)et.push(0);return et}(),Y={0:0},o={},Te=0,_e=l.length;Te<_e;Te++)Y[Ne=e[s=l[Te]]]==null&&(Y[Ne]=++O),o[s]={old:e[s],new:Y[e[s]]},C[s]=Y[e[s]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(C),{charMap:o,subtable:oe.data,maxGlyphID:O+1};case"unicode":for(j=[],b=[],Z=0,Y={},r={},V=g=null,Ae=0,pe=l.length;Ae<pe;Ae++)Y[be=e[s=l[Ae]]]==null&&(Y[be]=++Z),r[s]={old:be,new:Y[be]},c=Y[be]-s,V!=null&&c===g||(V&&b.push(V),j.push(s),g=c),V=s;for(V&&b.push(V),b.push(65535),j.push(65535),U=2*(B=j.length),R=2*Math.pow(Math.log(B)/Math.LN2,2),x=Math.log(R/2)/Math.LN2,W=2*B-R,d=[],Re=[],y=[],L=Pe=0,re=j.length;Pe<re;L=++Pe){if(T=j[L],w=b[L],T===65535){d.push(0),Re.push(0);break}if(T-(D=r[T].new)>=32768)for(d.push(0),Re.push(2*(y.length+B-L)),s=se=T;T<=w?se<=w:se>=w;s=T<=w?++se:--se)y.push(r[s].new);else d.push(D-T),Re.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*B+2*y.length),oe.writeUInt16(0),oe.writeUInt16(U),oe.writeUInt16(R),oe.writeUInt16(x),oe.writeUInt16(W),we=0,k=b.length;we<k;we++)s=b[we],oe.writeUInt16(s);for(oe.writeUInt16(0),xe=0,K=j.length;xe<K;xe++)s=j[xe],oe.writeUInt16(s);for(qe=0,X=d.length;qe<X;qe++)c=d[qe],oe.writeUInt16(c);for(We=0,te=Re.length;We<te;We++)ce=Re[We],oe.writeUInt16(ce);for(it=0,ae=y.length;it<ae;it++)O=y[it],oe.writeUInt16(O);return{charMap:r,subtable:oe.data,maxGlyphID:Z+1}}},n}(),D_=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)r=new p5(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,o;return r==null&&(r="macroman"),s=p5.encode(t,r),(o=new Tu).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},e}(),T8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),P8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),k8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(s=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var c,d,g;for(g=[],l=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;l=0<=d?++c:--c)g.push(t.readUInt32());return g}).call(this)}},e}(),C8=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},R8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,o,l,c,d,g,w,b,x,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),d=t.readShort(),s=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(g={},l=b=0,x=s.length;b<x;l=++b)o=s[l],t.pos=o.offset,w=t.readString(o.length),c=new C8(w,o),g[y=o.nameID]==null&&(g[y]=[]),g[o.nameID].push(c);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e}(),L8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),j8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,o,l,c,d,g;for(t.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,b;for(b=[],r=w=0;0<=o?w<o:w>o;r=0<=o?++w:--w)b.push(t.readInt16());return b}(),this.widths=(function(){var w,b,x,y;for(y=[],w=0,b=(x=this.metrics).length;w<b;w++)l=x[w],y.push(l.advance);return y}).call(this),s=this.widths[this.widths.length-1],g=[],r=c=0;0<=o?c<o:c>o;r=0<=o?++c:--c)g.push(this.widths.push(s));return g},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),F_=[].slice,O8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,o,l,c,d,g,w,b,x;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,s=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,c=(d=new Tu(r.read(o))).readShort(),w=d.readShort(),x=d.readShort(),g=d.readShort(),b=d.readShort(),this.cache[t]=c===-1?new F8(d,w,x,g,b):new D8(d,c,w,x,g,b),this.cache[t]))},e.prototype.encode=function(t,r,s){var o,l,c,d,g;for(c=[],l=[],d=0,g=r.length;d<g;d++)o=t[r[d]],l.push(c.length),o&&(c=c.concat(o.encode(s)));return l.push(c.length),{table:c,offsets:l}},e}(),D8=function(){function n(e,t,r,s,o,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),F8=function(){function n(e,t,r,s,o){var l,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Tu(F_.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),M8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ba(e,sa),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),o=0,l=0,c=0;c<s.length;++c)if(s[c]=o,l<r.length&&r[l]==c){++l,s[c]=o;var d=this.offsets[c],g=this.offsets[c+1]-d;g>0&&(o+=g)}for(var w=new Array(4*s.length),b=0;b<s.length;++b)w[4*b+3]=255&s[b],w[4*b+2]=(65280&s[b])>>8,w[4*b+1]=(16711680&s[b])>>16,w[4*b]=(4278190080&s[b])>>24;return w},e}(),V8=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,l,c,d;for(s={},l=0,c=e.length;l<c;l++)s[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))r=d[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,l,c,d,g,w,b,x,y,L,O,C,V;for(s in r=D_.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},V=r.charMap)y[(d=V[s]).old]=d.new;for(L in x=r.maxGlyphID,l)L in y||(y[L]=x++);return w=function(Y){var Z,ce;for(Z in ce={},Y)ce[Y[Z]]=Z;return ce}(y),b=Object.keys(w).sort(function(Y,Z){return Y-Z}),O=function(){var Y,Z,ce;for(ce=[],Y=0,Z=b.length;Y<Z;Y++)c=b[Y],ce.push(w[c]);return ce}(),o=this.font.glyf.encode(l,O,y),g=this.font.loca.encode(o.offsets,O),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();Rt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,l;if(Array.isArray(t))return"["+function(){var c,d,g;for(g=[],c=0,d=t.length;c<d;c++)r=t[c],g.push(e.convert(r));return g}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)l=t[s],o.push("/"+s+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e}();function up(n,e){try{if(e&&n.selectedRooms&&n.selectedRooms.length>0){const t=e.rooms?.find(r=>r.id===n.selectedRooms[0]);if(t&&t.number)return`${t.type} ${t.number}`}return n.roomType||"Room"}catch(t){return console.error("Error getting room display name:",t),n.roomType||"Room"}}function G0({booking:n,hotel:e,onClose:t}){const r=()=>{const x=new Date,y=x.getFullYear().toString()+(x.getMonth()+1).toString().padStart(2,"0")+x.getDate().toString().padStart(2,"0"),L=Math.random().toString(36).substring(2,6).toUpperCase();return`GS-${y}-${L}`},s=()=>{const x=new Date(n.checkIn),y=new Date(n.checkOut);return Math.max(1,Math.round((y-x)/864e5))},o=x=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(x).getDay()],l=()=>{const x=e.rooms.find(V=>V.id===n.selectedRooms[0]),y=x?x.price:x?.type==="Dorm"?2e3:1e3,L=s(),O=y*L*n.selectedRooms.length,C=O*.18;return{subtotal:O,gst:C,total:O+C}},c=r(),d=s(),g=l(),w=()=>{window.print()},b=async()=>{try{const x=document.querySelector("[data-pdf-download]");x&&(x.disabled=!0,x.textContent="Generating Receipt...");const y=new Rt("p","mm","a4");y.setFontSize(20),y.setFont("helvetica","bold"),y.setTextColor(0,0,0),y.text("GOVSTAY - BOOKING CONFIRMATION",105,20,{align:"center"}),y.setDrawColor(0,102,204),y.setLineWidth(.5),y.line(60,25,150,25),y.setFontSize(12),y.setFont("helvetica","normal");let L=40;y.setFontSize(14),y.setFont("helvetica","bold"),y.text("Booking Details:",20,L),L+=10,y.setFontSize(10),y.setFont("helvetica","normal"),y.text(`Booking ID: ${c}`,20,L),L+=6,y.text(`Booking Date: ${new Date().toLocaleDateString()}`,20,L),L+=6,y.text(`Guest Name: ${n.applicantName}`,20,L),L+=15,y.setFontSize(14),y.setFont("helvetica","bold"),y.text("Accommodation Details:",20,L),L+=10;let O;const C=e.rooms.find(Y=>Y.id===n.selectedRooms[0]);C&&C.type==="Dorm"?O="Dorm":O=up(n,e),y.setFontSize(10),y.setFont("helvetica","normal"),y.text(`Room Number(s): ${n.selectedRooms.join(", ")}`,20,L),L+=6,y.text(`Room Type: ${O}`,20,L),L+=6,y.text(`Check-in Date: ${n.checkIn} (${o(n.checkIn)})`,20,L),L+=6,y.text(`Check-out Date: ${n.checkOut} (${o(n.checkOut)})`,20,L),L+=6,y.text(`Number of Nights: ${d}`,20,L),L+=6,y.text(`Hotel: ${e.name}`,20,L),L+=15,y.setFontSize(14),y.setFont("helvetica","bold"),y.text("Guest Information:",20,L),L+=10,y.setFontSize(10),y.setFont("helvetica","normal"),y.text(`Applicant Address: ${n.applicantAddress}`,20,L),L+=6,y.text(`Government Servant: ${n.govtServant}`,20,L),L+=6,y.text(`Purpose: ${n.purpose}`,20,L),L+=6,y.text(`Number of Guests: ${n.guests}`,20,L),L+=6,n.guestNames&&n.guestNames.length>0&&(y.text("Guest Names:",20,L),L+=6,n.guestNames.forEach((Y,Z)=>{y.text(`${Z+1}. ${Y}`,25,L),L+=5}),L+=5),y.setFontSize(14),y.setFont("helvetica","bold"),y.text("Payment Summary:",20,L),L+=10;const V=C?C.price:O==="Dorm"?2e3:1e3;y.setFontSize(10),y.setFont("helvetica","normal"),y.text(`Price per Room per Night: ${V} INR`,20,L),L+=6,y.text(`Subtotal: ${g.subtotal} INR`,20,L),L+=6,y.text(`Taxes & Fees (18% GST): ${g.gst} INR`,20,L),L+=6,y.setFont("helvetica","bold"),y.setFontSize(12),y.text(`Total Amount Paid: ${g.total} INR`,20,L),L+=15,y.setFontSize(14),y.setFont("helvetica","bold"),y.text("Contact Information:",20,L),L+=10,y.setFontSize(10),y.setFont("helvetica","normal"),y.text("GovStay Support: support@govstay.goa.gov.in",20,L),L+=6,y.text("Address: Government Guest House, Goa",20,L),L+=15,y.setFontSize(10),y.setFont("helvetica","italic"),y.text("Thank you for choosing GovStay! We look forward to your stay.",105,L,{align:"center"}),y.save(`booking-receipt-${c}.pdf`),x&&(x.disabled=!1,x.textContent="Download Receipt")}catch(x){console.error("Error generating PDF:",x),alert("Error generating PDF. Please try again.");const y=document.querySelector("[data-pdf-download]");y&&(y.disabled=!1,y.textContent="Download Receipt")}};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"GOVSTAY - BOOKING CONFIRMATION"}),v.jsx("div",{className:"w-24 h-1 bg-blue-600 mx-auto"})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b border-gray-200 pb-2",children:"Booking Details"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Booking ID:"}),v.jsx("span",{className:"ml-2 text-blue-600 font-mono",children:c})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Booking Date:"}),v.jsx("span",{className:"ml-2",children:new Date().toLocaleDateString()})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Guest Name:"}),v.jsx("span",{className:"ml-2",children:n.applicantName})]})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b border-gray-200 pb-2",children:"Accommodation Details"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Room Number(s):"}),v.jsx("span",{className:"ml-2",children:n.selectedRooms.join(", ")})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Room Type:"}),v.jsx("span",{className:"ml-2",children:(()=>{const x=e.rooms.find(y=>y.id===n.selectedRooms[0]);return x&&x.type==="Dorm"?"Dorm":up(n,e)})()})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Check-in Date:"}),v.jsxs("span",{className:"ml-2",children:[n.checkIn," (",o(n.checkIn),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Check-out Date:"}),v.jsxs("span",{className:"ml-2",children:[n.checkOut," (",o(n.checkOut),")"]})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Number of Nights:"}),v.jsx("span",{className:"ml-2",children:d})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Hotel:"}),v.jsx("span",{className:"ml-2",children:e.name})]})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b border-gray-200 pb-2",children:"Guest Information"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Applicant Address:"}),v.jsx("span",{className:"ml-2",children:n.applicantAddress})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Government Servant:"}),v.jsx("span",{className:"ml-2 capitalize",children:n.govtServant})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Purpose:"}),v.jsx("span",{className:"ml-2 capitalize",children:n.purpose})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Number of Guests:"}),v.jsx("span",{className:"ml-2",children:n.guests})]}),n.guestNames&&n.guestNames.length>0&&v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Guest Names:"}),v.jsx("div",{className:"ml-2 mt-1",children:n.guestNames.map((x,y)=>v.jsxs("div",{className:"text-sm text-gray-600",children:[y+1,". ",x]},y))})]})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b border-gray-200 pb-2",children:"Payment Summary"}),v.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-700",children:"Price per Room per Night:"}),v.jsx("span",{className:"font-semibold",children:(()=>{const x=e.rooms.find(L=>L.id===n.selectedRooms[0]);return`${x?x.price:x?.type==="Dorm"?2e3:1e3} INR`})()})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-700",children:"Subtotal:"}),v.jsxs("span",{className:"font-semibold",children:[g.subtotal," INR"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-700",children:"Taxes & Fees (18% GST):"}),v.jsxs("span",{className:"font-semibold",children:[g.gst," INR"]})]}),v.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-lg font-bold text-gray-800",children:"Total Amount Paid:"}),v.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[g.total," INR"]})]})})]})})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b border-gray-200 pb-2",children:"Contact Information"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"GovStay Support:"}),v.jsx("span",{className:"ml-2",children:"support@govstay.goa.gov.in"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Address:"}),v.jsx("span",{className:"ml-2",children:"Government Guest House, Goa"})]})]})]}),v.jsx("div",{className:"text-center py-6 border-t border-gray-200",children:v.jsx("p",{className:"text-gray-600 italic",children:"Thank you for choosing GovStay! We look forward to your stay."})}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[v.jsxs("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Receipt"]}),v.jsxs("button",{onClick:b,"data-pdf-download":!0,className:"px-6 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Receipt"]}),v.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors",children:"Close & Return"})]})]})})})}function M_({hotel:n,onClose:e,user:t,onBookingComplete:r,selectedRooms:s=[]}){const[o,l]=Le.useState(""),[c,d]=Le.useState(""),[g,w]=Le.useState(1),[b,x]=Le.useState(!1),[y,L]=Le.useState(!1),[O,C]=Le.useState(""),[V,Y]=Le.useState(""),[Z,ce]=Le.useState(""),[be,Re]=Le.useState([""]),[W,R]=Le.useState(""),[B,U]=Le.useState(""),[T,j]=Le.useState(s),[D,oe]=Le.useState(!1),[Te,Ae]=Le.useState(null),Pe=new Date().toISOString().split("T")[0],se=Le.useMemo(()=>{if(T.length>0){const k=n.rooms.find(K=>K.id===T[0]);return k?k.type:""}return""},[T,n.rooms]),_e=k=>{const K=Math.max(1,Math.min(10,k));w(K);let X=[...be];K>X.length?X=X.concat(Array(K-X.length).fill("")):X=X.slice(0,K),Re(X)},pe=(k,K)=>{const X=[...be];X[k]=K,Re(X)},re=async k=>{k.preventDefault(),x(!0),C("");try{if(o<Pe||c<Pe)throw new Error("Check-in and check-out dates cannot be in the past.");if(c<o)throw new Error("Check-out date cannot be before check-in date.");if(!V.trim())throw new Error("Applicant name is required.");if(!Z.trim())throw new Error("Applicant address is required.");if(!W)throw new Error("Please select if you are a government servant.");if(!B)throw new Error("Please select the purpose for accommodation.");if(be.length!==Number(g)||be.some(te=>!te.trim()))throw new Error("Please enter names for all guests.");if(T.length===0)throw new Error("Please select at least one room.");const K=bo(gi,"hotels",n.id);await LS(gi,async te=>{const ae=await te.get(K);if(!ae.exists())throw new Error("Hotel not found");const xe=ae.data().rooms.map(Ne=>({...Ne}));T.forEach(Ne=>{const qe=xe.findIndex(We=>We.id===Ne);if(qe===-1)throw new Error("Selected room not found");if(xe[qe].status==="occupied"||xe[qe].status==="booked")throw new Error("A selected room is already booked");xe[qe].status="occupied"}),te.update(K,{rooms:xe})});const X=await TS(Tp(gi,"bookings"),{userId:t.uid,userName:t.displayName||"Guest User",userEmail:t.email,hotelId:n.id,hotelName:n.name,roomType:se,selectedRooms:T,checkIn:o,checkOut:c,guests:Number(g),applicantName:V,applicantAddress:Z,guestNames:be,govtServant:W,purpose:B,createdAt:jS()});Ae({id:X.id,userId:t.uid,userName:t.displayName||"Guest User",userEmail:t.email,hotelId:n.id,hotelName:n.name,roomType:se,selectedRooms:T,checkIn:o,checkOut:c,guests:Number(g),applicantName:V,applicantAddress:Z,guestNames:be,govtServant:W,purpose:B,createdAt:new Date}),L(!0),setTimeout(()=>{L(!1),oe(!0),console.log("Showing receipt with booking data:",Te)},1e3)}catch(K){C(K.message||"Booking failed. Please try again.")}x(!1)};return v.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[!1,D&&Te&&v.jsx(G0,{booking:Te,hotel:n,onClose:()=>{oe(!1),Ae(null),r&&r(),e(),window.location.reload()}}),v.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:v.jsxs("div",{className:"p-10",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Book Your Stay"}),v.jsx("button",{className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",onClick:e,children:""})]}),v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("img",{src:n.images?.[0]||"/government-of-goa-logo.png",alt:n.name,className:"rounded-xl shadow-lg max-h-40 object-contain"})}),s.length>0?v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[v.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"Selected Rooms"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(k=>{const K=n.rooms.find(X=>X.id===k);return v.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[K?.number," (",K?.type,") - ",K?.price]},k)})}),v.jsxs("div",{className:"mt-3 text-sm text-blue-600",children:["Total: ",T.length," room(s) selected"]})]}):v.jsxs(v.Fragment,{children:[n.name==="Goa Niwas"&&v.jsx(MI,{rooms:n.rooms,selected:T,onSelect:j,hotelId:n.id}),n.name==="Goa Sadan"&&v.jsx(BI,{rooms:n.rooms,selected:T,onSelect:j,hotelId:n.id}),n.name==="Goa Bhavan"&&v.jsx(zI,{rooms:n.rooms,selected:T,onSelect:j,hotelId:n.id}),n.name!=="Goa Niwas"&&n.name!=="Goa Sadan"&&n.name!=="Goa Bhavan"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Room Type"}),v.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:se,onChange:k=>{setRoomType(k.target.value),j([])},required:!0,children:[v.jsx("option",{value:"",children:"Select Room Type"}),Array.from(new Set(n.rooms.map(k=>k.type))).map((k,K)=>v.jsx("option",{value:k,children:k},K))]})]}),se&&v.jsx(DI,{rooms:n.rooms,selectedType:se,selected:T,onSelect:j,hotelId:n.id})]})]}),y?v.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[v.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("div",{className:"text-2xl font-bold text-green-600 text-center",children:"Booking Confirmed!"}),v.jsx("p",{className:"text-gray-600 text-center mt-2",children:"Your reservation has been successfully created."}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{onClick:()=>oe(!0),className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"View Receipt"})})]}):v.jsxs("form",{onSubmit:re,className:"space-y-6",children:[O&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:O}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Applicant Name"}),v.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:V,onChange:k=>Y(k.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Applicant Address"}),v.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:Z,onChange:k=>ce(k.target.value),required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Check-in"}),v.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:k=>l(k.target.value),required:!0,min:Pe})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Check-out"}),v.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:c,onChange:k=>d(k.target.value),required:!0,min:Pe})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Number of Guests"}),v.jsx("input",{type:"number",min:"1",max:"10",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:g,onChange:k=>_e(Number(k.target.value)),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Names of All Guests"}),v.jsx("div",{className:"space-y-2",children:be.map((k,K)=>v.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:`Guest ${K+1} Name`,value:k,onChange:X=>pe(K,X.target.value),required:!0},K))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Are you a Government Servant?"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"govtServant",value:"yes",checked:W==="yes",onChange:()=>R("yes"),required:!0}),"Yes"]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"govtServant",value:"no",checked:W==="no",onChange:()=>R("no"),required:!0}),"No"]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-gray-700",children:"Purpose for Accommodation"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"purpose",value:"official",checked:B==="official",onChange:()=>U("official"),required:!0}),"Official"]}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"purpose",value:"private",checked:B==="private",onChange:()=>U("private"),required:!0}),"Private"]})]})]}),v.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg shadow-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:b||T.length===0,children:b?"Processing...":"Confirm Booking"})]})]})})]})}var V_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m5=Ui.createContext&&Ui.createContext(V_),B8=["attr","size","title"];function U8(n,e){if(n==null)return{};var t=z8(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function z8(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function cp(){return cp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cp.apply(this,arguments)}function g5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function hp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(t),!0).forEach(function(r){q8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function q8(n,e,t){return e=H8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H8(n){var e=$8(n,"string");return typeof e=="symbol"?e:e+""}function $8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function B_(n){return n&&n.map((e,t)=>Ui.createElement(e.tag,hp({key:t},e.attr),B_(e.child)))}function yi(n){return e=>Ui.createElement(W8,cp({attr:hp({},n.attr)},e),B_(n.child))}function W8(n){var e=t=>{var{attr:r,size:s,title:o}=n,l=U8(n,B8),c=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ui.createElement("svg",cp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:hp(hp({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Ui.createElement("title",null,o),n.children)};return m5!==void 0?Ui.createElement(m5.Consumer,null,t=>e(t)):e(V_)}function G8(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function K8(n){return yi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Q8(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function U_(n){return yi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function Y8(n){return yi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(n)}function nc(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function J8(n){return yi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function X8(n){return yi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(n)}function Z8(n){return yi({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function eT(n){return yi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 64c8.84 0 16-7.16 16-16V16c0-8.84-7.16-16-16-16H16C7.16 0 0 7.16 0 16v32c0 8.84 7.16 16 16 16h15.98v384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h240v-80c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v80h240c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16h-16V64h16zm-304 44.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zm0 96c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zm-128-96c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4zM179.2 256h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4c0 6.4-6.4 12.8-12.8 12.8zM192 384c0-53.02 42.98-96 96-96s96 42.98 96 96H192zm256-140.8c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-96c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4z"},child:[]}]})(n)}function tT(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function z_(n){return yi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function nT(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(n)}function q_(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function rT(n){return yi({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function iT(n){return yi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(n)}function sT(n){return yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"},child:[]}]})(n)}function oT({user:n}){const{id:e}=zg(),t=Fa(),r=_l(),[s,o]=Le.useState(null),[l,c]=Le.useState(!0),[d,g]=Le.useState(!1),[w,b]=Le.useState(null),[x,y]=Le.useState(0);if(Le.useEffect(()=>{async function O(){try{const C=bo(gi,"hotels",e),V=await cc(C);V.exists()?o({id:V.id,...V.data()}):console.log("Hotel not found in database")}catch(C){console.error("Error fetching hotel:",C)}c(!1)}O()},[e,x]),Le.useEffect(()=>{r.state&&r.state.openBooking&&g(!0)},[r.state]),Le.useEffect(()=>{d||y(O=>O+1)},[d]),Le.useEffect(()=>{const O=()=>{document.hidden||y(C=>C+1)};return document.addEventListener("visibilitychange",O),()=>{document.removeEventListener("visibilitychange",O)}},[]),l)return v.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:v.jsx("div",{className:"text-2xl text-blue-600 font-bold",children:"Loading hotel details..."})});if(!s)return v.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:v.jsx("div",{className:"text-2xl text-red-600 font-bold",children:"Hotel not found."})});const L=s.rooms.reduce((O,C)=>(O[C.type]||(O[C.type]={type:C.type,price:C.price,total:0,available:0,rooms:[]}),O[C.type].total++,C.status==="available"&&O[C.type].available++,O[C.type].rooms.push(C),O),{});return v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[d&&v.jsx(M_,{hotel:s,onClose:()=>g(!1),user:n,onBookingComplete:()=>y(O=>O+1)}),w&&v.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:()=>b(null),children:[v.jsx("img",{src:w,alt:"Enlarged hotel",className:"max-w-4xl max-h-[80vh] rounded-xl shadow-2xl",onClick:O=>O.stopPropagation()}),v.jsx("button",{className:"absolute top-8 right-8 text-4xl text-white font-bold bg-black bg-opacity-40 rounded-full w-12 h-12 flex items-center justify-center hover:bg-opacity-70 transition",onClick:()=>b(null),children:""})]}),v.jsxs("button",{className:"mb-4 px-4 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg shadow hover:bg-gray-200 transition flex items-center gap-2",onClick:()=>t(-1),children:[v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),"Back"]}),v.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-pink-50 to-green-50 rounded-3xl shadow-2xl overflow-hidden animate-fadeInUp flex flex-col md:flex-row gap-8 p-8 border border-blue-100",children:[v.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-4",children:[v.jsx("div",{className:"flex gap-3 mb-4 overflow-x-auto",children:s.images.map((O,C)=>v.jsx("div",{className:"group rounded-xl overflow-hidden cursor-pointer flex-shrink-0 border-2 border-gray-200 hover:border-blue-400 transition",onClick:()=>b(O),children:v.jsx("img",{src:O,alt:s.name+" image "+(C+1),className:"w-48 h-36 object-cover transition-transform duration-300 group-hover:scale-105"})},C))}),v.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-1 font-serif",children:s.name}),v.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-lg text-blue-600 hover:underline mb-1",children:[v.jsx(z_,{className:"text-blue-500"}),s.location]}),s.phone&&v.jsxs("div",{className:"flex items-center gap-2 text-md text-gray-700 mb-2",children:[v.jsx(nT,{className:"text-green-500"}),v.jsx("span",{className:"font-semibold",children:"Phone:"})," ",s.phone]}),v.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:s.description}),v.jsxs("div",{className:"mb-2",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Amenities"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:s.amenities.map((O,C)=>v.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium shadow hover:bg-blue-200 transition",children:[v.jsx(nc,{className:"text-blue-400"})," ",O]},C))})]})]}),v.jsxs("div",{className:"flex-1 p-4 bg-white rounded-2xl shadow-lg flex flex-col justify-between animate-fadeInUp2",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 font-serif",children:"Room Availability"}),v.jsx("div",{className:"space-y-4 mb-6",children:Object.values(L).map(O=>v.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 shadow-sm transition",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(Y8,{className:"text-blue-400 text-3xl flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xl font-bold text-gray-800",children:O.type}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",O.total," ",O.type,"s"]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",O.price]}),v.jsxs("div",{className:`text-sm font-semibold ${O.available>0?"text-green-600":"text-red-600"}`,children:["Available: ",O.available]})]})]})},O.type))}),v.jsx("div",{className:"text-center mt-4",children:n?v.jsx(xo,{to:`/hotel/${s.id}/book`,className:"block w-full px-6 py-3 bg-gradient-to-r from-green-600 to-blue-500 text-white font-bold rounded-full shadow-lg hover:from-blue-500 hover:to-green-600 transition text-lg animate-bounce-slow",children:"Book Now"}):v.jsx("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-pink-500 text-white font-bold rounded-full shadow-lg hover:from-pink-500 hover:to-blue-600 transition text-lg animate-bounce-slow",onClick:()=>t("/login",{state:{from:r.pathname,openBooking:!0}}),children:"Book Now"})})]})]}),v.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp {
          animation: fadeInUp 0.7s both;
        }
        @keyframes fadeInUp2 {
          from { opacity: 0; transform: translateY(60px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp2 {
          animation: fadeInUp2 1s both;
        }
        .animate-bounce-slow {
          animation: bounce 2s infinite;
        }
        @keyframes bounce {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
        }
      `})]})}function aT({user:n}){const{id:e}=zg(),t=Fa(),r=_l(),[s,o]=Le.useState(null),[l,c]=Le.useState(!0),[d,g]=Le.useState(1),[w,b]=Le.useState([]),[x,y]=Le.useState(!1),[L,O]=Le.useState(!1);Le.useEffect(()=>{async function R(){try{const B=bo(gi,"hotels",e),U=await cc(B);U.exists()?o({id:U.id,...U.data()}):console.log("Hotel not found in database")}catch(B){console.error("Error fetching hotel:",B)}c(!1)}R()},[e]),Le.useEffect(()=>{r.state&&r.state.openBooking&&y(!0)},[r.state]);const C=R=>!s||!s.rooms?[]:s.rooms.filter(B=>B.floor===R),V=R=>C(R).filter(B=>B.status==="available"),Y=R=>C(R).filter(B=>B.status==="occupied"),Z=(R,B)=>C(R).filter(U=>U.type===B).length,ce=(R,B)=>V(R).filter(U=>U.type===B).length;if(l)return v.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:v.jsx("div",{className:"text-2xl text-blue-600 font-bold",children:"Loading hotel details..."})});if(!s)return v.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:v.jsx("div",{className:"text-2xl text-red-600 font-bold",children:"Hotel not found."})});const be=C(d),Re=V(d),W=Y(d);return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",children:[v.jsx(U_,{}),"Back"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s.name}),v.jsxs("p",{className:"text-gray-600 flex items-center gap-1",children:[v.jsx(z_,{className:"text-sm"}),s.location]})]})]}),v.jsx("div",{className:"flex justify-end",children:n&&v.jsxs("button",{onClick:()=>y(!0),disabled:w.length===0,className:`px-6 py-2 rounded-lg font-semibold transition-colors ${w.length>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Book Selected (",w.length,")"]})})]}),v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Select Floor"}),v.jsx("div",{className:"flex gap-2",children:[1,2].map(R=>v.jsxs("button",{onClick:()=>g(R),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${d===R?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Floor ",R]},R))})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Room Availability"}),v.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),v.jsxs("span",{className:"text-sm font-medium",children:["Available (",Re.length,")"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),v.jsxs("span",{className:"text-sm font-medium",children:["Occupied (",W.length,")"]})]}),v.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",be.length," rooms"]})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-blue-800",children:"Rooms"}),v.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ce(d,"Room")}),v.jsxs("p",{className:"text-sm text-blue-600",children:["Available of ",Z(d,"Room")," total"]})]}),v.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-green-800",children:"Dorms"}),v.jsx("p",{className:"text-2xl font-bold text-green-600",children:ce(d,"Dorm")}),v.jsxs("p",{className:"text-sm text-green-600",children:["Available of ",Z(d,"Dorm")," total"]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[v.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Floor ",d," - Select Your Rooms"]}),v.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-4",children:be.map(R=>v.jsx("button",{onClick:()=>{const B=`/hotel/${e}/room/${R.id}`;window.open(B,"_blank","width=1200,height=800,scrollbars=yes,resizable=yes")},disabled:R.status==="occupied",className:`relative p-4 rounded-lg border-2 transition-all ${R.status==="occupied"?"bg-red-100 border-red-300 cursor-not-allowed":w.includes(R.id)?"bg-blue-100 border-blue-500 shadow-md":"bg-green-100 border-green-300 hover:bg-green-200"}`,children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-lg font-bold text-gray-800",children:R.number}),v.jsx("div",{className:"text-sm text-gray-600",children:R.type}),v.jsxs("div",{className:"text-xs text-gray-500",children:["",R.price]}),w.includes(R.id)&&v.jsx("div",{className:"absolute top-1 right-1",children:v.jsx(nc,{className:"text-blue-600 text-lg"})})]})},R.id))})]}),x&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Complete Your Booking"}),v.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Selected Rooms"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(R=>{const B=be.find(U=>U.id===R);return v.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[B?.number," (",B?.type,")"]},R)})})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-gray-600 mb-4",children:"Please complete your booking details in the form below."}),v.jsx("button",{onClick:()=>{y(!1),O(!0)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Continue to Booking Form"})]})]})]})})}),L&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:v.jsx(M_,{hotel:s,onClose:()=>O(!1),user:n,onBookingComplete:()=>{console.log("Booking completed, receipt will handle closing"),b([])},selectedRooms:w})})})]})]})}const lT=()=>{const n=_l(),{room:e,hotel:t}=n.state||{};if(!e||!t)return v.jsx("div",{className:"text-center text-red-600 font-bold text-xl mt-10",children:"Room not found."});const r=e.images&&e.images.length>0?e.images:t.images||[],s=[{label:"Room Only",price:e.price,taxes:Math.round(e.price*.18),offer:"No meals included. Non-Refundable.",special:"Longstay benefits Complimentary One-way Airport Transfer, Complimentary Hi-Tea +more"},{label:"Room with Breakfast",price:e.price+400,taxes:Math.round((e.price+400)*.18),offer:"Breakfast included. Non-Refundable.",special:"Longstay benefits Complimentary One-way Airport Transfer, Complimentary Hi-Tea +more"}];return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex flex-col items-center py-10 px-2",children:v.jsx("div",{className:"w-full max-w-3xl bg-white rounded-2xl shadow-xl p-8",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[v.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.length>0&&v.jsx("img",{src:r[0],alt:e.type+" image",className:"rounded-xl w-full max-w-xs object-cover shadow-md mb-4"}),v.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:[e.type," ",e.number?`- ${e.number}`:""]}),v.jsx("div",{className:"text-gray-500",children:t.name}),v.jsxs("div",{className:"text-gray-500",children:["Floor: ",e.floor," | Type: ",e.type]}),v.jsxs("div",{className:"text-gray-500",children:[e.size?`Size: ${e.size}`:""," ",e.bed?`| Bed: ${e.bed}`:""]}),v.jsxs("ul",{className:"text-gray-600 text-sm mt-2 list-disc list-inside",children:[v.jsx("li",{children:"Free Wi-Fi"}),v.jsx("li",{children:"Air Conditioning"}),v.jsx("li",{children:"Housekeeping"}),v.jsx("li",{children:"Bathroom"}),v.jsx("li",{children:"Mineral Water"})]})]}),v.jsx("div",{className:"flex-1 flex flex-col gap-8",children:s.map((o,l)=>v.jsxs("div",{className:"border rounded-xl p-6 shadow-sm bg-blue-50 mb-4",children:[v.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-2",children:o.label}),v.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[v.jsxs("span",{className:"text-2xl font-bold text-green-700",children:["",o.price]}),v.jsxs("span",{className:"text-gray-500 text-sm",children:["+",o.taxes," Taxes & Fees/night"]})]}),v.jsx("div",{className:"text-green-700 text-xs mb-1",children:o.special}),v.jsx("div",{className:"text-gray-500 text-xs mb-1",children:o.offer}),v.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow transition mt-2",children:"Book Now"})]},l))})]})})})},H_="https://i.postimg.cc/mgT1sj82/goaassembly.jpg";function v5(){const[n,e]=Le.useState(""),[t,r]=Le.useState(""),[s,o]=Le.useState(!1),[l,c]=Le.useState(""),[d,g]=Le.useState(!1),w=Fa();_l();const b=async()=>{c(""),g(!1);try{await m_(),w("/")}catch{c("Invalid credentials"),g(!0)}},x=async y=>{y.preventDefault(),c(""),g(!1);try{await q0(n,t),w("/")}catch{c("Invalid credentials"),g(!0)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-800 via-blue-900 to-slate-900",children:v.jsxs("div",{className:"w-full max-w-4xl bg-slate-900 rounded-3xl shadow-2xl flex flex-col md:flex-row overflow-hidden",children:[v.jsxs("div",{className:"block w-full md:w-1/2 relative h-64 md:h-auto",children:[v.jsx("img",{src:H_,alt:"Scenic Goa Guest House",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/70 to-transparent p-6 md:p-8",children:v.jsx("div",{className:"text-white text-xl md:text-2xl font-bold drop-shadow-lg",children:"Government Guest House Booking"})})]}),v.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 bg-slate-900",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Login to GovStay"}),v.jsxs("div",{className:"text-slate-300 mb-8 text-sm",children:["Don't have an account?"," ",v.jsx(xo,{to:"/signup",className:"text-blue-400 hover:underline",children:"Sign Up"})]}),v.jsxs("button",{className:"w-full mb-6 px-6 py-3 bg-white text-gray-700 font-medium rounded-lg shadow flex items-center justify-center gap-3 border border-gray-300 hover:bg-gray-50 transition",onClick:b,type:"button",children:[v.jsx("span",{className:"bg-white rounded-full p-1 shadow flex items-center justify-center",children:v.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",children:v.jsxs("g",{children:[v.jsx("path",{fill:"#4285F4",d:"M17.64 9.2045c0-.638-.0573-1.252-.1636-1.84H9v3.481h4.844c-.208 1.12-.834 2.07-1.78 2.71v2.254h2.877c1.684-1.553 2.659-3.844 2.659-6.605z"}),v.jsx("path",{fill:"#34A853",d:"M9 18c2.43 0 4.47-.806 5.96-2.188l-2.877-2.254c-.8.537-1.82.857-3.083.857-2.37 0-4.377-1.602-5.096-3.764H.98v2.366C2.47 16.293 5.522 18 9 18z"}),v.jsx("path",{fill:"#FBBC05",d:"M3.904 10.651A5.41 5.41 0 0 1 3.5 9c0-.573.098-1.13.27-1.651V4.983H.98A8.996 8.996 0 0 0 0 9c0 1.418.34 2.754.94 3.933l2.964-2.282z"}),v.jsx("path",{fill:"#EA4335",d:"M9 3.579c1.32 0 2.5.454 3.43 1.346l2.572-2.572C13.47.806 11.43 0 9 0 5.522 0 2.47 1.707.98 4.983l2.964 2.366C4.623 5.181 6.63 3.579 9 3.579z"})]})})}),"Sign in with Google"]}),v.jsxs("div",{className:"flex items-center my-6",children:[v.jsx("div",{className:"flex-1 h-px bg-slate-700"}),v.jsx("span",{className:"mx-4 text-slate-400 text-sm",children:"or"}),v.jsx("div",{className:"flex-1 h-px bg-slate-700"})]}),v.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:x,children:[v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block font-semibold mb-2 text-slate-200",children:"Email"}),v.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full border border-slate-700 bg-slate-800 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-10",value:n,onChange:y=>e(y.target.value),required:!0}),v.jsx("span",{className:"absolute right-3 top-10 text-slate-400",children:v.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M4 4h16v16H4z"}),v.jsx("path",{d:"M22 6l-10 7L2 6"})]})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block font-semibold mb-2 text-slate-200",children:"Password"}),v.jsx("input",{type:s?"text":"password",placeholder:"Enter your password",className:"w-full border border-slate-700 bg-slate-800 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-10",value:t,onChange:y=>r(y.target.value),required:!0}),v.jsx("button",{type:"button",className:"absolute right-3 top-10 text-slate-400 hover:text-blue-400",onClick:()=>o(y=>!y),tabIndex:-1,children:s?v.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),v.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):v.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a21.77 21.77 0 0 1 5.06-7.94M1 1l22 22"})})})]}),v.jsx("div",{className:"flex justify-end mb-2",children:v.jsx(xo,{to:"#",className:"text-blue-400 text-sm hover:underline",children:"Forgot password?"})}),d&&l&&v.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg flex items-center",children:[v.jsx("span",{className:"flex-1 font-semibold",children:l}),v.jsx("button",{className:"ml-4 text-xl font-bold text-red-400 hover:text-red-700 focus:outline-none",onClick:()=>g(!1),"aria-label":"Close error popup",children:""})]}),v.jsx("button",{className:"mt-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 transition text-lg",type:"submit",children:"Login"})]})]})]})})}function uT(){const[n,e]=Le.useState(""),[t,r]=Le.useState(""),[s,o]=Le.useState(""),[l,c]=Le.useState(!1),[d,g]=Le.useState(""),[w,b]=Le.useState(!1),[x,y]=Le.useState(!1),L=Fa(),O=async C=>{C.preventDefault(),g(""),b(!1),y(!1);try{const V=p_(),Y=await uA(V,t,s);await dA(Y.user,{displayName:n}),b(!0),setTimeout(()=>{L("/")},1500)}catch{g("Invalid credentials"),y(!0)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-800 via-blue-900 to-slate-900",children:v.jsxs("div",{className:"w-full max-w-4xl bg-slate-900 rounded-3xl shadow-2xl flex flex-col md:flex-row overflow-hidden",children:[v.jsxs("div",{className:"hidden md:block w-1/2 relative h-full",children:[v.jsx("img",{src:H_,alt:"Scenic Goa Guest House",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/70 to-transparent p-8",children:v.jsx("div",{className:"text-white text-2xl font-bold drop-shadow-lg",children:"Government Guest House Booking"})})]}),v.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 bg-slate-900",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Create an account"}),v.jsxs("div",{className:"text-slate-300 mb-8 text-sm",children:["Already have an account?"," ",v.jsx(xo,{to:"/login",className:"text-blue-400 hover:underline",children:"Log in"})]}),v.jsxs("button",{className:"w-full mb-6 px-6 py-3 bg-white text-gray-700 font-medium rounded-lg shadow flex items-center justify-center gap-3 border border-gray-300 hover:bg-gray-50 transition",onClick:handleGoogle,type:"button",children:[v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:v.jsxs("g",{children:[v.jsx("path",{fill:"#4285F4",d:"M21.805 10.023h-9.765v3.977h5.617c-.242 1.242-1.484 3.648-5.617 3.648-3.375 0-6.125-2.789-6.125-6.148s2.75-6.148 6.125-6.148c1.922 0 3.211.82 3.953 1.523l2.703-2.633c-1.664-1.547-3.828-2.5-6.656-2.5-5.523 0-10 4.477-10 10s4.477 10 10 10c5.742 0 9.547-4.023 9.547-9.703 0-.648-.07-1.148-.156-1.617z"}),v.jsx("path",{fill:"#34A853",d:"M3.545 7.545l3.273 2.402c.891-1.781 2.578-2.949 4.457-2.949 1.219 0 2.297.414 3.148 1.227l2.367-2.305c-1.453-1.352-3.305-2.17-5.515-2.17-3.672 0-6.75 2.484-7.867 5.795z"}),v.jsx("path",{fill:"#FBBC05",d:"M12 22c2.484 0 4.57-.82 6.094-2.227l-2.844-2.32c-.789.555-2.242 1.188-3.25 1.188-2.5 0-4.617-1.68-5.375-3.953l-3.273 2.523c1.453 2.898 4.523 4.789 8.648 4.789z"}),v.jsx("path",{fill:"#EA4335",d:"M21.805 10.023h-9.765v3.977h5.617c-.242 1.242-1.484 3.648-5.617 3.648-3.375 0-6.125-2.789-6.125-6.148s2.75-6.148 6.125-6.148c1.922 0 3.211.82 3.953 1.523l2.703-2.633c-1.664-1.547-3.828-2.5-6.656-2.5-5.523 0-10 4.477-10 10s4.477 10 10 10c5.742 0 9.547-4.023 9.547-9.703 0-.648-.07-1.148-.156-1.617z"})]})}),"Sign up with Google"]}),v.jsxs("div",{className:"flex items-center my-6",children:[v.jsx("div",{className:"flex-1 h-px bg-slate-700"}),v.jsx("span",{className:"mx-4 text-slate-400 text-sm",children:"or"}),v.jsx("div",{className:"flex-1 h-px bg-slate-700"})]}),v.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:O,children:[v.jsxs("div",{children:[v.jsx("label",{className:"block font-semibold mb-2 text-slate-200",children:"Full Name"}),v.jsx("input",{type:"text",placeholder:"Enter your full name",className:"w-full border border-slate-700 bg-slate-800 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n,onChange:C=>e(C.target.value),required:!0})]}),v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block font-semibold mb-2 text-slate-200",children:"Email"}),v.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full border border-slate-700 bg-slate-800 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-10",value:t,onChange:C=>r(C.target.value),required:!0}),v.jsx("span",{className:"absolute right-3 top-10 text-slate-400",children:v.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M4 4h16v16H4z"}),v.jsx("path",{d:"M22 6l-10 7L2 6"})]})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block font-semibold mb-2 text-slate-200",children:"Password"}),v.jsx("input",{type:l?"text":"password",placeholder:"Create a password",className:"w-full border border-slate-700 bg-slate-800 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-10",value:s,onChange:C=>o(C.target.value),required:!0}),v.jsx("button",{type:"button",className:"absolute right-3 top-10 text-slate-400 hover:text-blue-400",onClick:()=>c(C=>!C),tabIndex:-1,children:l?v.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),v.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):v.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a21.77 21.77 0 0 1 5.06-7.94M1 1l22 22"})})})]}),x&&d&&v.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg flex items-center",children:[v.jsx("span",{className:"flex-1 font-semibold",children:d}),v.jsx("button",{className:"ml-4 text-xl font-bold text-red-400 hover:text-red-700 focus:outline-none",onClick:()=>y(!1),"aria-label":"Close error popup",children:""})]}),v.jsx("button",{className:"mt-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 transition text-lg",type:"submit",children:"Sign Up"})]})]})]})})}function cT(){const[n,e]=Le.useState(""),[t,r]=Le.useState(""),[s,o]=Le.useState(""),[l,c]=Le.useState(!1),d=Fa(),g="admin@govstay.goa.gov.in",w=async b=>{b.preventDefault(),c(!0),o("");try{if(n!==g)throw new Error("Unauthorized access. Admin credentials required.");await q0(n,t),d("/admin/dashboard")}catch{o("Invalid credentials")}c(!1)};return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] z-10 relative",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:v.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"})})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Login"}),v.jsx("p",{className:"text-gray-600",children:"Access to GovStay Administration Panel"})]}),s&&v.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:s}),v.jsxs("form",{onSubmit:w,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),v.jsx("input",{type:"email",id:"email",value:n,onChange:b=>e(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter admin email",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password"}),v.jsx("input",{type:"password",id:"password",value:t,onChange:b=>r(b.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter admin password",required:!0})]}),v.jsx("button",{type:"submit",disabled:l,className:"w-full bg-red-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"})}),"Access Admin Panel"]})})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsx("p",{className:"text-sm text-gray-500",children:"For security reasons, only authorized administrators can access this panel."})})]})})}async function y5(n,e){const t=bo(gi,"hotels",n),r=await cc(t);if(!r.exists())return;const o=r.data().rooms.map(l=>e.includes(l.id)?{...l,status:"available"}:l);await k0(t,{rooms:o})}function hT(){const[n,e]=Le.useState([]),[t,r]=Le.useState({}),[s,o]=Le.useState(!0),[l,c]=Le.useState(null),[d,g]=Le.useState(""),[w,b]=Le.useState("all"),[x,y]=Le.useState(""),[L,O]=Le.useState(!1),[C,V]=Le.useState(null),[Y,Z]=Le.useState(null),ce=Fa();Le.useEffect(()=>{be()},[]);const be=async()=>{try{const U=Iw(Tp(gi,"bookings"),SS("createdAt","desc")),j=(await P0(U)).docs.map(Te=>({id:Te.id,...Te.data(),createdAt:Te.data().createdAt?.toDate?.()||new Date}));e(j);const D=Array.from(new Set(j.map(Te=>Te.hotelId).filter(Boolean))),oe={};for(const Te of D){const Ae=await cc(bo(gi,"hotels",Te));Ae.exists()&&(oe[Te]=Ae.data())}r(oe)}catch(U){console.error("Error fetching bookings:",U)}finally{o(!1)}},Re=async U=>{if(window.confirm("Are you sure you want to delete this booking?"))try{const T=n.find(j=>j.id===U);T&&T.hotelId&&T.selectedRooms&&await y5(T.hotelId,T.selectedRooms),await IS(bo(gi,"bookings",U)),e(n.filter(j=>j.id!==U)),alert("Booking deleted successfully")}catch(T){console.error("Error deleting booking:",T),alert("Error deleting booking")}},W=async(U,T)=>{try{const j=n.find(D=>D.id===U);j&&!j.cancelled&&T.cancelled&&await y5(j.hotelId,j.selectedRooms),await k0(bo(gi,"bookings",U),T),e(n.map(D=>D.id===U?{...D,...T}:D)),c(null),alert("Booking updated successfully")}catch(j){console.error("Error updating booking:",j),alert("Error updating booking")}},R=async U=>{try{const T=bo(gi,"hotels",U.hotelId),j=await cc(T);if(j.exists()){const D={id:j.id,...j.data()};V(U),Z(D),O(!0)}}catch(T){console.error("Error fetching hotel data:",T),alert("Error loading receipt")}},B=n.filter(U=>{const T=U.hotelName?.toLowerCase().includes(d.toLowerCase())||U.roomType?.toLowerCase().includes(d.toLowerCase())||U.userName?.toLowerCase().includes(d.toLowerCase())||U.userEmail?.toLowerCase().includes(d.toLowerCase())||U.userId?.toLowerCase().includes(d.toLowerCase())||U.applicantName?.toLowerCase().includes(d.toLowerCase()),j=w==="all"||U.status===w,D=!x||U.checkIn&&new Date(U.checkIn).toISOString().slice(0,10)===x||U.checkOut&&new Date(U.checkOut).toISOString().slice(0,10)===x;return T&&j&&D});return s?v.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:v.jsx("div",{className:"text-2xl text-blue-600 font-bold",children:"Loading admin dashboard..."})}):v.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[L&&C&&Y&&v.jsx(G0,{booking:C,hotel:Y,onClose:()=>{O(!1),V(null),Z(null)}}),v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),v.jsx("p",{className:"text-gray-600",children:"Manage all bookings and reservations"})]}),v.jsx("button",{onClick:()=>ce("/"),className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Site"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[v.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),v.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Bookings"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(U=>!U.cancelled).length})]})]})}),v.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center",children:v.jsxs("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("path",{d:"M12 8v4l2 2",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cancellation Requests"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(U=>U.cancellationRequested&&!U.cancelled).length})]})]})}),v.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Bookings"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(U=>{const T=new Date;return U.createdAt.toDateString()===T.toDateString()}).length})]})]})})]}),v.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[v.jsx("div",{className:"flex-1",children:v.jsx("input",{type:"text",placeholder:"Search by hotel name, room type, guest name, or email...",value:d,onChange:U=>g(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),v.jsx("div",{className:"md:w-48",children:v.jsxs("select",{value:w,onChange:U=>b(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[v.jsx("option",{value:"all",children:"All Bookings"}),v.jsx("option",{value:"active",children:"Active"}),v.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),v.jsx("div",{className:"md:w-56",children:v.jsx("input",{type:"date",value:x,onChange:U=>y(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]})}),v.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Details"}),v.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest Details"}),v.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),v.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(U=>v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.hotelName}),v.jsx("div",{className:"text-sm text-gray-500",children:up(U,t[U.hotelId])}),v.jsxs("div",{className:"text-sm text-gray-500",children:[U.guests," guests"]})]})}),v.jsxs("td",{className:"px-6 py-4",children:[U.applicantName&&v.jsxs("div",{className:"text-sm font-bold text-blue-700",children:["Applicant: ",U.applicantName]}),v.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.userName||"Guest User"}),v.jsx("div",{className:"text-sm text-gray-600",children:U.userEmail}),v.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",U.createdAt.toLocaleDateString()]})]}),v.jsxs("td",{className:"px-6 py-4",children:[v.jsxs("div",{className:"text-sm text-gray-900",children:["Check-in: ",new Date(U.checkIn).toLocaleDateString()]}),v.jsxs("div",{className:"text-sm text-gray-500",children:["Check-out: ",new Date(U.checkOut).toLocaleDateString()]})]}),v.jsxs("td",{className:"px-6 py-4",children:[v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${U.cancelled?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:U.cancelled?"Cancelled":"Active"}),U.cancellationRequested&&!U.cancelled&&v.jsx("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 border border-yellow-300 animate-pulse",children:"Cancellation Requested"})]}),v.jsx("td",{className:"px-6 py-4",children:v.jsxs("div",{className:"flex space-x-2 items-center",children:[v.jsx("button",{onClick:()=>R(U),className:"text-green-600 hover:text-green-900 text-sm font-medium",children:"Receipt"}),v.jsx("button",{onClick:()=>c(U),className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"Edit"}),v.jsx("button",{onClick:()=>Re(U.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Delete"}),U.cancellationRequested&&!U.cancelled&&v.jsxs(v.Fragment,{children:[v.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-green-700 cursor-pointer",children:[v.jsx("input",{type:"checkbox",onChange:async()=>{await W(U.id,{cancelled:!0,cancellationRequested:!1})}})," Approve"]}),v.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-red-700 cursor-pointer",children:[v.jsx("input",{type:"checkbox",onChange:async()=>{await W(U.id,{cancellationRequested:!1})}})," Decline"]})]})]})})]},U.id))})]})})}),l&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Edit Booking"}),v.jsxs("form",{onSubmit:U=>{U.preventDefault();const T=new FormData(U.target);W(l.id,{roomType:T.get("roomType"),guests:parseInt(T.get("guests")),checkIn:T.get("checkIn"),checkOut:T.get("checkOut"),cancelled:T.get("cancelled")==="true"})},children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),v.jsx("input",{type:"text",name:"roomType",defaultValue:l.roomType,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Guests"}),v.jsx("input",{type:"number",name:"guests",defaultValue:l.guests,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),v.jsx("input",{type:"date",name:"checkIn",defaultValue:l.checkIn,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),v.jsx("input",{type:"date",name:"checkOut",defaultValue:l.checkOut,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),v.jsxs("select",{name:"cancelled",defaultValue:l.cancelled?"true":"false",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[v.jsx("option",{value:"false",children:"Active"}),v.jsx("option",{value:"true",children:"Cancelled"})]})]})]}),v.jsxs("div",{className:"flex space-x-3 mt-6",children:[v.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"}),v.jsx("button",{type:"button",onClick:()=>c(null),className:"flex-1 bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})})]})}function dT(){const[n,e]=Le.useState(!1),[t,r]=Le.useState(""),[s,o]=Le.useState({hotels:0,bookings:0,users:0});Le.useEffect(()=>{l()},[]);const l=async()=>{o({hotels:0,bookings:0,users:0})};return v.jsx("div",{className:"max-w-4xl mx-auto p-8",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Database Setup & Management"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[v.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Hotels"}),v.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.hotels}),v.jsx("p",{className:"text-sm text-blue-600",children:"Total Hotels"})]}),v.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[v.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Bookings"}),v.jsx("p",{className:"text-3xl font-bold text-green-600",children:s.bookings}),v.jsx("p",{className:"text-sm text-green-600",children:"Total Bookings"})]}),v.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:[v.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"Users"}),v.jsx("p",{className:"text-3xl font-bold text-purple-600",children:s.users}),v.jsx("p",{className:"text-sm text-purple-600",children:"Total Users"})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[v.jsx("button",{className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg shadow cursor-not-allowed",disabled:!0,children:"Setup Collections (Removed)"}),v.jsx("button",{className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg shadow cursor-not-allowed",disabled:!0,children:"Reset Collections (Removed)"}),v.jsx("button",{className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg shadow cursor-not-allowed",disabled:!0,children:"Seed Rich Data (Removed)"})]}),t&&v.jsx("div",{className:`mt-6 p-4 rounded-lg ${t.includes("")?"bg-green-50 border border-green-200 text-green-800":t.includes("")?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:t}),v.jsxs("div",{className:"mt-8 bg-blue-50 p-6 rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold text-blue-800 mb-4",children:"Database Management"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-blue-700",children:"Sample Data Removed"}),v.jsx("p",{className:"text-sm text-blue-600",children:"All sample data and automatic seeding has been removed. Your database will only contain real user data."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-blue-700",children:"Manual Management"}),v.jsx("p",{className:"text-sm text-blue-600",children:"Use Firebase Console to manually manage your database collections and data."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-blue-700",children:"Data Persistence"}),v.jsx("p",{className:"text-sm text-blue-600",children:"Your real bookings, room status, and user data will persist naturally without automatic resets."})]})]})]})]})})}function fT({bookings:n}){const[e,t]=Le.useState({}),[r,s]=Le.useState(null),[o,l]=Le.useState(null),[c,d]=Le.useState(!1),[g,w]=Le.useState(null),[b,x]=Le.useState(null);Le.useEffect(()=>{async function C(){const V=Array.from(new Set(n.map(Z=>Z.hotelId))),Y={};for(const Z of V){if(!Z)continue;const ce=await cc(bo(gi,"hotels",Z));ce.exists()&&(Y[Z]=ce.data())}t(Y)}n&&n.length>0&&C()},[n]);function y(C){const V=e[C.hotelId];if(!V)return null;const Y=V.rooms.find(B=>B.id===C.selectedRooms[0]);if(!Y)return null;const Z=new Date(C.checkIn),ce=new Date(C.checkOut),be=Math.max(1,Math.round((ce-Z)/(1e3*60*60*24))),Re=Y.price*be*C.selectedRooms.length,W=Re*.18;return Re+W}const L=async C=>{s(C);try{await k0(bo(gi,"bookings",C),{cancellationRequested:!0}),l(C),setTimeout(()=>l(null),2e3)}catch{alert("Failed to request cancellation. Please try again.")}s(null)},O=C=>{const V=e[C.hotelId];V&&(w(C),x(V),d(!0))};return!n||n.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No bookings yet"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Start exploring our guest houses and make your first booking!"}),v.jsx(xo,{to:"/",className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 transition text-lg",children:"Browse Guest Houses"})]}):v.jsxs("div",{className:"max-w-6xl mx-auto",children:[c&&g&&b&&v.jsx(G0,{booking:g,hotel:b,onClose:()=>{d(!1),w(null),x(null)}}),v.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"My Bookings"}),v.jsx("div",{className:"grid gap-6",children:n.map(C=>v.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:C.hotelName}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-base",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M4 21V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v14h-2v-2H6v2H4zm2-4h12V7H6zm2-2v-2h2v2zm4 0v-2h2v2zm4 0v-2h2v2z"})}),v.jsx("span",{className:"font-medium text-gray-700",children:up(C,e[C.hotelId])})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})}),v.jsx("span",{className:"font-medium text-gray-700",children:new Date(C.checkIn).toLocaleDateString()})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})}),v.jsx("span",{className:"font-medium text-gray-700",children:new Date(C.checkOut).toLocaleDateString()})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01 1l-4.7 6.3c-.3.4-.49.9-.49 1.4V20c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"})}),v.jsxs("span",{className:"font-medium text-gray-700",children:[C.guests," Guest",C.guests>1?"s":""]})]})]}),C.createdAt&&v.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Booked on: ",C.createdAt.toDate?C.createdAt.toDate().toLocaleDateString():new Date(C.createdAt).toLocaleDateString()]}),C.guestNames&&Array.isArray(C.guestNames)&&C.guestNames.length>0&&v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Guest List:"}),v.jsx("ul",{className:"list-disc list-inside text-gray-600 text-sm",children:C.guestNames.map((V,Y)=>v.jsx("li",{children:V},Y))})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("span",{className:"font-semibold text-gray-700",children:"Amount:"})," ",y(C)!==null?v.jsxs("span",{children:["",y(C)]}):v.jsx("span",{className:"text-gray-500",children:"(Amount info not available)"})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("button",{className:`px-5 py-2 rounded-full font-semibold shadow transition-colors text-white ${C.cancelled?"bg-gray-400 cursor-not-allowed":C.cancellationRequested?"bg-yellow-500 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,disabled:C.cancelled||C.cancellationRequested||r===C.id,onClick:()=>L(C.id),children:C.cancelled?"Cancelled":C.cancellationRequested?"Cancellation Requested":r===C.id?"Requesting...":"Apply for Cancellation"}),o===C.id&&v.jsx("span",{className:"ml-4 text-green-600 font-semibold",children:"Request sent!"})]})]}),!C.cancelled&&v.jsxs("div",{className:"flex flex-col items-center gap-3",children:[v.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full font-semibold text-sm",children:"Confirmed"}),v.jsx("button",{onClick:()=>O(C),className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg shadow hover:bg-green-700 transition text-sm",children:"View Receipt"}),v.jsx(xo,{to:`/hotel/${C.hotelId}`,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition text-sm",children:"View Hotel"})]})]})},C.id))})]})}function pT(){const n=Le.useRef(null);return Le.useEffect(()=>{if(!n.current)return;const e=new window.IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&r.target.classList.add("opacity-100","translate-y-0")})},{threshold:.1});return n.current.classList.add("opacity-0","translate-y-8"),e.observe(n.current),()=>e.disconnect()},[]),n}function mT(){const n=pT();return v.jsx("footer",{ref:n,className:"mt-16 bg-gradient-to-r from-blue-100 via-pink-100 to-green-100 py-8 px-4 text-center rounded-t-3xl shadow-2xl transition-all duration-700 opacity-0 translate-y-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[v.jsxs("div",{className:"text-lg font-bold text-blue-700 font-serif",children:["Gov Stay  ",new Date().getFullYear()]}),v.jsxs("div",{className:"flex gap-6 justify-center",children:[v.jsx("a",{href:"https://www.facebook.com/officialgoatourism/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-pink-500 transition-colors text-2xl",children:v.jsx(G8,{})}),v.jsx("a",{href:"https://x.com/TourismGoa",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-pink-500 transition-colors text-2xl",children:v.jsx(Q8,{})}),v.jsx("a",{href:"https://www.instagram.com/goatourism/?hl=en",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-pink-500 transition-colors text-2xl",children:v.jsx(K8,{})})]}),v.jsx("div",{className:"text-gray-500 text-sm",children:"Department of Tourism, Government of Goa"})]})})}const w5=[{title:"Goa Bhavan",date:"Established 1980",description:"Goa Bhavan serves as a prestigious guest house for Goan officials and visitors in Delhi. It offers premium accommodation, conference facilities, and a taste of Goan hospitality in the heart of the capital.",color:"bg-blue-500",image:"https://i.postimg.cc/nzs1GG2c/goabhavanpic1.jpg"},{title:"Goa Sadan",date:"Established 1995",description:"Goa Sadan is known for its modern amenities and comfortable stay for government officials and tourists. Located in a prime area, it provides easy access to major landmarks and a serene environment.",color:"bg-pink-500",image:" https://i.postimg.cc/RhyQY6PQ/goaniwas2.jpg"},{title:"Goa Niwas",date:"Established 2005",description:"Goa Niwas is a boutique guest house offering personalized service and vibrant interiors. It is a preferred choice for both official and private visitors seeking a homely atmosphere.",color:"bg-green-500",image:"https://i.postimg.cc/d0YnvCJ5/goaniwas1.jpg"}];function gT(n,e,t){return v.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:v.jsxs("div",{className:"flex items-center text-3xl font-mono text-gray-400 select-none font-bold",children:[v.jsx("span",{children:"<-"}),v.jsx("span",{className:`mx-3 w-8 h-8 ${t} rounded-full border-4 border-white shadow`})]})})}function vT(){const n=Le.useRef([]);return Le.useEffect(()=>{const e=new window.IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&r.target.classList.add("opacity-100","translate-y-0")})},{threshold:.2});return n.current.forEach(t=>{t&&(t.classList.add("opacity-0","translate-y-8"),e.observe(t))}),()=>e.disconnect()},[]),n}function yT(){const n=vT();return v.jsxs("div",{className:"w-full max-w-6xl mx-auto py-14 px-2",children:[v.jsx("h1",{className:"mb-14 text-4xl font-bold text-blue-700 text-center tracking-wide font-serif",style:{fontFamily:"Playfair Display, serif"},children:"Our Accommodations"}),v.jsx("div",{className:"flex flex-col gap-20 w-full",children:w5.map((e,t)=>v.jsxs("div",{ref:r=>n.current[t]=r,className:"flex flex-col md:flex-row items-center w-full gap-6 md:gap-12 group transition-all duration-700 ease-out opacity-0 translate-y-8",children:[v.jsx("div",{className:"flex-1 flex justify-center md:justify-end",children:v.jsx("div",{className:"bg-white rounded-3xl shadow-2xl flex items-center justify-center h-80 w-80 md:w-[380px] md:h-80 overflow-hidden border-2 border-gray-100 transition-transform duration-300 group-hover:scale-105 group-hover:shadow-blue-200 hover:scale-110 hover:shadow-xl",children:v.jsx("img",{src:e.image,alt:e.title,className:"object-cover w-full h-full transition-transform duration-300 hover:scale-105",loading:"lazy"})})}),v.jsx("div",{className:"flex items-center justify-center h-80",children:gT(t,w5.length,e.color)}),v.jsx("div",{className:"flex-1 flex justify-center md:justify-start",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl h-80 w-full max-w-2xl flex flex-col justify-center p-12 border-2 border-gray-100 transition-transform duration-300 group-hover:scale-105 group-hover:shadow-blue-200 hover:scale-105 hover:shadow-xl",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:e.title}),v.jsx("div",{className:"text-base text-gray-500 mb-3",children:e.date}),v.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:e.description})]})})]},e.title))}),v.jsx("style",{children:`
        @media (max-width: 1100px) {
          .w-80, .h-80, .md:w-[380px], .md:h-80 { width: 180px !important; height: 180px !important; }
          .max-w-2xl { max-width: 100% !important; }
        }
        @media (max-width: 768px) {
          .flex-1 { flex: none !important; }
          .w-80, .h-80, .md:w-[380px], .md:h-80 { width: 120px !important; height: 120px !important; }
          .max-w-2xl { max-width: 100% !important; }
          .p-12 { padding: 1.5rem !important; }
        }
      `})]})}const wT=[{title:"How to Book a Room",icon:v.jsx(iT,{className:"text-white"}),color:"bg-blue-500",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:"Search for available guest houses using the search or browse feature."}),v.jsx("li",{children:"Click on a hotel to view details and available rooms."}),v.jsx("li",{children:'Click "Book Now" and fill in the required details.'}),v.jsx("li",{children:'Submit your booking and check your bookings in the "My Bookings" section.'})]})},{title:"Account & Login Help",icon:v.jsx(rT,{className:"text-white"}),color:"bg-green-500",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:"Create an account using Google or your email address."}),v.jsx("li",{children:'Reset your password using the "Forgot password?" link on the login page.'}),v.jsx("li",{children:"If you have trouble logging in, ensure your credentials are correct or contact support."})]})},{title:"Booking Management",icon:v.jsx(J8,{className:"text-yellow-500"}),color:"bg-white border-yellow-400",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:'View all your bookings in the "My Bookings" section.'}),v.jsx("li",{children:"See guest lists, booking details, and amount for each booking."}),v.jsx("li",{children:"Contact support to modify or cancel a booking if needed."})]})},{title:"Payment & Pricing",icon:v.jsx(X8,{className:"text-white"}),color:"bg-pink-500",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:"The total amount is calculated based on room price, number of nights, and number of guests."}),v.jsx("li",{children:"Check the booking details for the exact amount."}),v.jsx("li",{children:"Contact support for payment-related queries."})]})},{title:"Eligibility & Rules",icon:v.jsx(sT,{className:"text-white"}),color:"bg-indigo-500",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:"Government servants and private individuals can book accommodations."}),v.jsx("li",{children:"Provide accurate information and required documents if asked."})]})},{title:"Contact Information",icon:v.jsx(Z8,{className:"text-white"}),color:"bg-red-500",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:"Email: support@govstay.com"}),v.jsx("li",{children:"Phone: 1800-000-0000"}),v.jsx("li",{children:"Support hours: 9:00 AM  6:00 PM (MonSat)"})]})},{title:"Frequently Asked Questions (FAQ)",icon:v.jsx(q_,{className:"text-white"}),color:"bg-cyan-500",content:v.jsxs("ul",{className:"list-disc list-inside",children:[v.jsx("li",{children:"Can I book for someone else? Yes, enter their details in the booking form."}),v.jsx("li",{children:"What if I need to change my dates? Contact support for assistance."}),v.jsx("li",{children:'How do I know my booking is confirmed? You will see a confirmation in "My Bookings".'})]})}];function _T(){const[n,e]=Le.useState(null);return v.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 via-pink-50 to-green-50 py-10 px-2 flex flex-col items-center",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-10 text-center font-serif tracking-wide",children:"Help & Support"}),v.jsx("div",{className:"w-full max-w-2xl space-y-6",children:wT.map((t,r)=>v.jsxs("div",{className:`relative rounded-2xl shadow-lg transition-all duration-300 border-l-8 ${t.color} ${n===r?"bg-white scale-105 shadow-2xl":"bg-white/90 hover:scale-102 hover:shadow-xl"} group`,style:{borderLeftColor:t.color.replace("bg-","").replace("-500","")},children:[v.jsxs("button",{className:"w-full flex items-center gap-4 p-6 focus:outline-none text-left",onClick:()=>e(n===r?null:r),"aria-expanded":n===r,children:[v.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-full ${t.color} shadow-md`,children:t.icon}),v.jsx("span",{className:"text-xl font-semibold text-gray-800 flex-1 font-serif tracking-wide",children:t.title}),v.jsx("svg",{className:`w-6 h-6 ml-2 transition-transform ${n===r?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),v.jsx("div",{className:`overflow-hidden transition-all duration-500 ${n===r?"max-h-96 opacity-100 py-4 px-8":"max-h-0 opacity-0 py-0 px-8"}`,style:{background:n===r?"rgba(245,245,255,0.7)":"transparent"},children:v.jsx("div",{className:"text-gray-700 text-base",children:t.content})})]},r))})]})}jw(fh);const xT=(n,e)=>n.images&&n.images.length>0?n.images:e.images||[],bT=n=>[{label:"Room Only",price:n.price,taxes:Math.round(n.price*.18),offer:"No meals included. Non-Refundable.",special:"Longstay benefits Complimentary One-way Airport Transfer, Complimentary Hi-Tea +more"},{label:"Room with Breakfast",price:n.price+400,taxes:Math.round((n.price+400)*.18),offer:"Breakfast included. Non-Refundable.",special:"Longstay benefits Complimentary One-way Airport Transfer, Complimentary Hi-Tea +more"}];function NT({user:n}){const{id:e,roomId:t}=zg(),r=Fa(),[s,o]=Le.useState(null),[l,c]=Le.useState(null),[d,g]=Le.useState(!0);if(Le.useEffect(()=>{async function y(){try{const L=bo(gi,"hotels",e),O=await cc(L);if(O.exists()){const C={id:O.id,...O.data()};o(C);const V=C.rooms.find(Y=>Y.id===t);V?c(V):console.error("Room not found")}else console.error("Hotel not found")}catch(L){console.error("Error fetching data:",L)}g(!1)}y()},[e,t]),d)return v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsx("div",{className:"text-2xl text-blue-600 font-bold",children:"Loading room details..."})});if(!s||!l)return v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsx("div",{className:"text-2xl text-red-600 font-bold",children:"Room not found."})});const w=xT(l,s),b=bT(l),x=y=>{r(`/hotel/${e}/book`,{state:{selectedRooms:[l.id],openBooking:!0}})};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:v.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[v.jsx(U_,{}),"Back"]})})}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:v.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:v.jsxs("div",{className:"flex flex-col lg:flex-row",children:[v.jsx("div",{className:"lg:w-1/2 p-8",children:v.jsxs("div",{className:"space-y-4",children:[w.length>0&&v.jsx("img",{src:w[0],alt:`${l.type} ${l.number} image`,className:"w-full h-80 object-cover rounded-lg shadow-lg"}),w.length>1&&v.jsx("div",{className:"flex gap-2 overflow-x-auto",children:w.slice(1).map((y,L)=>v.jsx("img",{src:y,alt:`${l.type} ${l.number} gallery ${L+2}`,className:"w-20 h-16 object-cover rounded border flex-shrink-0"},L))})]})}),v.jsx("div",{className:"lg:w-1/2 p-8 bg-gray-50",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[l.type," ",l.number?`- ${l.number}`:""]}),v.jsx("div",{className:"text-xl text-gray-600 mb-2",children:s.name}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-700 mb-4",children:[l.size&&v.jsxs("span",{children:["Size: ",l.size]}),l.bed&&v.jsxs("span",{children:["Bed: ",l.bed]}),v.jsxs("span",{children:["Floor: ",l.floor]}),v.jsxs("span",{children:["Type: ",l.type]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500 mb-4",children:[v.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[v.jsx(nc,{className:"text-blue-400"})," Free Wi-Fi"]}),v.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[v.jsx(nc,{className:"text-blue-400"})," Air Conditioning"]}),v.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[v.jsx(nc,{className:"text-blue-400"})," Housekeeping"]}),v.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[v.jsx(nc,{className:"text-blue-400"})," Bathroom"]}),v.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[v.jsx(nc,{className:"text-blue-400"})," Mineral Water"]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Booking Options"}),b.map((y,L)=>v.jsx("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-lg font-bold text-gray-800 mb-2",children:y.label}),v.jsxs("div",{className:"text-blue-700 font-bold text-3xl mb-2",children:["",y.price]}),v.jsxs("div",{className:"text-gray-600 text-sm mb-2",children:["+",y.taxes," Taxes & Fees per night"]}),v.jsx("div",{className:"text-green-700 text-sm mb-2",children:y.special}),v.jsx("div",{className:"text-gray-500 text-sm",children:y.offer})]}),v.jsx("button",{className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition-colors text-lg whitespace-nowrap",onClick:()=>x(),children:"Book Now"})]})},L))]})]})})]})})})]})}function ST(){const[n,e]=Le.useState(null),[t,r]=Le.useState([]),[s,o]=Le.useState(!1),l=Le.useRef(null),c=Fa(),d=_l(),[g,w]=Le.useState(!1);Le.useEffect(()=>{const y=g_(async L=>{if(e(L),L)if(o(L.email==="admin@govstay.goa.gov.in"),L.email!=="admin@govstay.goa.gov.in"){const O=Iw(Tp(gi,"bookings"),NS("userId","==",L.uid)),C=await P0(O);r(C.docs.map(V=>({id:V.id,...V.data()})))}else r([]);else r([]),o(!1)});return()=>y()},[]);const b=y=>{y.preventDefault(),d.pathname!=="/"?(w(!0),c("/")):l.current&&l.current.scrollIntoView({behavior:"smooth"})};Le.useEffect(()=>{g&&d.pathname==="/"&&(w(!1),setTimeout(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth"})},100))},[g,d.pathname]);const x=/^\/hotel\/[^/]+\/book$/.test(d.pathname);return v.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[!x&&v.jsxs("header",{className:"w-full bg-white border-b border-gray-200 py-4 px-8 flex items-center justify-between shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:"/government-of-goa-logo.png",alt:"Government of Goa Official Logo",className:"h-12 w-auto object-contain"}),v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"Gov"}),v.jsx("span",{className:"text-2xl font-bold text-gray-700",children:"Stay"})]}),v.jsx("span",{className:"text-sm text-gray-500",children:"Government Guest Houses"})]})]}),v.jsxs("nav",{className:"flex items-center gap-8 bg-gray-50 px-6 py-2 rounded-full border border-gray-200 shadow-sm",children:[v.jsxs("a",{href:"#hotels",onClick:b,className:"flex items-center gap-2 text-gray-700 font-semibold hover:text-red-600 transition-colors cursor-pointer",children:[v.jsx(eT,{className:"text-lg"})," Accommodations"]}),v.jsxs(xo,{to:"/info",className:"flex items-center gap-2 text-gray-700 font-semibold hover:text-red-600 transition-colors",children:[v.jsx(tT,{className:"text-lg"})," Info"]}),v.jsxs(xo,{to:"/help",className:"flex items-center gap-2 text-gray-700 font-semibold hover:text-red-600 transition-colors",children:[v.jsx(q_,{className:"text-lg"})," Help"]}),n&&!s&&v.jsx(xo,{to:"/bookings",className:"text-gray-700 font-medium hover:text-blue-600 transition-colors",children:"My Bookings"}),s&&v.jsx(xo,{to:"/admin/dashboard",className:"text-red-600 font-medium hover:text-red-700 transition-colors",children:"Admin Dashboard"})]}),v.jsx("div",{className:"flex items-center gap-3",children:n?v.jsxs(v.Fragment,{children:[s&&v.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Admin"}),v.jsxs("button",{onClick:async()=>{await Ff(()=>Promise.resolve().then(()=>RI),void 0).then(y=>y.logout())},className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-full shadow hover:bg-blue-700 transition flex items-center gap-2",children:[v.jsxs("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M16 13v-2H7V8l-5 4 5 4v-3z"}),v.jsx("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v4h2V5h16v14H4v-4H2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})]}),"Sign Out"]})]}):v.jsxs(v.Fragment,{children:[v.jsxs(xo,{to:"/login",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-full shadow hover:bg-blue-700 transition flex items-center gap-2",children:[v.jsx("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),"Login"]}),v.jsxs(xo,{to:"/admin/login",className:"px-6 py-2 bg-red-600 text-white font-semibold rounded-full shadow hover:bg-red-700 transition flex items-center gap-2",children:[v.jsx("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"})}),"Admin"]})]})})]}),v.jsx("div",{className:"flex-1 w-full",children:v.jsx("main",{className:"w-full max-w-7xl mx-auto px-4 py-8",children:v.jsxs(Ax,{children:[v.jsx(Ss,{path:"/",element:v.jsx(jI,{ref:l})}),v.jsx(Ss,{path:"/hotel/:id",element:v.jsx(oT,{user:n})}),v.jsx(Ss,{path:"/hotel/:id/book",element:v.jsx(aT,{user:n})}),v.jsx(Ss,{path:"/hotel/:id/room/:roomId",element:v.jsx(NT,{user:n})}),v.jsx(Ss,{path:"/hotel/:id/room/:roomId/pricing",element:v.jsx(lT,{})}),v.jsx(Ss,{path:"/login",element:v.jsx(v5,{})}),v.jsx(Ss,{path:"/signup",element:v.jsx(uT,{})}),v.jsx(Ss,{path:"/admin/login",element:v.jsx(cT,{})}),v.jsx(Ss,{path:"/admin/dashboard",element:s?v.jsx(hT,{}):v.jsx(v5,{})}),v.jsx(Ss,{path:"/admin/setup",element:v.jsx(dT,{})}),v.jsx(Ss,{path:"/bookings",element:v.jsx(fT,{bookings:t})}),v.jsx(Ss,{path:"/info",element:v.jsx(yT,{})}),v.jsx(Ss,{path:"/help",element:v.jsx(_T,{})})]})})}),!x&&v.jsx(mT,{})]})}L4.createRoot(document.getElementById("root")).render(v.jsx(Ui.StrictMode,{children:v.jsx(Lx,{children:v.jsx(ST,{})})}));export{kn as _,ET as c,_5 as g};
